var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},easy;!function(t){var e=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._isAddedToStage=!1,i._top=0,i._topEnabled=!1,i._left=0,i._leftEnabled=!1,i._bottom=0,i._bottomEnabled=!1,i._right=0,i._rightEnabled=!1,i._horizontalEnabled=!1,i._horizontalCenter=0,i._verticalEnabled=!1,i._verticalCenter=0,i._registryPointEnabled=!1,i._registryOffsetX=0,i._registryOffsetY=0,i._data=null,i._enabled=!0,i._anchorEnabled=!1,i._anchorX=0,i._anchorY=0,i._hasInvalidatePosition=!1,i._drawDelay=!1,i._hasInvalidate=!1,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onFirstAddToStage,i),i._drawDelay=e,i}return __extends(e,t),e.prototype.onFirstAddToStage=function(t){this._isAddedToStage=!0,this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onFirstAddToStage,this),this.createChildren(),this.initData()},e.prototype.initData=function(){},e.prototype.createChildren=function(){this.touchEnabled=!1,0==this.width&&(this.width=100),0==this.height&&(this.height=100)},Object.defineProperty(e.prototype,"width",{get:function(){return this.$getWidth()},set:function(e){e>0&&(t.prototype.$setWidth.call(this,e),0!=this._anchorX&&(this.anchorOffsetX=e*this._anchorX),this.onInvalidatePosition(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.$getHeight()},set:function(e){e>0&&(t.prototype.$setHeight.call(this,e),0!=this._anchorY&&(this.anchorOffsetY=e*this._anchorY),this.onInvalidatePosition(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.move=function(t,e){this.x=t,this.y=e},e.prototype.setSize=function(t,e){(this.width!=t||this.height!=e)&&(this.width=t,this.height=e)},Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(t){this._top!=t&&(this._top=t,this._topEnabled&&this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topEnabled",{get:function(){return this._topEnabled},set:function(t){this._topEnabled=t,this.onInvalidatePosition()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left!=t&&(this._left=t,this._leftEnabled&&this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftEnabled",{get:function(){return this._leftEnabled},set:function(t){this._leftEnabled=t,this.onInvalidatePosition()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._bottom},set:function(t){this._bottom!=t&&(this._bottom=t,this._bottomEnabled&&this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomEnabled",{get:function(){return this._bottomEnabled},set:function(t){this._bottomEnabled=t,this.onInvalidatePosition()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right!=t&&(this._right=t,this._rightEnabled&&this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightEnabled",{get:function(){return this._rightEnabled},set:function(t){this._rightEnabled=t,this.onInvalidatePosition()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalEnabled",{get:function(){return this._horizontalEnabled},set:function(t){this._horizontalEnabled=t,this.onInvalidatePosition()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalCenter",{get:function(){return this._horizontalCenter},set:function(t){this._horizontalCenter!=t&&(this._horizontalCenter=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalEnabled",{get:function(){return this._verticalEnabled},set:function(t){this._verticalEnabled!=t&&(this._verticalEnabled=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalCenter",{get:function(){return this._verticalCenter},set:function(t){this._verticalCenter!=t&&(this._verticalCenter=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"registryPointEnabled",{get:function(){return this._registryPointEnabled},set:function(t){this._registryPointEnabled!=t&&(this._registryPointEnabled=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),e.prototype.onInvalidatePosition=function(){if(!this._hasInvalidatePosition){this._hasInvalidatePosition=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.resetPosition,this);for(var t=0;t<this.numChildren;t++)this.getChildAt(t)instanceof e&&this.getChildAt(t).onInvalidatePosition()}},e.prototype.resetPosition=function(){var t=this.parent;if(null!=t){var i=t.width,a=t.height,r=this.width,n=this.height;(0/0==i||void 0==i)&&(i=t.width,(0/0==i||void 0==i)&&(i=t.measuredWidth),(0/0==i||void 0==i)&&(i=0)),(0/0==a||void 0==a)&&(a=t.height,(0/0==a||void 0==a)&&(a=t.measuredHeight),(0/0==a||void 0==a)&&(a=0)),(0/0==r||void 0==r)&&(r=this.width,(0/0==r||void 0==r)&&(r=this.measuredWidth),(0/0==r||void 0==r)&&(r=0)),(0/0==n||void 0==n)&&(n=this.height,(0/0==n||void 0==n)&&(n=this.measuredHeight),(0/0==n||void 0==n)&&(r=0));var s=!1,o=!1;if(this._topEnabled&&!this._bottomEnabled)this.y=this._top;else if(this._bottomEnabled&&!this._topEnabled)this.y=a-this._bottom-n;else if(this._topEnabled&&this._bottomEnabled&&(this.y=this._top,n=a-this._top-this._bottom,this.height!=n)){this.height=n;for(var h=0;h<this.numChildren;h++)this.getChildAt(h)instanceof e&&this.getChildAt(h).onInvalidatePosition();s=!0}if(this._leftEnabled&&!this._rightEnabled)this.x=this._left;else if(this._rightEnabled&&!this._leftEnabled)this.x=i-this._right-r;else if(this._leftEnabled&&this._rightEnabled&&(this.x=this._left,r=i-this._left-this._right,this.width!=r)){this.width=r;for(var h=0;h<this.numChildren;h++)this.getChildAt(h)instanceof e&&this.getChildAt(h).onInvalidatePosition();o=!0}this._horizontalEnabled&&!o&&(this.x=(i-r)/2+this._horizontalCenter),this._verticalEnabled&&!s&&(this.y=(a-n)/2+this._verticalCenter),this._registryPointEnabled&&(this.x=i/2+this._registryOffsetX,this.y=a/2+this._registryOffsetY),this._anchorEnabled&&(this.anchorOffsetX=this._anchorX*this.width,this.anchorOffsetY=this._anchorY*this.height)}this.removeEventListener(egret.Event.ENTER_FRAME,this.resetPosition,this),this._hasInvalidatePosition=!1},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),e.prototype.clean=function(){},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cx",{get:function(){return this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this.height/2},enumerable:!0,configurable:!0}),e.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},e.prototype.getGlobalXY=function(){var t=new egret.Point(0,0);return this.localToGlobal(t.x,t.y,t),t},Object.defineProperty(e.prototype,"actualWidth",{get:function(){return this.width*this.scaleX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualHeight",{get:function(){return this.height*this.scaleX},enumerable:!0,configurable:!0}),e.prototype.getRegPoint=function(){var t=new egret.Point(0,0);return 0!=this.anchorOffsetX&&(t.x=this.anchorOffsetX),0!=this.anchorOffsetX&&(t.y=this.anchorOffsetY),t},e.prototype.invalidate=function(){this._hasInvalidate||this._drawDelay||(this.addEventListener(egret.Event.ENTER_FRAME,this.onInvalidate,this),this._hasInvalidate=!0)},e.prototype.onInvalidate=function(t){this.draw(),this.removeEventListener(egret.Event.ENTER_FRAME,this.onInvalidate,this),this._hasInvalidate=!1},e.prototype.draw=function(){},e.prototype._setDrawDelay=function(t){this._drawDelay=t,this._drawDelay?(this.removeEventListener(egret.Event.ENTER_FRAME,this.onInvalidate,this),this._hasInvalidate=!1):this.invalidate()},Object.defineProperty(e.prototype,"drawDelay",{get:function(){return this._drawDelay},set:function(t){this._drawDelay=t,this._drawDelay?(this.removeEventListener(egret.Event.ENTER_FRAME,this.onInvalidate,this),this._hasInvalidate=!1):this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAddedToStage",{get:function(){return this._isAddedToStage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX!=t&&(this._anchorX=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY!=t&&(this._anchorY=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorEnabled",{get:function(){return this._anchorEnabled},set:function(t){this._anchorEnabled!=t&&(this._anchorEnabled=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"registryOffsetX",{get:function(){return this._registryOffsetX},set:function(t){this._registryOffsetX!=t&&(this._registryOffsetX=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"registryOffsetY",{get:function(){return this._registryOffsetY},set:function(t){this._registryOffsetY!=t&&(this._registryOffsetY=t,this.onInvalidatePosition())},enumerable:!0,configurable:!0}),e}(egret.DisplayObjectContainer);t.BaseGroup=e,__reflect(e.prototype,"easy.BaseGroup")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(t){void 0===t&&(t=!1);var i=e.call(this,t)||this;return i._showBg=!0,i._bgColor=13421772,i._bgImage=null,i._bgTexture=null,i._scale9GridEnable=!1,i._scale9GridRect=null,i._fillMode="scale",i._border=!0,i._clip=!1,i._touchNonePixel=!1,i}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this)},Object.defineProperty(i.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor!=t&&this._showBg&&(this._bgColor=t,this._bgTexture=null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){this._fillMode!=t&&(this._fillMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showBg",{get:function(){return this._showBg},set:function(t){this._showBg!=t&&(this._showBg=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clip",{get:function(){return this._clip},set:function(t){t!=this._clip&&(this._clip=t,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.draw=function(){if(0!=this.width&&0!=this.height){if(e.prototype.draw.call(this),this._clip){var i=t.ObjectPool.getByClass(egret.Rectangle);this.scrollRect&&(t.ObjectPool.recycleClass(this.scrollRect),this.scrollRect=null),i.width=this.width,i.height=this.height,i.x=0,i.y=0,this.scrollRect=i}else this.scrollRect=null;this._showBg||this._touchNonePixel&&this.touchEnabled?(this.addDefaultSkin(),this._bgImage&&(this._bgImage.visible=!0,this._touchNonePixel&&!this._showBg?this._bgImage.alpha=0:this._bgImage.alpha=1)):this._bgImage&&(this._bgImage.visible=!1,this._bgImage.parent&&this._bgImage.parent.removeChild(this._bgImage))}},i.prototype.addDefaultSkin=function(){if(this.width>0&&this.height>0)if(null==this._bgImage&&(this._bgImage=new egret.Bitmap),null==this._bgTexture){this._bgImage.fillMode=egret.BitmapFillMode.SCALE;var t=new egret.Shape;t.width=this.width,t.height=this.height,t.graphics.beginFill(this._bgColor,1),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),this._border&&(t.graphics.lineStyle(1,65280,1),t.graphics.drawRect(0,0,this.width,this.height));var e=new egret.RenderTexture;e.drawToTexture(t),this._bgTexture=e,this._bgImage.texture=this._bgTexture}else this._bgImage.texture=this._bgTexture;this._bgImage&&(this._showBg||this._touchNonePixel&&this.touchEnabled)&&(this._bgImage.parent||this.addChildAt(this._bgImage,0),this._scale9GridEnable&&(this._bgImage.scale9Grid=this._scale9GridRect),this._bgImage.width=this.width,this._bgImage.height=this.height,this._bgImage.fillMode=this._fillMode)},Object.defineProperty(i.prototype,"border",{get:function(){return this._border},set:function(t){this._border!=t&&(this._border=t,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.getDefaultSkin=function(){return this._bgImage},Object.defineProperty(i.prototype,"bgTexture",{get:function(){return this._bgTexture},set:function(t){this._bgTexture!=t&&(this._bgTexture=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"touchNonePixel",{get:function(){return this._touchNonePixel},set:function(t){t!=this._touchNonePixel&&(this._touchNonePixel=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridEnable",{get:function(){return this._scale9GridEnable},set:function(t){this._scale9GridEnable!=t&&(this._scale9GridEnable=t,this._scale9GridEnable&&null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle,this._scale9GridRect.x=1,this._scale9GridRect.y=1,this._scale9GridRect.width=1,this._scale9GridRect.height=1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridX",{get:function(){return this._scale9GridRect?this._scale9GridRect.x:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle,this._scale9GridRect.x=1,this._scale9GridRect.y=1,this._scale9GridRect.width=1,this._scale9GridRect.height=1),this._scale9GridRect.x!=t&&(this._scale9GridRect.x=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridY",{get:function(){return this._scale9GridRect?this._scale9GridRect.y:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle,this._scale9GridRect.x=1,this._scale9GridRect.y=1,this._scale9GridRect.width=1,this._scale9GridRect.height=1),this._scale9GridRect.y!=t&&(this._scale9GridRect.y=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridWidth",{get:function(){return this._scale9GridRect?this._scale9GridRect.width:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle,this._scale9GridRect.x=1,this._scale9GridRect.y=1,this._scale9GridRect.width=1,this._scale9GridRect.height=1),this._scale9GridRect.width!=t&&(this._scale9GridRect.width=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridHeight",{get:function(){return this._scale9GridRect?this._scale9GridRect.height:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle,this._scale9GridRect.x=1,this._scale9GridRect.y=1,this._scale9GridRect.width=1,this._scale9GridRect.height=1),this._scale9GridRect.height!=t&&(this._scale9GridRect.height=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridRect",{get:function(){return this._scale9GridRect},set:function(t){this._scale9GridRect=t},enumerable:!0,configurable:!0}),i}(t.BaseGroup);t.Group=e,__reflect(e.prototype,"easy.Group")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(t){void 0===t&&(t=!1);var i=e.call(this,t)||this;return i._ui=null,i._uiResReady=!1,i._viewResDowloaded=!1,i.showLoading=!0,i._resUIFileArr=null,i._resUIGroup=null,i._progressCalculate=null,i}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.showBg=!1},i.prototype.initData=function(){this.validateNow()},i.prototype.setProgress=function(t,e){},i.prototype.enter=function(){this.parent||(t.ViewManager.mainContainer?t.ViewManager.mainContainer.addChild(this):t.GlobalSetting.STAGE.addChild(this)),this.visible=this.showLoading,this.enterTransition(),this._viewResDowloaded=!1,this._resUIFileArr&&(this._resUIFileArr.length=0),this._resUIGroup&&(this._resUIGroup.length=0),this.parent&&(this.x=t.GlobalSetting.DISPLAY_WIDTH/2-this.cx,this.y=t.GlobalSetting.DISPLAY_HEIGHT/2-this.cy),this._data&&this.fireUIDownloading()},i.prototype.enterTransition=function(){this.alpha=0,egret.Tween.get(this).to({alpha:1},500).call(this.enterTransitionComplete,this)},i.prototype.enterTransitionComplete=function(){},i.prototype.outer=function(){this.outerTransition()},i.prototype.outerTransition=function(){egret.Tween.get(this).to({alpha:.5},300).call(this.outerTransitionComplete,this).to({alpha:0},200)},i.prototype.outerTransitionComplete=function(){this._data&&(this._data instanceof t.View?t.ViewManager.waitViewDoEnter():this._data instanceof t.Win&&t.PopupManager.waitWinDoEnter()),this._data=null,this.removeFromParent()},i.prototype.getUI=function(){return this._ui},i.prototype.setUI=function(t){this._ui=t,this._ui&&(this.addChild(this._ui),this.setSize(this._ui.width,this._ui.height)),this.showBg=!1},i.prototype.validateNow=function(){this.drawDelay=!1,this._ui&&this._ui.validateNow&&this._ui.validateNow(),this._ui&&(this._ui.drawDelay=!1),this.resetPosition();for(var e=0;e<this.numChildren;e++)this.getChildAt(e)instanceof t.BaseGroup&&this.getChildAt(e).resetPosition()},i.prototype.fireUIDownloading=function(){if(this._data&&this._data._ui&&this._data._ui.hasOwnProperty("resSpriteSheet")&&this._data._ui.hasOwnProperty("resFiles")){if(this._resUIFileArr=[].concat(this._data._ui.resFiles),this._resUIFileArr&&this._resUIFileArr.length>0){if(this._data._ui.hasOwnProperty("resGroup")){this._resUIGroup=[].concat(this._data._ui.resGroup);for(var e=!0,i=0;i<this._resUIGroup.length;i++)if(!RES.isGroupLoaded(this._resUIGroup[i])){e=!1;break}if(e)return this._viewResDowloaded=!0,this._progressCalculate&&this._progressCalculate.reset(),void t.HeartBeat.addListener(this,this.onHbProgress,2)}t.ResManager.loadGroups(this._resUIGroup,this.onUIResourceLoadComplete,this,!0);for(var i=0;i<this._resUIFileArr.length;i++)t.ResManager.loadConfig(t.GlobalSetting.CDN_RES+"assets/ui/"+this._resUIFileArr[i]);return this._progressCalculate&&this._progressCalculate.reset(),t.HeartBeat.addListener(this,this.onHbProgress,2),!1}}else this._viewResDowloaded=!0,this._progressCalculate&&this._progressCalculate.reset(),t.HeartBeat.addListener(this,this.onHbProgress,2);return!0},i.prototype.onUIResourceLoadComplete=function(t){for(var e=!0,i=0;i<this._resUIGroup.length;i++)if(!RES.isGroupLoaded(this._resUIGroup[i])){e=!1;break}e&&(this._resUIGroup.length=0,this._resUIFileArr.length=0,this._viewResDowloaded=!0)},i.prototype.onHbProgress=function(){null==this._progressCalculate&&(this._progressCalculate=new t.ProgressCalculate),this._viewResDowloaded&&(this._progressCalculate._progressSpeedUp=this._viewResDowloaded);var e=this._progressCalculate.progress();this.setProgress(e,100),e>=100&&(this._data&&this._data.validateNow&&this._data.validateNow(),t.HeartBeat.removeListener(this,this.onHbProgress),this.outer())},i}(t.Group);t.LoadingBaseUI=e,__reflect(e.prototype,"easy.LoadingBaseUI")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.METHOD_DEF={},t._ui=null,t._uiResReady=!1,t._isValidateNow=!1,t.showLoading=!0,t._forceValidateNow=!1,t._loadingUIClz=null,t._currentLoading=null,t.enterCompleted=!1,t._enterEffect=null,t._idleLoadedGroupCount=0,t._isIdleDownload=!1,t.initWeekListener(),t}return __extends(i,e),i.prototype.onFirstAddToStage=function(t){e.prototype.onFirstAddToStage.call(this,t),this.drawDelay=!0},i.prototype.initWeekListener=function(){},i.prototype.addHandleEvent=function(e,i){t.MessageControler.addEvent(e),this.METHOD_DEF[e]=i},i.prototype.addHandlePacket=function(t,e){this.METHOD_DEF[""+t]=e},i.prototype.receivePacket=function(e){if(this._ui)for(var i in this._ui)0==i.indexOf("$")||"__class__"==i||"hashCode"==i||"__types__"==i||"__proto__"==i||this._ui[i]instanceof Function||this._ui[i]instanceof t.Template&&this._ui[i]!=this&&this._ui[i].parent&&this._ui[i].receivePacket(e);this.METHOD_DEF[""+e.header.messageId]&&this[this.METHOD_DEF[e.header.messageId]]&&this[this.METHOD_DEF[""+e.header.messageId]].call(this,e)},i.prototype.receiveEvent=function(e){if(this._ui)for(var i in this._ui)0==i.indexOf("$")||"__class__"==i||"hashCode"==i||"__types__"==i||"__proto__"==i||this._ui[i]instanceof Function||(this._ui[i]instanceof t.Template||this._ui[i]instanceof t.List||this._ui[i]instanceof t.ListAd)&&this._ui[i]!=this&&this._ui[i].parent&&this._ui[i].receiveEvent(e);this.METHOD_DEF[e.type]&&this[this.METHOD_DEF[e.type]]&&this[this.METHOD_DEF[e.type]].call(this,e)},i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.drawDelay=!0,this.touchEnabled=!0,this.showBg=!1,this.addHandleEvent(t.EventType.RESOURCE_DOWNLOADED,"onMyEventResDownloaded"),this._uiResReady&&!this._isValidateNow&&this.validateNow()},i.prototype.enter=function(){if(this._currentLoading,this._uiResReady&&!this._isValidateNow&&this.validateNow(),this._ui){this._ui.enter&&this._ui.enter();for(var e in this._ui)this._ui[e]instanceof t.Template&&this._ui[e]!=this&&this._ui[e].parent&&this._ui[e].enter()}this.enterTransition()},i.prototype.enterTransition=function(){this.enterCompleted=!1,this._enterEffect?this._enterEffect.play():this.enterTransitionComplete()},i.prototype.enterTransitionComplete=function(){},i.prototype.outer=function(){if(this._ui){this._ui.outer&&this._ui.outer();for(var e in this._ui)this._ui[e]instanceof t.Template&&this._ui[e]!=this&&this._ui[e].outer()}this.outerTransition()},i.prototype.outerTransition=function(){this.outerTransitionComplete()},i.prototype.outerTransitionComplete=function(){this.removeFromParent()},i.prototype.getUI=function(){return this._ui},i.prototype.setUI=function(t){this._ui=t,this._ui&&(this.addChild(this._ui),this.setSize(this._ui.width,this._ui.height)),this.showBg=!1},i.prototype.destroy=function(){this._ui&&(this._ui=null)},i.prototype.checkResReady=function(){return!this._uiResReady&&this._ui&&this._ui.resFiles?""==this._ui.resSpriteSheet&&0==this._ui.resFiles.length?(this.validateNow(),!0):this._loadingUIClz?(this._currentLoading=t.ObjectPool.getByClass(this._loadingUIClz,"loading"),this._currentLoading._data=this,this._currentLoading.showLoading=this.showLoading,this._currentLoading.enter(),!1):!0:(this._forceValidateNow&&this.validateNow(),!0)},i.prototype.validateNow=function(){this.drawDelay=!1,this._isValidateNow=!0,this._ui&&this._ui.validateNow&&this._ui.validateNow(),this._ui&&(this._ui.drawDelay=!1)},i.prototype.idleDownload=function(){if(!this._isIdleDownload)if(!this._uiResReady&&this._ui&&this._ui.hasOwnProperty("resFiles")&&this._ui.resFiles.length>0){this._idleLoadedGroupCount=0,this._isIdleDownload=!0;for(var e=this._ui.resFiles,i=0;i<e.length;i++)t.ResManager.loadConfig(t.GlobalSetting.CDN_RES+"assets/ui/"+e[i]);this._ui.hasOwnProperty("resGroup")&&this._ui.resGroup.length>0&&(e=[].concat(this._ui.resGroup),t.ResManager.loadGroups(e,this.onLoadingResourceGroupComplete,this))}else this._uiResReady=!0},i.prototype.onLoadingResourceGroupComplete=function(t){if(!this._uiResReady&&this._ui&&this._ui.hasOwnProperty("resGroup")&&this._ui.resGroup.length>0){for(var e=!0,i=0;i<this._ui.resGroup.length;i++)if(!RES.isGroupLoaded(this._ui.resGroup[i])){e=!1;break}e&&(this._uiResReady=!0,this._forceValidateNow=!0)}},i.prototype.onStageResize=function(){if(this._ui){this.onInvalidatePosition();for(var e in this._ui)this._ui[e]instanceof t.Template&&this._ui[e]!=this&&this._ui[e].onStageResize()}},i}(t.Group);t.ReceiveGroup=e,__reflect(e.prototype,"easy.ReceiveGroup")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){this._outerTarget=null,this._enterTarget=null}return e.prototype.play=function(){this._enterTarget=t.ViewManager._waitChangeView,this._outerTarget=t.ViewManager.currentView,this._enterTarget==this._outerTarget&&(this._outerTarget=null),this.onPlayEffect()},e.prototype.onPlayEffect=function(){this._outerTarget&&this._outerTarget.outerTransition(),this._enterTarget&&this._enterTarget.enterTransition()},e.prototype.onEffectComplete=function(){this._outerTarget&&this._outerTarget.outerTransitionComplete(),this._enterTarget&&this._enterTarget.enterTransitionComplete(),this._outerTarget=null,this._enterTarget=null},e}();t.BaseEffect=e,__reflect(e.prototype,"easy.BaseEffect",["easy.IEffect"])}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._scene=null,i._loadingUIClz=t.ViewManager.defaultLoadingClass,i}return __extends(i,e),i.prototype.enter=function(){e.prototype.enter.call(this);var i=egret.getQualifiedClassName(this),a=t.MyEvent.getEvent(t.EventType.VIEW_ENTER);if(a.addItem("data",i),a.send(),this._scene&&this._scene.enter(),this.checkViewSize(),t.GlobalSetting.STATS_VIEW){var r=egret.getDefinitionByName("StatsUtil");r&&r.trackPageview(egret.getQualifiedClassName(this))}},i.prototype.outer=function(){e.prototype.outer.call(this);var i=egret.getQualifiedClassName(this),a=t.MyEvent.getEvent(t.EventType.VIEW_OUTER);a.addItem("data",i),a.send()},i.prototype.setUI=function(t){e.prototype.setUI.call(this,t),this._ui=t,this._ui&&this.addChild(this._ui)},i.prototype.checkViewSize=function(){if(t.GlobalSetting.DISPLAY_MODEL==t.GlobalSetting.DISPLAY_VIEW_EASYGAME){var e=this.width,i=this.height;this._scene?(e=this.scene.sceneWidth<=0?t.GlobalSetting.STAGE_WIDTH:t.GlobalSetting.STAGE_WIDTH<e?t.GlobalSetting.STAGE_WIDTH>=t.GlobalSetting.VIEW_MINI_WIDTH?t.GlobalSetting.STAGE_WIDTH:t.GlobalSetting.VIEW_MINI_WIDTH:t.GlobalSetting.STAGE_WIDTH>this.scene.sceneWidth?this.scene.sceneWidth:t.GlobalSetting.STAGE_WIDTH,this.scene.sceneHeight<=0?(i=t.GlobalSetting.STAGE_HEIGHT,!egret.NumberUtils.isNumber(i)):i=t.GlobalSetting.STAGE_HEIGHT<i?t.GlobalSetting.STAGE_HEIGHT>=t.GlobalSetting.VIEW_MINI_HEIGHT?t.GlobalSetting.STAGE_HEIGHT:t.GlobalSetting.VIEW_MINI_HEIGHT:t.GlobalSetting.STAGE_HEIGHT>this.scene.sceneHeight?this.scene.sceneHeight:t.GlobalSetting.STAGE_HEIGHT):(t.GlobalSetting.STAGE_WIDTH>e?e=t.GlobalSetting.STAGE_WIDTH>=t.GlobalSetting.VIEW_MINI_WIDTH?t.GlobalSetting.STAGE_WIDTH:t.GlobalSetting.VIEW_MINI_WIDTH:t.GlobalSetting.VIEW_MINI_WIDTH>e&&(e=t.GlobalSetting.STAGE_WIDTH),t.GlobalSetting.STAGE_HEIGHT>i?i=t.GlobalSetting.STAGE_HEIGHT>=t.GlobalSetting.VIEW_MINI_HEIGHT?t.GlobalSetting.STAGE_HEIGHT:t.GlobalSetting.VIEW_MINI_HEIGHT:t.GlobalSetting.VIEW_MINI_HEIGHT>i&&(i=t.GlobalSetting.STAGE_HEIGHT)),e=parseInt(""+e),i=parseInt(""+i),this.setSize(e,i);var a=this.getUI();a&&a.setSize(e,i),this._scene&&this._scene.setSize(e,i)}},i.prototype.enterTransition=function(){t.ViewManager.currentView&&t.ViewManager.currentView!=this&&t.ViewManager.currentView.outer(),e.prototype.enterTransition.call(this)},i.prototype.enterTransitionComplete=function(){t.ViewManager.currentView&&t.ViewManager.currentView!=this&&t.ViewManager.currentView.outerTransitionComplete(),e.prototype.enterTransitionComplete.call(this),t.ViewManager.currentView=this},Object.defineProperty(i.prototype,"scene",{get:function(){return this._scene},set:function(t){this._scene&&this._scene.removeFromParent(),this._scene=t,this._scene&&this.addChildAt(this._scene,0),this.checkViewSize()},enumerable:!0,configurable:!0}),i.prototype.onStageResize=function(){if(t.GlobalSetting.DISPLAY_MODEL==t.GlobalSetting.DISPLAY_VIEW_EASYGAME){this.setSize(t.GlobalSetting.DISPLAY_WIDTH,t.GlobalSetting.DISPLAY_HEIGHT),e.prototype.onStageResize.call(this),this.checkViewSize();var i=t.ObjectPool.getByClass(this._loadingUIClz,"loading",!1);i&&i.parent&&(i.x=0,i.y=0)}},i}(t.ReceiveGroup);t.View=e,__reflect(e.prototype,"easy.View")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._outerEffect=null,i._loadingUIClz=t.PopupManager.defaultLoadingClass,i}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this)},i.prototype.enterTransition=function(){e.prototype.enterTransition.call(this)},i.prototype.enterTransitionComplete=function(){e.prototype.enterTransitionComplete.call(this)},i.prototype.enter=function(){e.prototype.enter.call(this);var i=egret.getQualifiedClassName(this),a=t.MyEvent.getEvent(t.EventType.WIN_ENTER);if(a.addItem("data",i),a.send(),t.GlobalSetting.STATS_WIN){var r=egret.getDefinitionByName("StatsUtil");r&&r.trackPageview(egret.getQualifiedClassName(this))}},i.prototype.outer=function(){e.prototype.outer.call(this);var i=egret.getQualifiedClassName(this),a=t.MyEvent.getEvent(t.EventType.WIN_OUTER);a.addItem("data",i),a.send()},i.prototype.onStageResize=function(){this.x=t.ViewManager.currentView.cx-this.cx,this.y=t.ViewManager.currentView.cy-this.cy;var e=t.ObjectPool.getByClass(this._loadingUIClz,"loadingwin",!1);e&&e.parent&&(e.x=0,e.y=0)},i.prototype.hiddent=function(){t.PopupManager.hidden(this)},i}(t.ReceiveGroup);t.Win=e,__reflect(e.prototype,"easy.Win")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._gridWidth=256,t._gridHeight=256,t._bmpLogo=null,t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.showBg=!1,this.setSize(this._gridWidth,this._gridHeight),this._bmpLogo=new egret.Bitmap,this.addChild(this._bmpLogo),this._bmpLogo.texture=RES.getRes("loading_view"),this._bmpLogo.anchorOffsetX=.5*this._bmpLogo.width,this._bmpLogo.anchorOffsetY=.5*this._bmpLogo.height,this._bmpLogo.x=this.cx,this._bmpLogo.y=this.cy},i.prototype.enter=function(){e.prototype.enter.call(this),this._bmpLogo.rotation=0,this.alpha=0,t.HeartBeat.addListener(this,this.onShowLoadingGraphics)},i.prototype.outer=function(){e.prototype.outer.call(this),t.HeartBeat.removeListener(this,this.onShowLoadingGraphics)},i.prototype.onShowLoadingGraphics=function(){this.alpha<1&&(this.alpha+=.1),this._bmpLogo.rotation+=3},i}(t.LoadingBaseUI);t.DefaultLoadingView=e,__reflect(e.prototype,"easy.DefaultLoadingView")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.initData=function(){e.RUNTIME=egret.Capabilities.runtimeType,e.STAGE=egret.MainContext.instance.stage,t.Debug.log="---- GlobalSetting init ----",t.Debug.log="runtimeType="+egret.Capabilities.runtimeType+", deviceType="+egret.MainContext.deviceType,t.Debug.log="RUNTIME="+e.RUNTIME,e.initInfoSize()},e.initInfoSize=function(){console.log("stage resize w="+e.STAGE.stageWidth+", h="+e.STAGE.stageHeight),e.STAGE_WIDTH=e.STAGE.stageWidth,e.STAGE_HEIGHT=e.STAGE.stageHeight,e.DISPLAY_WIDTH=e.STAGE_WIDTH,e.DISPLAY_HEIGHT=e.STAGE_HEIGHT,e.DEV_MODEL&&(t.Debug.log="---- GlobalSetting Info Size ----",t.Debug.log="STAGE_WIDTH="+e.STAGE_WIDTH+", STAGE_HEIGHT="+e.STAGE_HEIGHT)},e.isNative=function(){return e.RUNTIME==e.RUNTIME_NATIVE},e.prototype.isWeiXin=function(){var t=navigator.userAgent.toString(),e=t.match(/MicroMessenger/i);return"MicroMessenger"==e?!0:!1},e}();e.DISPLAY_VIEW_EGRET="egret",e.DISPLAY_VIEW_EASYGAME="easygame",e.DISPLAY_MODEL=e.DISPLAY_VIEW_EGRET,e.DEV_MODEL=!0,e.SYSTEM_DATE=0,e.VOLUME_OPEN=!0,e.FRAME_RATE=60,e.STAGE=null,e.STAGE_WIDTH=480,e.STAGE_HEIGHT=800,e.DISPLAY_WIDTH=480,e.DISPLAY_HEIGHT=800,e.VIEW_MINI_WIDTH=300,e.VIEW_MINI_HEIGHT=300,e.LOADING_THREAD_MAX=5,e.CHECK_IDLE_LOADING=15,e.REPORT=!1,e.REPORT_UI=!1,e.REPORT_URL="",e.APP_NAME="",e.APP_PRODUCT="",e.APP_DEVICE="",e.APP_RATE=0,e.APP_RATE_NAME=0,e.APP_CHANNEL="",e.APP_VERSION="",e.APP_PROVIDE=0,e.APP_STORAGE="local",e.STORAGE_LOCAL="local",e.STORAGE_NET="net",e.STORAGE_LOCAL_NET="local_net",e.RUNTIME="web",e.RUNTIME_WEB="web",e.RUNTIME_NATIVE="native",e.STATS_VIEW=!1,e.STATS_WIN=!1,e.STATS_BTN=!1,e.STATS_MC=!1,e.STATS_LIST=!1,e.CDN_RES="resource/",t.GlobalSetting=e,__reflect(e.prototype,"easy.GlobalSetting")
}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(){function e(){this.runing=!1,this.completed=!1,this.parent=null,this.afterFrame=0,this.delayFrame=0,this._frozen=!1,this.scene=null,this._resJsonId=null,this._resImgId=null,this._direction=null,this._directionMirror=!1,this._speed=20,this.jsonData=null,this._loop=!1,this._actorDisplayIndex=0,this._actorDisplayCount=0,this._actorTextureIndex=0,this._actorTextureCount=0,this._imgDisplay=null}return e.prototype.onHeartBeat=function(){return this.delayFrame>0?void this.delayFrame--:this.completed&&this.afterFrame>0?void this.afterFrame--:void(this.runing&&this.jsonData&&this.onHBChangeTextTure())},e.prototype.play=function(){return this.runing=!0,this.completed=!1,null==this._imgDisplay&&(this._imgDisplay=new egret.Bitmap),this.scene.addAnimate(this),null==this.jsonData?void this.stop():void(1==this.jsonData.direction.length&&(this._direction=this.jsonData.direction[0]))},e.prototype.stop=function(){this.completed=!0},e.prototype.getDisplay=function(){return this._imgDisplay},e.prototype.destroy=function(){this._imgDisplay&&this._imgDisplay.parent&&this._imgDisplay.parent.removeChild(this._imgDisplay),this._resJsonId=null,this._resImgId=null,this.scene=null,this.completed=!1,this.runing=!1,this.parent=null,this.afterFrame=0,this.delayFrame=0,this._actorDisplayCount=0,this._actorDisplayIndex=0,this._actorTextureCount=0,this._actorTextureIndex=0,t.ObjectPool.recycleClass(this)},e.prototype.pause=function(){this.runing&&(this.frozen=!0)},e.prototype.replay=function(){this.runing&&(this.frozen=!1)},e.prototype.onHBChangeTextTure=function(){if(this.initActorTexture(),this._actorDisplayIndex++,this._actorDisplayIndex>this._actorDisplayCount&&(this._actorDisplayIndex=0,this.changeCurrentFrameActorTexture(),this._actorTextureIndex++,this._actorTextureIndex>this._actorTextureCount)){if(!this._loop)return this._actorTextureIndex=this._actorTextureCount-1,void this.stop();this._actorTextureIndex=0}},e.prototype.changeCurrentFrameActorTexture=function(){if(this.jsonData&&this.jsonData.spritesheet){var t=(this.jsonData.texture[""+this._direction][this._actorTextureIndex],this.jsonData.spritesheet),e=t.getTexture(this._resImgId+"_"+this._direction+"_"+this._actorTextureIndex);e&&(this._imgDisplay.texture=e,this._directionMirror?this._imgDisplay.scaleX=-1:this._imgDisplay.scaleX=1),this._actorTextureIndex++,this.initTextureRuntimeData(),this._actorTextureIndex--}},e.prototype.initActorTexture=function(){if(this.jsonData&&!this.jsonData.spritesheet){var t=RES.getRes(this._resImgId);if(t){for(var e=new egret.SpriteSheet(t),i=null,a=0;a<this.jsonData.direction.length;a++){i=this.jsonData.texture[""+this.jsonData.direction[a]];for(var r=0;r<i.length;r++)e.createTexture(this._resImgId+"_"+this._direction+"_"+r,i[r].x,i[r].y,i[r].w,i[r].h)}this.jsonData.spritesheet=e}this._actorTextureIndex=0,this.initTextureRuntimeData()}},e.prototype.initTextureRuntimeData=function(){if(this.jsonData){var t=this.jsonData.texture[""+this._direction][this._actorTextureIndex];this._actorTextureIndex+1>=this._actorTextureCount&&(t=this.jsonData.texture[""+this._direction][0]),this._actorDisplayCount=this.jsonData.frame,this._actorTextureCount=this.jsonData.texture[""+this._direction].length}},Object.defineProperty(e.prototype,"frozen",{set:function(t){this._frozen=t},enumerable:!0,configurable:!0}),e}();e.BaseAnimate=i,__reflect(i.prototype,"easy.rpg.BaseAnimate",["easy.rpg.IAnimate"])}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(){function i(e,i){this._actor=null,this._gameData=null,this.isDisplay=!1,this.moveMapStepCallBackFunc=null,this.moveMapStepCallBackThis=null,this._textureJsonData={},this.tweenMove=null,this._actorDisplayIndex=0,this._actorDisplayCount=0,this._actorTextureIndex=0,this._actorTextureCount=0,this._actor=e,this._gameData=new t.rpg.GameData,this._gameData.actorData=i}return Object.defineProperty(i.prototype,"actor",{get:function(){return this._actor},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actorData",{get:function(){return this._gameData?this._gameData.actorData:null},set:function(t){this._gameData.actorData=t},enumerable:!0,configurable:!0}),i.prototype.onHeartBeat=function(){this._gameData._gameState==e.RpgSetting.ACTOR_MOV&&this.onMoveByPath(),this.isDisplay&&this.onHBChangeTextTure()},i.prototype.onHBChangeTextTure=function(){this.initActorTexture(),this._actorDisplayIndex++,this._actorDisplayIndex>this._actorDisplayCount&&(this._actorDisplayIndex=0,this.changeCurrentFrameActorTexture(),this._actorTextureIndex++,this._actorTextureIndex>this._actorTextureCount&&(this._actorTextureIndex=0))},i.prototype.changeCurrentFrameActorTexture=function(){var t=this.gameData.id+"_"+this.gameData.gameState,e=this._textureJsonData[t];if(e){var i=e.texture[""+this.directionTexture][this._actorTextureIndex],a=e.spritesheet,r=a.getTexture(t+"_"+this.directionTexture+"_"+this._actorTextureIndex);r&&this._actor._bitmapActor&&(this._actor._bitmapActor.texture=r,this.gameData._directionMirror?(this._actor._bitmapActor.scaleX=-1,this._actor._bitmapActor.x=-i.offsetx):this._actor._bitmapActor.scaleX=1),this._actorTextureIndex++,this.initTextureRuntimeData(),this._actorTextureIndex--}},i.prototype.initActorTexture=function(){if(!this._textureJsonData.hasOwnProperty(this.gameData.id+"_"+this.gameData.gameState)){var t="actor_json_"+this.gameData.gameState+"_"+this.gameData.id,e=RES.getRes(t);if(e){this._textureJsonData[this.gameData.id+"_"+this.gameData.gameState]=e,this.gameData._directionNum=e.direction.length,t="actor_img_"+this.gameData.gameState+"_"+this.gameData.id;var i=RES.getRes(t);if(i){for(var a=new egret.SpriteSheet(i),r=null,n=0;n<e.direction.length;n++){r=e.texture[""+e.direction[n]];for(var s=0;s<r.length;s++)a.createTexture(e.id+"_"+r[s].img,r[s].x,r[s].y,r[s].w,r[s].h)}e.spritesheet=a}this._actorTextureIndex=0,this.initTextureRuntimeData()}}},i.prototype.initTextureRuntimeData=function(){var t=this._textureJsonData[this.gameData.id+"_"+this.gameData.gameState];if(t){var e=t.texture[""+this.directionTexture][this._actorTextureIndex];this._actorTextureIndex+1>=this._actorTextureCount&&(e=t.texture[""+this.directionTexture][0]),this._actorDisplayCount=t.frame,this._actorTextureCount=t.texture[""+this.directionTexture].length}},i.prototype.onHBChangeData=function(){this._gameData.isInvalidate&&(this._gameData.isInvalidate=!1),this._actor.x=this._gameData._screenXY.x,this._actor.y=this._gameData._screenXY.y},Object.defineProperty(i.prototype,"id",{get:function(){return this._gameData.id},enumerable:!0,configurable:!0}),i.prototype.enter=function(){this.isDisplay=!0},i.prototype.outer=function(){this.isDisplay=!1},Object.defineProperty(i.prototype,"gameData",{get:function(){return this._gameData},enumerable:!0,configurable:!0}),i.prototype.setFreePath=function(t,i,a){var r=new Array;r.push(t),r.push(i),this.gameData.mapXY.x=t.x,this.gameData.mapXY.y=t.y,a&&(this.direction=e.DirectionUtil.direction(t,i,e.RpgSetting.DIRECT_NUMBER));var n=e.DirectionUtil.speedXY(t,i,this.gameData._speed);this.gameData._speedXY.x=n.x,this.gameData._speedXY.y=n.y,this.setPath(r,!1)},i.prototype.setPath=function(t,i){return void 0===i&&(i=!0),this.cleanPath(),t?(i&&t.length>=2&&(this.direction=e.DirectionUtil.direction(t[0],t[1],e.RpgSetting.DIRECT_NUMBER)),this._gameData.gameState=e.RpgSetting.ACTOR_MOV,this.gameData._path&&(this.gameData._path.length=0),this.gameData._path=t,void this.gameData.pathNextPoint()):void(this.gameData.gameState=e.RpgSetting.ACTOR_STD)},i.prototype.onMoveByPath=function(){if(this.gameData._pathTargetPoint){if(this.isReachTarget(this.gameData.mapXY,this.gameData._pathTargetPoint,this.gameData._direction)){if(null==this.gameData._path||0==this.gameData._path.length)return void this.cleanPath();this.gameData.pathNextPoint(),this.direction=e.DirectionUtil.direction(this.gameData.mapXY,this.gameData._pathTargetPoint,e.RpgSetting.DIRECT_NUMBER);var t=e.DirectionUtil.speedXY(this.gameData.mapXY,this.gameData._pathTargetPoint,this.gameData._speed);this.gameData._speedXY.x=t.x,this.gameData._speedXY.y=t.y}this.moveMapStep(this.gameData._speedXY.x,this.gameData._speedXY.y)}else this.cleanPath()},i.prototype.isReachTarget=function(t,e,i){return Math.abs(egret.Point.distance(t,e))<=.8?!0:!1},i.prototype.moveMapStep=function(t,e){this.gameData.moveMapStep(t,e),null!=this.moveMapStepCallBackFunc&&this.moveMapStepCallBackFunc.call(this.moveMapStepCallBackThis,t,e)},i.prototype.cleanPath=function(){this.gameState=e.RpgSetting.ACTOR_STD,this._gameData.isInvalidate=!1,this._gameData._path.length=0,this._gameData._pathTargetPoint=null},Object.defineProperty(i.prototype,"direction",{get:function(){return this.gameData._direction},set:function(t){this.gameData._direction=t,this._actorTextureIndex=0,this.initTextureRuntimeData()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"directionTexture",{get:function(){this.gameData._directionMirror=!1;var t=this.gameData._direction;return 8==t?(t=2,this.gameData._directionMirror=!0):6==t?(t=4,this.gameData._directionMirror=!0):7==t?(t=3,this.gameData._directionMirror=!0):(1==t||5==t)&&(t=3,this.gameData._directionMirror=!0),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gameState",{get:function(){return this._gameData._gameState},set:function(t){this._gameData._gameState!=t&&(this._gameData._gameState=t,this._actorTextureIndex=0,this.initTextureRuntimeData())},enumerable:!0,configurable:!0}),i}();e.ActorCtrl=i,__reflect(i.prototype,"easy.rpg.ActorCtrl")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(e){function i(i,a){var r=e.call(this)||this;return r.hitRect=null,r.backGroup=null,r.frontGroup=null,r._bitmapActor=null,r._ctrl=null,r._dotShape=null,r._hitShape=null,r._ctrl=a,null==r._ctrl&&(r._ctrl=new t.rpg.ActorCtrl(r,i)),r}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.hitRect=new egret.Rectangle,this.backGroup=new t.BaseGroup,this.frontGroup=new t.BaseGroup,this._bitmapActor=new egret.Bitmap,this.addChild(this._bitmapActor),this.anchorX=.5,this.anchorY=1,this._hitShape=new egret.Shape,this._dotShape=new egret.Shape,this.showBg=!1,this.hitRect.width=20,this.hitRect.height=80,this.setSize(100,100)},i.prototype.draw=function(){e.prototype.draw.call(this);var t=this.getRegPoint();this.hitRect.x=t.x-this.hitRect.width/2,this.hitRect.y=t.y-this.hitRect.height,this._hitShape.graphics.clear(),this._hitShape.graphics.beginFill(16774758),this._hitShape.graphics.drawRect(this.hitRect.x,this.hitRect.y,this.hitRect.width,this.hitRect.height),this._hitShape.graphics.endFill(),this._hitShape.graphics.lineStyle(1,4473651),this._hitShape.graphics.drawRect(this.hitRect.x,this.hitRect.y,this.hitRect.width,this.hitRect.height),this._dotShape.x=this.globalToLocal(this.getGlobalXY().x,this.getGlobalXY().y).x,this._dotShape.y=this.globalToLocal(this.getGlobalXY().x,this.getGlobalXY().y).y,this._dotShape.graphics.clear(),this._dotShape.graphics.beginFill(16711680),this._dotShape.graphics.drawRect(0,0,4,4),this._dotShape.graphics.endFill(),this._dotShape.x=t.x-2,this._dotShape.y=t.y-2},i.prototype.getBounds=function(){return this.hitRect},i}(t.Group);e.Actor=i,__reflect(i.prototype,"easy.rpg.Actor")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this,e)||this;return i._gap=0,i._hAlign=egret.HorizontalAlign.LEFT,i._vAlign=egret.VerticalAlign.MIDDLE,i}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.invalidate()},Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hAlign",{get:function(){return this._hAlign},set:function(t){this._hAlign!=t&&(this._hAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vAlign",{get:function(){return this._vAlign},set:function(t){this._vAlign!=t&&(this._vAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){this._bgImage&&this._bgImage.parent&&this._bgImage.parent.removeChild(this._bgImage),t.prototype.draw.call(this),this.updateLayout(),this._showBg&&this.addChildAt(this._bgImage,0)},e.prototype.updateLayout=function(){var t=0,e=null,i=null,a=0;for(t=0;t<this.numChildren;t++)this.getChildAt(t)!=this._bgImage&&(a+=this.getChildAt(t).width);a+=(this.numChildren-1)*this._gap;var r=!0;for(t=0;t<this.numChildren;t++)e=this.getChildAt(t),e!=this._bgImage&&(r?(r=!1,this._hAlign==egret.HorizontalAlign.LEFT?e.x=0:this._hAlign==egret.HorizontalAlign.CENTER?e.x=(this.width-a)/2:this._hAlign==egret.HorizontalAlign.RIGHT&&(e.x=this.width-a)):(i=this.getChildAt(t-1),e.x=i.x+i.width+this.gap),this._vAlign==egret.VerticalAlign.TOP?e.y=0:this._vAlign==egret.VerticalAlign.MIDDLE?e.y=(this.height-e.height)/2:this._vAlign==egret.VerticalAlign.BOTTOM&&(e.y=this.height-e.height))},e}(t.Group);t.HGroup=e,__reflect(e.prototype,"easy.HGroup")}(easy||(easy={}));var easy;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.outerTransition=function(){},e}(t.ReceiveGroup);t.Template=e,__reflect(e.prototype,"easy.Template")}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(t){function e(){var e=t.call(this)||this;return e.animateList=new Array,e}return __extends(e,t),e.prototype.onHeartBeat=function(){if(this.runing){if(this.animateList.length>0&&(this.animateList[0].completed&&this.animateList[t].afterFrame<=0&&this.removeAnimate(this.animateList[0]),this.animateList.length>0)){!this.animateList[0].runing&&this.animateList[0].delayFrame<=0&&this.animateList[0].play();for(var t=0;t<this.animateList.length;t++)this.animateList[t].runing&&this.animateList[t].onHeartBeat()}0==this.animateList.length&&this.stop()}},e.prototype.addAnimate=function(t){t.parent=this,this.animateList.push(t)},e.prototype.removeAnimate=function(t){for(var e=0;e<this.animateList.length;e++)if(this.animateList[e]==t){this.animateList[e].destroy(),this.animateList.splice(e,1);break}},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.animateList.length;e++)this.animateList[e].destroy();this.animateList.length=0},Object.defineProperty(e.prototype,"frozen",{set:function(t){this._frozen=t;for(var e=0;e<this.animateList.length;e++)this.animateList[e].frozen=t},enumerable:!0,configurable:!0}),e}(t.rpg.BaseAnimate);e.SequenceQueue=i,__reflect(i.prototype,"easy.rpg.SequenceQueue")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var game2048;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.arr=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t.labelObj={},t.merge=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.ui=new t.game3},Object.defineProperty(i.prototype,"ui",{get:function(){return this._ui},set:function(t){this.setUI(t)},enumerable:!0,configurable:!0}),i.prototype.initData=function(){e.prototype.initData.call(this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.start,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.end,this),this.ranCreat()},i.prototype.ranCreat=function(){var t=Math.floor(4*Math.random()),e=Math.floor(4*Math.random()),i=2*Math.floor(2*Math.random()+1);if(0==this.arr[t][e]){this.arr[t][e]=i;var a=new easy.Label;this.ui.group.addChild(a),a.fontSize=50,a.color=16777215,a.bgColor=0,a.vAlign="middle",a.hAlign="center",a.autoSize=!1,a.width=135,a.height=135,a.text=""+i,a.x=155*e,a.y=155*t,a.border=!1,this.labelObj[t+"_"+e]=a}else this.ranCreat();console.log(this.labelObj)},i.prototype.canLeftSlide=function(){for(var t=0;t<this.arr.length;t++)for(var e=1;e<this.arr[t].length;e++)if(0!=this.arr[t][e]&&(0==this.arr[t][e-1]||this.arr[t][e]==this.arr[t][e-1]))return!0;return!1},i.prototype.canRightSlide=function(){for(var t=0;t<this.arr.length;t++)for(var e=0;e<this.arr[t].length-1;e++)if(0!=this.arr[t][e]&&(0==this.arr[t][e+1]||this.arr[t][e]==this.arr[t][e+1]))return!0;return!1},i.prototype.canTopSlide=function(){for(var t=1;t<this.arr.length;t++)for(var e=0;e<this.arr[t].length;e++)if(0!=this.arr[t][e]&&(0==this.arr[t-1][e]||this.arr[t][e]==this.arr[t-1][e]))return!0;return!1},i.prototype.canBotSlide=function(){for(var t=0;t<this.arr.length-1;t++)for(var e=0;e<this.arr[t].length;e++)if(0!=this.arr[t][e]&&(0==this.arr[t+1][e]||this.arr[t][e]==this.arr[t+1][e]))return!0;return!1},i.prototype.leftmove=function(t,e,i,a){if(1==a){for(var r=e+1;i>r;r++)if(0!=this.arr[t][r])return!1;return!0}if(2==a){for(var r=e-1;r>i;r--)if(0!=this.arr[t][r])return!1;return!0}if(3==a){for(var r=e+1;t>r;r++)if(0!=this.arr[r][i])return!1;return!0}if(4==a){for(var r=e-1;r>t;r--)if(0!=this.arr[r][i])return!1;return!0}},i.prototype._move=function(t){if(this.merge=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],1==t){for(var e=0;4>e;e++)for(var i=1;4>i;i++)if(0!=this.arr[e][i])for(var a=0;i>a;a++){if(0==this.arr[e][a]&&this.leftmove(e,a,i,1)){this.arr[e][a]=this.arr[e][i],this.arr[e][i]=0,console.log(e+"_"+i),egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*a,y:155*e},100),this.labelObj[e+"_"+a]=this.labelObj[e+"_"+i],delete this.labelObj[e+"_"+i],console.log(this.labelObj);break}if(this.arr[e][a]==this.arr[e][i]&&0==this.merge[e][a]&&this.leftmove(e,a,i,1)){this.arr[e][a]=2*this.arr[e][i],this.arr[e][i]=0,console.log(e+"_"+i),egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*a,y:155*e},100),this.labelObj[e+"_"+a].text=""+2*Number(this.labelObj[e+"_"+i].text),delete this.labelObj[e+"_"+i],console.log(this.labelObj),this.merge[e][a]=1;break}}console.log(this.arr),egret.setTimeout(function(){this.ranCreat()},this,200)}if(2==t){for(var e=0;4>e;e++)for(var i=2;i>=0;i--)if(0!=this.arr[e][i])for(var a=3;a>i;a--){if(0==this.arr[e][a]&&this.leftmove(e,a,i,2)){this.arr[e][a]=this.arr[e][i],this.arr[e][i]=0,console.log(e+"_"+i),egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*a,y:155*e},100).wait(100),this.labelObj[e+"_"+a]=this.labelObj[e+"_"+i],delete this.labelObj[e+"_"+i],console.log(this.labelObj);break}if(this.arr[e][a]==this.arr[e][i]&&0==this.merge[e][a]&&this.leftmove(e,a,i,2)){this.arr[e][a]=2*this.arr[e][i],this.arr[e][i]=0,egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*a,y:155*e},100).wait(100),this.labelObj[e+"_"+a].text=""+2*Number(this.labelObj[e+"_"+i].text),delete this.labelObj[e+"_"+i],console.log(this.labelObj),this.merge[e][a]=1;break}}console.log(this.arr),egret.setTimeout(function(){this.ranCreat()},this,200)}if(3==t){for(var e=1;4>e;e++)for(var i=0;4>i;i++)if(0!=this.arr[e][i])for(var a=0;e>a;a++){if(0==this.arr[a][i]&&this.leftmove(e,a,i,3)){this.arr[a][i]=this.arr[e][i],this.arr[e][i]=0,console.log(e+"_"+i),egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*i,y:155*a},100).wait(100),this.labelObj[a+"_"+i]=this.labelObj[e+"_"+i],delete this.labelObj[e+"_"+i],console.log(this.labelObj);break}if(this.arr[a][i]==this.arr[e][i]&&0==this.merge[a][i]&&this.leftmove(e,a,i,3)){this.arr[a][i]=2*this.arr[e][i],this.arr[e][i]=0,egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*i,y:155*a},100).wait(100),this.labelObj[a+"_"+i].text=""+2*Number(this.labelObj[e+"_"+i].text),delete this.labelObj[e+"_"+i],console.log(this.labelObj),this.merge[a][i]=1;break}}console.log(this.arr),egret.setTimeout(function(){this.ranCreat()},this,200)}if(4==t){for(var e=2;e>=0;e--)for(var i=0;4>i;i++)if(0!=this.arr[e][i])for(var a=3;a>e;a--){if(0==this.arr[a][i]&&this.leftmove(e,a,i,4)){this.arr[a][i]=this.arr[e][i],this.arr[e][i]=0,console.log(e+"_"+i),egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*i,y:155*a},100).wait(100),this.labelObj[a+"_"+i]=this.labelObj[e+"_"+i],delete this.labelObj[e+"_"+i],console.log(this.labelObj);break}if(this.arr[a][i]==this.arr[e][i]&&0==this.merge[a][i]&&this.leftmove(e,a,i,4)){this.arr[a][i]=2*this.arr[e][i],this.arr[e][i]=0,egret.Tween.get(this.labelObj[e+"_"+i]).to({x:155*i,y:155*a},100).wait(100),this.labelObj[a+"_"+i].text=""+2*Number(this.labelObj[e+"_"+i].text),delete this.labelObj[e+"_"+i],console.log(this.labelObj),this.merge[a][i]=1;break}}console.log(this.arr),egret.setTimeout(function(){this.ranCreat()},this,200)}},i.prototype.start=function(t){this.startx=t.stageX,this.starty=t.stageY},i.prototype.end=function(t){this.endx=t.stageX,this.endy=t.stageY;var e=Math.abs(this.starty-this.endy),i=Math.abs(this.startx-this.endx);e>i?this.starty>this.endy?(console.log("上滑"),this.canTopSlide()&&this._move(3)):(console.log("下滑"),this.canBotSlide()&&this._move(4)):this.startx>this.endx?(console.log("左滑"),this.canLeftSlide()&&this._move(1)):this.startx<this.endx&&(console.log("右滑"),this.canRightSlide()&&this._move(2))},i.prototype.enter=function(){e.prototype.enter.call(this)},i.prototype.enterTransition=function(){e.prototype.enterTransition.call(this)},i.prototype.outer=function(){e.prototype.outer.call(this)},i.prototype.outerTransition=function(){e.prototype.outerTransition.call(this)},i.prototype.validateNow=function(){e.prototype.validateNow.call(this)},i}(easy.View);t.game3View=e,__reflect(e.prototype,"game2048.game3View")}(game2048||(game2048={}));var game2048;!function(t){var e=function(t){function e(){var e=t.call(this,!0)||this;return e.resSpriteSheet="moveGame",e.resTexture=[],e.resGroup=["gameyouxi_moveGame"],e.resFiles=["gameyouxi/moveGame_loader_190122191438.json"],e.spriteSheet=null,e.group_big=null,e.groupAll=null,e.group1=null,e.group2=null,e.group3=null,e.group4=null,e.group5=null,e.group6=null,e.group7=null,e.group8=null,e.group9=null,e.group10=null,e.group11=null,e.group12=null,e.group13=null,e.group14=null,e.group15=null,e.group16=null,e.label1=null,e.label2=null,e.label3=null,e.label4=null,e.label5=null,e.label6=null,e.label7=null,e.label8=null,e.label9=null,e.label10=null,e.label11=null,e.label12=null,e.label13=null,e.label14=null,e.label15=null,e.label16=null,e.group_Mask=null,e.group=null,e.labelGameOver=null,e.groupSlide=null,e.btnAgain=null,e.groupGrade=null,e.labelGrade=null,e.labelGrade2=null,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.bgColor=13421823,this.border=!1,this.width=640,this.height=1136,this.group_big=new easy.Group(!0),this.group_big.name="group_big",this.addChild(this.group_big),this.group_big.bgColor=6750207,this.group_big.border=!1,this.group_big.y=248,this.group_big.width=640,this.group_big.height=640,this.groupAll=new easy.Group(!0),this.groupAll.name="groupAll",this.addChild(this.groupAll),this.groupAll.showBg=!1,this.groupAll.bgColor=6750207,this.groupAll.border=!1,this.groupAll.x=20,this.groupAll.y=268,this.groupAll.width=600,this.groupAll.height=600,this.group1=new easy.Group(!0),this.group1.name="group1",this.groupAll.addChild(this.group1),this.group1.border=!1,this.group1.width=135,this.group1.height=135,this.group2=new easy.Group(!0),this.group2.name="group2",this.groupAll.addChild(this.group2),this.group2.border=!1,this.group2.x=155,this.group2.width=135,this.group2.height=135,this.group3=new easy.Group(!0),this.group3.name="group3",this.groupAll.addChild(this.group3),this.group3.border=!1,this.group3.x=310,this.group3.width=135,this.group3.height=135,this.group4=new easy.Group(!0),this.group4.name="group4",this.groupAll.addChild(this.group4),this.group4.border=!1,this.group4.x=465,this.group4.width=135,this.group4.height=135,this.group5=new easy.Group(!0),this.group5.name="group5",this.groupAll.addChild(this.group5),this.group5.border=!1,this.group5.y=155,this.group5.width=135,this.group5.height=135,this.group6=new easy.Group(!0),this.group6.name="group6",this.groupAll.addChild(this.group6),this.group6.border=!1,this.group6.x=155,this.group6.y=155,this.group6.width=135,this.group6.height=135,this.group7=new easy.Group(!0),this.group7.name="group7",this.groupAll.addChild(this.group7),this.group7.border=!1,this.group7.x=310,this.group7.y=155,this.group7.width=135,this.group7.height=135,this.group8=new easy.Group(!0),this.group8.name="group8",this.groupAll.addChild(this.group8),this.group8.border=!1,this.group8.x=465,this.group8.y=155,this.group8.width=135,this.group8.height=135,this.group9=new easy.Group(!0),this.group9.name="group9",this.groupAll.addChild(this.group9),this.group9.border=!1,this.group9.y=310,this.group9.width=135,this.group9.height=135,this.group10=new easy.Group(!0),this.group10.name="group10",this.groupAll.addChild(this.group10),this.group10.border=!1,this.group10.x=155,this.group10.y=310,this.group10.width=135,this.group10.height=135,this.group11=new easy.Group(!0),this.group11.name="group11",this.groupAll.addChild(this.group11),this.group11.border=!1,this.group11.x=310,this.group11.y=310,this.group11.width=135,this.group11.height=135,this.group12=new easy.Group(!0),this.group12.name="group12",this.groupAll.addChild(this.group12),this.group12.border=!1,this.group12.x=465,this.group12.y=310,this.group12.width=135,this.group12.height=135,this.group13=new easy.Group(!0),this.group13.name="group13",this.groupAll.addChild(this.group13),this.group13.border=!1,this.group13.y=465,this.group13.width=135,this.group13.height=135,this.group14=new easy.Group(!0),this.group14.name="group14",this.groupAll.addChild(this.group14),this.group14.border=!1,this.group14.x=155,this.group14.y=465,this.group14.width=135,this.group14.height=135,this.group15=new easy.Group(!0),this.group15.name="group15",this.groupAll.addChild(this.group15),this.group15.border=!1,this.group15.x=310,this.group15.y=465,this.group15.width=135,this.group15.height=135,this.group16=new easy.Group(!0),this.group16.name="group16",this.groupAll.addChild(this.group16),this.group16.border=!1,this.group16.x=465,this.group16.y=465,this.group16.width=135,this.group16.height=135,this.label1=new easy.Label(!0),this.label1.name="label1",this.groupAll.addChild(this.label1),this.label1.text="2",this.label1.fontSize=50,this.label1.color=16777215,this.label1.hAlign="center",this.label1.autoSize=!1,this.label1.width=135,this.label1.height=135,this.label1.bgColor=13408665,this.label2=new easy.Label(!0),this.label2.name="label2",this.groupAll.addChild(this.label2),this.label2.text="2",this.label2.fontSize=50,this.label2.color=16777215,this.label2.hAlign="center",this.label2.autoSize=!1,this.label2.width=135,this.label2.height=135,this.label2.x=155,this.label2.bgColor=13408665,this.label3=new easy.Label(!0),this.label3.name="label3",this.groupAll.addChild(this.label3),this.label3.text="2",this.label3.fontSize=50,this.label3.color=16777215,this.label3.hAlign="center",this.label3.autoSize=!1,this.label3.width=135,this.label3.height=135,this.label3.x=310,this.label3.bgColor=13408665,this.label4=new easy.Label(!0),this.label4.name="label4",this.groupAll.addChild(this.label4),this.label4.text="2",this.label4.fontSize=50,this.label4.color=16777215,this.label4.hAlign="center",this.label4.autoSize=!1,this.label4.width=135,this.label4.height=135,this.label4.x=465,this.label4.bgColor=13408665,this.label5=new easy.Label(!0),this.label5.name="label5",this.groupAll.addChild(this.label5),this.label5.text="2",this.label5.fontSize=50,this.label5.color=16777215,this.label5.hAlign="center",this.label5.autoSize=!1,this.label5.width=135,this.label5.height=135,this.label5.y=155,this.label5.bgColor=13408665,this.label6=new easy.Label(!0),this.label6.name="label6",this.groupAll.addChild(this.label6),this.label6.text="2",this.label6.fontSize=50,this.label6.color=16777215,this.label6.hAlign="center",this.label6.autoSize=!1,this.label6.width=135,this.label6.height=135,this.label6.x=155,this.label6.y=155,this.label6.bgColor=13408665,this.label7=new easy.Label(!0),this.label7.name="label7",this.groupAll.addChild(this.label7),this.label7.text="2",this.label7.fontSize=50,this.label7.color=16777215,this.label7.hAlign="center",this.label7.autoSize=!1,this.label7.width=135,this.label7.height=135,this.label7.x=310,this.label7.y=155,this.label7.bgColor=13408665,this.label8=new easy.Label(!0),this.label8.name="label8",this.groupAll.addChild(this.label8),this.label8.text="2",this.label8.fontSize=50,this.label8.color=16777215,this.label8.hAlign="center",this.label8.autoSize=!1,this.label8.width=135,this.label8.height=135,this.label8.x=465,this.label8.y=155,this.label8.bgColor=13408665,this.label9=new easy.Label(!0),this.label9.name="label9",this.groupAll.addChild(this.label9),this.label9.text="2",this.label9.fontSize=50,this.label9.color=16777215,this.label9.hAlign="center",this.label9.autoSize=!1,this.label9.width=135,this.label9.height=135,this.label9.y=310,this.label9.bgColor=13408665,this.label10=new easy.Label(!0),this.label10.name="label10",this.groupAll.addChild(this.label10),this.label10.text="2",this.label10.fontSize=50,this.label10.color=16777215,this.label10.hAlign="center",this.label10.autoSize=!1,this.label10.width=135,this.label10.height=135,this.label10.x=155,this.label10.y=310,this.label10.bgColor=13408665,this.label11=new easy.Label(!0),this.label11.name="label11",this.groupAll.addChild(this.label11),this.label11.text="2",this.label11.fontSize=50,this.label11.color=16777215,this.label11.hAlign="center",this.label11.autoSize=!1,this.label11.width=135,this.label11.height=135,this.label11.x=310,this.label11.y=310,this.label11.bgColor=13408665,this.label12=new easy.Label(!0),this.label12.name="label12",this.groupAll.addChild(this.label12),this.label12.text="2",this.label12.fontSize=50,this.label12.color=16777215,this.label12.hAlign="center",this.label12.autoSize=!1,this.label12.width=135,this.label12.height=135,this.label12.x=465,this.label12.y=310,this.label12.bgColor=13408665,this.label13=new easy.Label(!0),this.label13.name="label13",this.groupAll.addChild(this.label13),this.label13.text="2",this.label13.fontSize=50,this.label13.color=16777215,this.label13.hAlign="center",this.label13.autoSize=!1,this.label13.width=135,this.label13.height=135,this.label13.y=465,this.label13.bgColor=13408665,this.label14=new easy.Label(!0),this.label14.name="label14",this.groupAll.addChild(this.label14),this.label14.text="2",this.label14.fontSize=50,this.label14.color=16777215,this.label14.hAlign="center",this.label14.autoSize=!1,this.label14.width=135,this.label14.height=135,this.label14.x=155,this.label14.y=465,this.label14.bgColor=13408665,this.label15=new easy.Label(!0),this.label15.name="label15",this.groupAll.addChild(this.label15),this.label15.text="2",this.label15.fontSize=50,this.label15.color=16777215,this.label15.hAlign="center",this.label15.autoSize=!1,this.label15.width=135,this.label15.height=135,this.label15.x=310,this.label15.y=465,this.label15.bgColor=13408665,this.label16=new easy.Label(!0),this.label16.name="label16",this.groupAll.addChild(this.label16),this.label16.text="2",this.label16.fontSize=50,this.label16.color=16777215,this.label16.hAlign="center",this.label16.autoSize=!1,this.label16.width=135,this.label16.height=135,this.label16.x=465,this.label16.y=465,this.label16.bgColor=13408665,this.group_Mask=new easy.Group(!0),this.group_Mask.name="group_Mask",this.addChild(this.group_Mask),this.group_Mask.showBg=!1,this.group_Mask.border=!1,this.group_Mask.width=640,this.group_Mask.height=1136,this.group=new easy.Group(!0),this.group.name="group",this.group_Mask.addChild(this.group),this.group.bgColor=0,this.group.border=!1,this.group.width=640,this.group.height=1136,this.group.alpha=.296875,this.labelGameOver=new easy.Label(!0),this.labelGameOver.name="labelGameOver",this.group_Mask.addChild(this.labelGameOver),this.labelGameOver.text="Game  Over",this.labelGameOver.fontSize=100,this.labelGameOver.color=255,this.labelGameOver.hAlign="center",this.labelGameOver.autoSize=!1,this.labelGameOver.width=640,this.labelGameOver.height=100,this.labelGameOver.y=518,this.labelGameOver.showBg=!1,this.groupSlide=new easy.Group(!0),this.groupSlide.name="groupSlide",this.addChild(this.groupSlide),this.groupSlide.border=!1,this.groupSlide.width=640,this.groupSlide.height=1136,this.groupSlide.alpha=0,this.btnAgain=new easy.Button(!0),this.btnAgain.name="btnAgain",this.addChild(this.btnAgain),this.btnAgain.width=243,this.btnAgain.height=63,this.btnAgain.x=198.5,this.btnAgain.y=973,this.groupGrade=new easy.Group(!0),this.groupGrade.name="groupGrade",this.addChild(this.groupGrade),this.groupGrade.showBg=!1,this.groupGrade.border=!1,this.groupGrade.x=195,this.groupGrade.y=70,this.groupGrade.width=350,this.labelGrade=new easy.Label(!0),this.labelGrade.name="labelGrade",this.groupGrade.addChild(this.labelGrade),this.labelGrade.text="分数：",this.labelGrade.fontSize=50,this.labelGrade.color=13369344,this.labelGrade.hAlign="center",this.labelGrade.autoSize=!1,this.labelGrade.width=150,this.labelGrade.height=80,this.labelGrade.x=40,this.labelGrade.showBg=!1,this.labelGrade2=new easy.Label(!0),this.labelGrade2.name="labelGrade2",this.groupGrade.addChild(this.labelGrade2),this.labelGrade2.text="0",this.labelGrade2.fontSize=50,this.labelGrade2.color=13369344,this.labelGrade2.autoSize=!1,this.labelGrade2.width=200,this.labelGrade2.height=80,this.labelGrade2.x=175,this.labelGrade2.y=3,this.labelGrade2.showBg=!1
},e.prototype.initData=function(){t.prototype.initData.call(this)},e.prototype.enter=function(){},e.prototype.outer=function(){},e.prototype.validateNow=function(){this.drawDelay=!1;var t=RES.getRes("moveGame_json");if(null!=t){this.spriteSheet=new egret.SpriteSheet(RES.getRes("moveGame_img"));for(var e in t.texture)this.spriteSheet.createTexture(e,t.texture[e].x,t.texture[e].y,t.texture[e].w,t.texture[e].h)}this.group_big.drawDelay=!1,this.groupAll.drawDelay=!1,this.group1.drawDelay=!1,this.group2.drawDelay=!1,this.group3.drawDelay=!1,this.group4.drawDelay=!1,this.group5.drawDelay=!1,this.group6.drawDelay=!1,this.group7.drawDelay=!1,this.group8.drawDelay=!1,this.group9.drawDelay=!1,this.group10.drawDelay=!1,this.group11.drawDelay=!1,this.group12.drawDelay=!1,this.group13.drawDelay=!1,this.group14.drawDelay=!1,this.group15.drawDelay=!1,this.group16.drawDelay=!1,this.label1.drawDelay=!1,this.label2.drawDelay=!1,this.label3.drawDelay=!1,this.label4.drawDelay=!1,this.label5.drawDelay=!1,this.label6.drawDelay=!1,this.label7.drawDelay=!1,this.label8.drawDelay=!1,this.label9.drawDelay=!1,this.label10.drawDelay=!1,this.label11.drawDelay=!1,this.label12.drawDelay=!1,this.label13.drawDelay=!1,this.label14.drawDelay=!1,this.label15.drawDelay=!1,this.label16.drawDelay=!1,this.group_Mask.drawDelay=!1,this.group.drawDelay=!1,this.labelGameOver.drawDelay=!1,this.groupSlide.drawDelay=!1,this.spriteSheet&&(this.btnAgain.texture=this.spriteSheet.getTexture("btn_replay")),this.btnAgain.drawDelay=!1,this.groupGrade.drawDelay=!1,this.labelGrade.drawDelay=!1,this.labelGrade2.drawDelay=!1},e}(easy.Group);t.moveGame=e,__reflect(e.prototype,"game2048.moveGame")}(game2048||(game2048={}));var game2048;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.allData=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t.allNum=[2,4,8,16,32,64,128,256,512,1024,2048],t.changeColor=[15308410,16416882,16753920,16747520,16744272,15761536,16737095,16729344,16711680,16738740,16716947],t.merge=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t._grade=0,t._only=!0,t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.ui=new t.moveGame},Object.defineProperty(i.prototype,"ui",{get:function(){return this._ui},set:function(t){this.setUI(t)},enumerable:!0,configurable:!0}),i.prototype.initData=function(){e.prototype.initData.call(this);for(var t=1;17>t;t++)this.ui["label"+t].visible=!1,easy.TweenEffect.setAnchorXY(this.ui["label"+t]),this.ui["label"+t].border=0;easy.TweenEffect.setAnchorXY(this.ui.btnAgain),this.ranShow(),this.ui.groupSlide.touchEnabled=!0,this.ui.groupSlide.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.start,this),this.ui.groupSlide.addEventListener(egret.TouchEvent.TOUCH_END,this.end,this),this.ui.btnAgain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.again,this),this.ui.labelGrade2.text="0",this.ui.group_Mask.visible=!1,this.ui.group_Mask.alpha=0,this.bgcolorFn()},i.prototype.again=function(){this.ui.group_Mask.visible=!1,this.allData=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this._grade=0,this.ui.labelGrade2.text="0";for(var t=0;4>t;t++)for(var e=0;4>e;e++)0==this.allData[t][e]?this.ui["label"+(4*t+e+1)].visible=!1:(this.ui["label"+(4*t+e+1)].visible=!0,this.ui["label"+(4*t+e+1)].text=""+this.allData[t][e]);this.ranShow()},i.prototype.ranShow=function(){var t=Math.floor(4*Math.random()),e=Math.floor(4*Math.random()),i=2*Math.floor(2*Math.random()+1);0==this.allData[t][e]?(this.allData[t][e]=i,this.ui["label"+(4*t+e+1)].visible=!0,this.ui["label"+(4*t+e+1)].scaleX=this.ui["label"+(4*t+e+1)].scaleY=.3,egret.Tween.get(this.ui["label"+(4*t+e+1)]).to({scaleX:1,scaleY:1},100),this.ui["label"+(4*t+e+1)].text=this.allData[t][e]):this.ranShow();for(var a=0;4>a;a++)for(var r=0;4>r;r++)2==this.allData[a][r]?this.ui["label"+(4*a+r+1)].bgColor=15308410:4==this.allData[a][r]&&(this.ui["label"+(4*a+r+1)].bgColor=16416882)},i.prototype.leftmove=function(t,e,i,a){if(1==a){for(var r=e+1;i>r;r++)if(0!=this.allData[t][r])return!1;return!0}if(2==a){for(var r=e-1;r>i;r--)if(0!=this.allData[t][r])return!1;return!0}if(3==a){for(var r=e+1;t>r;r++)if(0!=this.allData[r][i])return!1;return!0}if(4==a){for(var r=e-1;r>t;r--)if(0!=this.allData[r][i])return!1;return!0}},i.prototype.bgcolorFn=function(){for(var t=0;4>t;t++)for(var e=0;4>e;e++)for(var i=0;11>i;i++)this.allData[t][e]==this.allNum[i]&&(this.ui["label"+(4*t+e+1)].bgColor=this.changeColor[i])},i.prototype.restore=function(){for(var t=0;4>t;t++)for(var e=0;4>e;e++){var i=155*e+67.5,a=155*t+67.5;this.ui["label"+(4*t+e+1)].x=i,this.ui["label"+(4*t+e+1)].y=a}this.bgcolorFn()},i.prototype.gameOver=function(){this.ui.groupAll.touchEnabled=!1,this.ui.group_Mask.visible=!0,egret.Tween.get(this.ui.group_Mask).to({alpha:1},1e3)},i.prototype.canLeftSlide=function(){for(var t=0;t<this.allData.length;t++)for(var e=1;e<this.allData[t].length;e++)if(0!=this.allData[t][e]&&(0==this.allData[t][e-1]||this.allData[t][e]==this.allData[t][e-1]))return!0;return!1},i.prototype.canRightSlide=function(){for(var t=0;t<this.allData.length;t++)for(var e=0;e<this.allData[t].length-1;e++)if(0!=this.allData[t][e]&&(0==this.allData[t][e+1]||this.allData[t][e]==this.allData[t][e+1]))return!0;return!1},i.prototype.canTopSlide=function(){for(var t=1;t<this.allData.length;t++)for(var e=0;e<this.allData[t].length;e++)if(0!=this.allData[t][e]&&(0==this.allData[t-1][e]||this.allData[t][e]==this.allData[t-1][e]))return!0;return!1},i.prototype.canBotSlide=function(){for(var t=0;t<this.allData.length-1;t++)for(var e=0;e<this.allData[t].length;e++)if(0!=this.allData[t][e]&&(0==this.allData[t+1][e]||this.allData[t][e]==this.allData[t+1][e]))return!0;return!1},i.prototype._show=function(){for(var t=0;4>t;t++)for(var e=0;4>e;e++)0!=this.allData[t][e]&&(this.ui["label"+(4*t+e+1)].text=""+this.allData[t][e],this.ui["label"+(4*t+e+1)].visible=!0,this.ui["label"+(4*t+e+1)].draw());for(var t=0;4>t;t++)for(var e=0;4>e;e++)0==this.allData[t][e]&&(this.ui["label"+(4*t+e+1)].visible=!1)},i.prototype.animate=function(t,e){egret.setTimeout(function(){egret.Tween.get(this.ui["label"+(4*t+e+1)]).to({scaleX:1.2,scaleY:1.2},100).to({scaleX:1,scaleY:1},100)},this,100)},i.prototype.slide=function(t,e,i,a){0==this.allData[t][e]&&this.leftmove(t,e,i,a)?(this.allData[t][e]=this.allData[t][i],this.allData[t][i]=0,egret.Tween.get(this.ui["label"+(4*t+i+1)]).to({x:155*e+67.5,y:155*t+67.5},100).call(this._show,this).call(this.restore,this)):this.allData[t][e]==this.allData[t][i]&&0==this.merge[t][e]&&this.leftmove(t,e,i,a)&&(this.allData[t][e]=2*this.allData[t][i],this.allData[t][i]=0,egret.Tween.get(this.ui["label"+(4*t+i+1)]).to({x:155*e+67.5,y:155*t+67.5},100).call(this._show,this).call(this.restore,this),this.animate(t,e),this.merge[t][e]=1,this._grade+=this.allData[t][e],this.ui.labelGrade2.text=""+this._grade)},i.prototype.slide2=function(t,e,i,a){0==this.allData[e][i]&&this.leftmove(t,e,i,a)?(this.allData[e][i]=this.allData[t][i],this.allData[t][i]=0,egret.Tween.get(this.ui["label"+(4*t+i+1)]).to({x:155*i+67.5,y:155*e+67.5},100).call(this._show,this).call(this.restore,this)):this.allData[e][i]==this.allData[t][i]&&0==this.merge[e][i]&&this.leftmove(t,e,i,a)&&(this.allData[e][i]=2*this.allData[t][i],this.allData[t][i]=0,egret.Tween.get(this.ui["label"+(4*t+i+1)]).to({x:155*i+67.5,y:155*e+67.5},100).call(this._show,this).call(this.restore,this),this.animate(e,i),this.merge[e][i]=1,this._grade+=this.allData[e][i],this.ui.labelGrade2.text=""+this._grade)},i.prototype._move=function(t){if(this.merge=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],1==t)for(var e=0;4>e;e++)for(var i=1;4>i;i++)if(0!=this.allData[e][i])for(var a=0;i>a;a++)this.slide(e,a,i,1);if(2==t)for(var e=0;4>e;e++)for(var i=2;i>=0;i--)if(0!=this.allData[e][i])for(var a=3;a>i;a--)this.slide(e,a,i,2);if(3==t)for(var e=1;4>e;e++)for(var i=0;4>i;i++)if(0!=this.allData[e][i])for(var a=0;e>a;a++)this.slide2(e,a,i,3);if(4==t)for(var e=2;e>=0;e--)for(var i=0;4>i;i++)if(0!=this.allData[e][i])for(var a=3;a>e;a--)this.slide2(e,a,i,4);egret.setTimeout(function(){this.ranShow()},this,300)},i.prototype.start=function(t){this.startx=t.stageX,this.starty=t.stageY},i.prototype.end=function(t){this.endx=t.stageX,this.endy=t.stageY;var e=Math.abs(this.starty-this.endy),i=Math.abs(this.startx-this.endx);if(e>i)if(this.starty>this.endy){for(var a=3;a>=0;a--)for(var r=3;r>=0;r--)this.ui.groupAll.addChild(this.ui["label"+(4*a+r+1)]);this.canTopSlide()&&this._move(3)}else{for(var a=0;4>a;a++)for(var r=0;4>r;r++)this.ui.groupAll.addChild(this.ui["label"+(4*a+r+1)]);this.canBotSlide()&&this._move(4)}else if(this.startx>this.endx){for(var a=3;a>=0;a--)for(var r=3;r>=0;r--)this.ui.groupAll.addChild(this.ui["label"+(4*a+r+1)]);this.canLeftSlide()&&this._move(1)}else if(this.startx<this.endx){for(var a=0;4>a;a++)for(var r=0;4>r;r++)this.ui.groupAll.addChild(this.ui["label"+(4*a+r+1)]);this.canRightSlide()&&this._move(2)}egret.setTimeout(function(){this.canLeftSlide()||this.canRightSlide()||this.canTopSlide()||this.canBotSlide()||this.gameOver()},this,500)},i.prototype.enter=function(){e.prototype.enter.call(this)},i.prototype.enterTransition=function(){e.prototype.enterTransition.call(this)},i.prototype.outer=function(){e.prototype.outer.call(this)},i.prototype.outerTransition=function(){e.prototype.outerTransition.call(this)},i.prototype.validateNow=function(){e.prototype.validateNow.call(this)},i}(easy.View);t.moveGameView=e,__reflect(e.prototype,"game2048.moveGameView")}(game2048||(game2048={}));var easy;!function(t){var e=function(){function e(i){this.id=null,this.frame=0,this._json=null,this.width=0,this.height=0,this._spriteSheet=null,this.textures=null,this.textureDict=null,this._type=e.TYPE_EFFECT,this._merge=!0,this.id=i;var a=RES.getRes(i+"_animate_json");if(null!=a){this.textureDict={},this.id=a.id,this.frame=a.frame,this._type=a.type,a.merge&&(this._merge="true"==a.merge);var r=null;if(this._merge&&(this._spriteSheet=new egret.SpriteSheet(RES.getRes(i+"_animate_img"))),"actor"==a.type){var n=null;for(var s in a.texture){n=[],this.textureDict[s]=n;for(var o=0;o<a.texture[s].length;o++)r=new t.AnimateTexture,r.width=a.texture[s][o].w,r.height=a.texture[s][o].h,r.id=a.texture[s][o].id,r.width>this.width&&(this.width=r.width),r.height>this.height&&(this.height=r.height),a.texture[s][o].f?r.frame=a.texture[s][o].f:r.frame=this.frame,r.x=a.texture[s][o].ox,r.y=a.texture[s][o].oy,this._merge?(r.offsetX=a.texture[s][o].x,r.offsetY=a.texture[s][o].y,r.texutre=this._spriteSheet.createTexture(s+"_"+o,r.offsetX,r.offsetY,r.width,r.height)):(r.resId=a.texture[s][o].l,r.texutre=RES.getRes(r.resId)),n.push(r)}}else{this.textures=[];for(var o=0;o<a.texture.length;o++)r=new t.AnimateTexture,r.width=a.texture[o].w,r.height=a.texture[o].h,r.id=a.texture[o].id,r.width>this.width&&(this.width=r.width),r.height>this.height&&(this.height=r.height),a.texture[o].f?r.frame=a.texture[o].f:r.frame=this.frame,r.x=a.texture[o].ox,r.y=a.texture[o].oy,this._merge?(r.offsetX=a.texture[o].x,r.offsetY=a.texture[o].y,r.texutre=this._spriteSheet.createTexture(this.id+"_"+o,r.offsetX,r.offsetY,r.width,r.height)):(r.resId=a.texture[o].l,r.texutre=RES.getRes(r.resId)),this.textures.push(r)}}}return e.prototype.getTexture=function(t){return t>=0&&t<this.textures.length?this.textures[t]:null},e.prototype.getTextureActor=function(t,e){return this.textureDict[t]&&e>=0&&e<this.textureDict[t].length?this.textureDict[t][e]:null},e}();e.TYPE_ACTOR="actor",e.TYPE_EFFECT="effect",t.AnimateData=e,__reflect(e.prototype,"easy.AnimateData")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.getAnimateData=function(i){return e._animiateDataDict[i]?e._animiateDataDict[i]:RES.isGroupLoaded(i+"_animate_group")?(e._animiateDataDict[i]=new t.AnimateData(i),e._animiateDataDict[i]):(e.loadAnimate(i),null)},e.loadAnimate=function(i){t.StringUtil.isUsage(i)&&(e.names_down.indexOf(i)>=0||RES.isGroupLoaded(i+"_animate_group")||(e.waiting_groups.indexOf(i)<0&&e.waiting_groups.push(i),e.waiting_names.indexOf(i)<0&&e.waiting_names.push(i),e.names_down.push(i),t.HeartBeat.addListener(e,e.onHeartBeatCheckLoadedFile,60)))},e.fireDownAnimate=function(i){t.GlobalSetting.isNative()?t.ResManager.loadConfig(RES.getVersionController().getVirtualUrl(t.GlobalSetting.CDN_RES+"assets/animate/"+i+"_loader.json"),[i+"_animate_group"],e.onLoadingGroupJosnFileComplete,e):t.ResManager.loadConfig(t.GlobalSetting.CDN_RES+"assets/animate/"+i+"_loader.json?r="+Math.floor(9999999999*Math.random()),[i+"_animate_group"],e.onLoadingGroupJosnFileComplete,e)},e.onLoadingGroupJosnFileComplete=function(i){if(i&&t.StringUtil.isUsage(i.groupName)&&i.groupName.indexOf("_animate_group")>=0){var a=i.groupName.substring(0,i.groupName.indexOf("_animate_group"));e.waiting_names.indexOf(a)>=0&&e.waiting_names.splice(e.waiting_names.indexOf(a),1),e.waiting_groups.indexOf(a)>=0&&e.waiting_groups.splice(e.waiting_groups.indexOf(a),1);var r=t.MyEvent.getEvent(t.EventType.RESOURCE_DOWNLOADED);r.addItem("name",a),r.send()}e.onHeartBeatCheckLoadedFile()},e.onHeartBeatCheckLoadedFile=function(){if(0==e.waiting_groups.length&&0==e.waiting_names.length&&t.HeartBeat.removeListener(e,e.onHeartBeatCheckLoadedFile),e.waiting_groups.length>0&&e.waiting_names.length>0){for(var i=[],a=e.waiting_names.length-1;a>=0;a--)e.waiting_groups.indexOf(e.waiting_names[a])>=0&&(i.push(e.waiting_names[a]),e.waiting_names.splice(a,1),e.waiting_groups.splice(e.waiting_groups.indexOf(e.waiting_names[a]),1));for(;i.length>0;)e.fireDownAnimate(i.pop())}},e}();e._animiateDataDict={},e.waiting_groups=[],e.waiting_names=[],e.names_down=[],t.AnimateManager=e,__reflect(e.prototype,"easy.AnimateManager")}(easy||(easy={}));var easy;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.BaseEffect);t.RollerDown=e,__reflect(e.prototype,"easy.RollerDown")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){this.id=null,this.frame=0,this.width=0,this.height=0,this.x=0,this.y=0,this.offsetX=0,this.offsetY=0,this.texutre=null,this.resId=null}return t}();t.AnimateTexture=e,__reflect(e.prototype,"easy.AnimateTexture")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.onEnterFrame=function(i){var a=0,r=0,n=null,s=1;if(e._lastTime>0&&e._eplasedTime>0){var o=Math.floor(egret.getTimer()-e._lastTime-e._eplasedTime);o>0&&(e._cumulativeTime+=o,e._cumulativeTime>e._eplasedTime&&(s+=Math.floor(e._cumulativeTime/e._eplasedTime),e._cumulativeTime=e._cumulativeTime%e._eplasedTime))}for(var h=0;s>h;h++)for(r=e._listeners.length-1,a=r;a>=0;a--)n=e._listeners[a],n.index++,n.del?(e._listeners.splice(a,1),t.ObjectPool.recycleClass(n)):(n.count<=1||n.index%n.count==0)&&(n.loopcount++,n.loop>0&&n.loop<=n.loopcount&&(n.del=!0),e._functionCallList.unshift(n));for(r=e._functionCallList.length,a=0;r>a;a++)n=e._functionCallList.pop(),n.param&&n.param.length>0?n.func.apply(n.thisArg,n.param):0==n.func.length?n.func.call(n.thisArg):n.func.call(n.thisArg,n.del);0==e._listeners.length&&t.GlobalSetting.STAGE.removeEventListener(egret.Event.ENTER_FRAME,e.onEnterFrame,e),e._lastTime=egret.getTimer()},e.addListener=function(a,r,n,s,o,h,l){if(void 0===n&&(n=1),void 0===s&&(s=-1),void 0===o&&(o=0),void 0===h&&(h=null),void 0===l&&(l=!1),null==r||e.isContainerListener(a,r))return!1;var c=t.ObjectPool.getByClass(i);return c.setData(a,r,n,s,o,h),e._listeners.push(c),l&&(c.loopcount++,c.param&&c.param.length>0?c.func.apply(c.thisArg,c.param):0==c.func.length?c.func.call(c.thisArg):c.func.call(c.thisArg,c.del)),e._lastTime=egret.getTimer(),t.GlobalSetting.STAGE.addEventListener(egret.Event.ENTER_FRAME,e.onEnterFrame,e),!0},e.removeListener=function(t,i){var a=0;for(a=0;a<e._listeners.length;a++)if(e._listeners[a].func==i&&e._listeners[a].thisArg==t){e._listeners[a].del=!0;break}},e.isContainerListener=function(t,i){var a=0;for(a=0;a<e._listeners.length;a++)if(e._listeners[a].thisArg==t&&e._listeners[a].func==i&&!e._listeners[a].del)return!0;return!1},e.getHearBeatLenght=function(){return e._listeners.length},e.getHearBeatTrace=function(){var t=0,i="",a=null;for(i+="总数:"+e._listeners.length+"\n",i+="========================================================\n",t=0;t<e._listeners.length;t++)a=e._listeners[t],a&&(i+="基本信息 ("+t+"): ",i+="del="+a.del+", count="+a.count+", index="+a.index+", loop="+a.loop+", loopCount="+a.loopcount+"\n",i+="------------------------------------\n");return i+="========================================================\n"},e}();e._listeners=new Array,e._functionCallList=new Array,e._MAX_EXECUTE_COUNT=20,e.isInit=!1,e._lastTime=0,e._eplasedTime=0,e._cumulativeTime=0,e.nowTime=0,e.realFrame=0,e.item=null,e.endCall=!1,t.HeartBeat=e,__reflect(e.prototype,"easy.HeartBeat");var i=function(){function t(){this.func=null,this.thisArg=null,this.count=0,this.index=0,this.loop=0,this.loopcount=0,this.delay=0,this.del=!1,this.traceMsg=null,this.param=null}return t.prototype.setData=function(t,e,i,a,r,n){this.thisArg=t,this.func=e,this.count=i,this.loop=a,this.delay=r,this.index=0,this.loopcount=0,this.del=!1,this.param=n},t}();__reflect(i.prototype,"BeatItem")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.getByClass=function(e,i,a){void 0===i&&(i=""),void 0===a&&(a=!0);var r=egret.getQualifiedClassName(e);r=i+r;var n=t.getObject(r,a);return null==n&&(n=new e),a||t.recycleClass(n,i),n},t.recycleClass=function(e,i){if(void 0===i&&(i=""),e){var a=egret.getQualifiedClassName(e);a=i+a,t.recycleObject(a,e)}},t.hasClass=function(e,i){return void 0===i&&(i=""),t.getByClass(e,i,!1)},t.getObject=function(e,i){if(void 0===i&&(i=!0),t._dataPool.hasOwnProperty(e)&&t._dataPool[e].length>0){var a=null;return i?(a=t._dataPool[e].pop(),0==t._dataPool[e].length&&delete t._dataPool[e]):a=t._dataPool[e][0],a}return null},t.setObject=function(e,i){t.recycleObject(e,i)},t.recycleObject=function(e,i){i&&(t._dataPool.hasOwnProperty(e)||(t._dataPool[e]=[]),i.hasOwnProperty("destroy")&&i.destroy(),t._dataPool[e].indexOf(i)<0&&t._dataPool[e].push(i))},t.hasObject=function(e){return t.getObject(e,!1)},t.dispose=function(e){var i=egret.getQualifiedClassName(e);t.disposeObjects(i)},t.disposeObjects=function(e){t._dataPool.hasOwnProperty(e)&&(t._dataPool[e].length=0,delete t._dataPool[e])},t}();e._dataPool={},t.ObjectPool=e,__reflect(e.prototype,"easy.ObjectPool")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t}();e.version="0.0.51",t.Version=e,__reflect(e.prototype,"easy.Version")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){this.oldX=0,this.oldY=0,this.newX=0,this.newY=0,this.oldAlpha=0,this.newAlpha=0,this.oldRotation=0,this.newRotation=0,this.oldScaleX=0,this.newScaleX=0,this.oldScaleY=0,this.newScaleY=0,this.oldAnchorX=0,this.newAnchorX=0,this.oldAnchorY=0,this.newAnchorY=0,this.anchorEnabled=!1,this.isPlay=!1,this.loop=!1}return t}();t.EffectData=e,__reflect(e.prototype,"easy.EffectData")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.breatheEffect=function(i,a,r,n,s){if(void 0===a&&(a=200),void 0===r&&(r=1),void 0===n&&(n=1),void 0===s&&(s=.03),null!=i&&void 0!=i){var o=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(o=new t.EffectData,e.saveOldValue(i,o),o.newAnchorX=.5,o.newAnchorY=.8,o.newX=o.oldX+i.width*o.newAnchorX,o.newY=o.oldY+i.height*o.newAnchorY,this.effectDic[i.hashCode]=o):(o=this.effectDic[i.hashCode],o.loop=!0),o.anchorEnabled=i.anchorEnabled,i.anchorEnabled=!0,i.anchorX=o.newAnchorX,i.anchorY=o.newAnchorY,i.x=o.newX,i.y=o.newY,i.scaleX=1-s,i.scaleY=1+s;var h=function(){o.loop&&egret.Tween.get(i).to({scaleX:1+s,scaleY:1.03+s,alpha:n},a+200).to({scaleX:1-s,scaleY:1+s,alpha:r},a).call(h,this)};egret.Tween.get(i).to({scaleX:1+s,scaleY:1.03+s,alpha:n},a+200).to({scaleX:1-s,scaleY:1+s,alpha:r},a).call(h,this)}},e.pauseBreatheEffect=function(t){if(null!=t&&void 0!=t&&null!=this.effectDic[t.hashCode]&&void 0!=this.effectDic[t.hashCode]){var e=this.effectDic[t.hashCode];t.anchorEnabled=e.anchorEnabled,t.anchorX=e.oldAnchorX,t.anchorY=e.oldAnchorY,t.x=e.oldX,t.y=e.oldY,t.scaleX=e.oldScaleX,t.scaleY=e.oldScaleY,egret.Tween.removeTweens(t),this.effectDic[t.hashCode]=null}},e.upDownEffect=function(i,a){if(void 0===a&&(a=500),null!=i&&void 0!=i){var r=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(r=new t.EffectData,e.saveOldValue(i,r),r.newAnchorX=.5,r.newAnchorY=.8,r.newX=r.oldX+i.width*r.newAnchorX,r.newY=r.oldY+i.height*r.newAnchorY,this.effectDic[i.hashCode]=r):(r=this.effectDic[i.hashCode],r.loop=!0),r.anchorEnabled=i.anchorEnabled,i.anchorEnabled=!0,i.anchorX=r.newAnchorX,i.anchorY=r.newAnchorY,i.x=r.newX,i.y=r.newY,i.scaleX=.9,i.scaleY=1.1;var n=function(){r.loop&&egret.Tween.get(i).to({scaleX:1.1,scaleY:.9},a).to({scaleX:.9,scaleY:1.1},a).call(n,this)};egret.Tween.get(i).to({scaleX:1.1,scaleY:.9},a).to({scaleX:.9,scaleY:1.1},a).call(n,this)}},e.pauseUpDownEffect=function(t){if(null!=t&&void 0!=t&&null!=this.effectDic[t.hashCode]&&void 0!=this.effectDic[t.hashCode]){var e=this.effectDic[t.hashCode];t.anchorEnabled=e.anchorEnabled,t.anchorX=e.oldAnchorX,t.anchorY=e.oldAnchorY,t.x=e.oldX,t.y=e.oldY,t.scaleX=e.oldScaleX,t.scaleY=e.oldScaleY,egret.Tween.removeTweens(t),this.effectDic[t.hashCode]=null}},e.paopaoEffect=function(i,a){if(void 0===a&&(a=1500),null!=i&&void 0!=i){var r=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(r=new t.EffectData,e.saveOldValue(i,r),r.newAnchorX=.5,r.newAnchorY=.8,r.newX=r.oldX+i.width*r.newAnchorX,r.newY=r.oldY+i.height*r.newAnchorY,this.effectDic[i.hashCode]=r):(r=this.effectDic[i.hashCode],r.loop=!0),r.anchorEnabled=i.anchorEnabled,i.anchorEnabled=!0,i.anchorX=r.newAnchorX,i.anchorY=r.newAnchorY,i.x=r.newX,i.y=r.newY,i.scaleX=.95,i.scaleY=1.05;var n=function(){r.loop&&egret.Tween.get(i).to({scaleX:1.04,scaleY:.96},a).to({scaleX:.95,scaleY:1.05},a).call(n,this)};egret.Tween.get(i).to({scaleX:1.04,scaleY:.96},a).to({scaleX:.95,scaleY:1.05},a).call(n,this)}},e.pausePaopaoEffect=function(t){if(null!=t&&void 0!=t&&null!=this.effectDic[t.hashCode]&&void 0!=this.effectDic[t.hashCode]){var e=this.effectDic[t.hashCode];t.anchorEnabled=e.anchorEnabled,t.anchorX=e.oldAnchorX,t.anchorY=e.oldAnchorY,t.x=e.oldX,t.y=e.oldY,t.scaleX=e.oldScaleX,t.scaleY=e.oldScaleY,egret.Tween.removeTweens(t),this.effectDic[t.hashCode]=null}},e.rockEffect=function(i,a,r){if(void 0===a&&(a=25),void 0===r&&(r=200),null!=i&&void 0!=i){var n=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(n=new t.EffectData,e.saveOldValue(i,n),n.newAnchorX=.5,n.newAnchorY=.8,n.newX=n.oldX+i.width*n.newAnchorX,n.newY=n.oldY+i.height*n.newAnchorY,this.effectDic[i.hashCode]=n):(n=this.effectDic[i.hashCode],n.loop=!0),n.anchorEnabled=i.anchorEnabled,i.anchorEnabled=!0,i.anchorX=n.newAnchorX,i.anchorY=n.newAnchorY,i.x=n.newX,i.y=n.newY,i.rotation=0;var s=function(){n.loop&&egret.Tween.get(i).to({rotation:a},r).to({rotation:0},r).to({rotation:-a},r).to({rotation:0},r).to({rotation:a},r).to({rotation:0},r).to({rotation:-a},r).to({rotation:0},r).wait(2e3).call(s,this)};egret.Tween.get(i).to({rotation:a},r).to({rotation:0},r).to({rotation:-a},r).to({rotation:0},r).to({rotation:a},r).to({rotation:0},r).to({rotation:-a},r).to({rotation:0},r).wait(2e3).call(s,this)}},e.pauseRockEffect=function(t){if(null!=t&&void 0!=t&&null!=this.effectDic[t.hashCode]&&void 0!=this.effectDic[t.hashCode]){var e=this.effectDic[t.hashCode];t.anchorEnabled=e.anchorEnabled,t.anchorX=e.oldAnchorX,t.anchorY=e.oldAnchorY,t.x=e.oldX,t.y=e.oldY,t.rotation=0,egret.Tween.removeTweens(t),this.effectDic[t.hashCode]=null}},e.rotationEffect=function(i,a,r){if(void 0===a&&(a=1),void 0===r&&(r=5e3),null!=i&&void 0!=i){var n=null;if(null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(n=new t.EffectData,e.saveOldValue(i,n),n.newAnchorX=.5,n.newAnchorY=.5,n.newX=n.oldX+i.width*n.newAnchorX*i.scaleX,n.newY=n.oldY+i.height*n.newAnchorY*i.scaleY,this.effectDic[i.hashCode]=n):(n=this.effectDic[i.hashCode],n.loop=!0),n.anchorEnabled=i.anchorEnabled,i.anchorEnabled=!0,i.anchorX=n.newAnchorX,i.anchorY=n.newAnchorY,i.x=n.newX,i.y=n.newY,1==a){var s=function(){n.loop&&(i.rotation=0,egret.Tween.get(i).to({rotation:360},r).call(s,this))};i.rotation=0,egret.Tween.get(i).to({rotation:360},r).call(s,this)}else if(-1==a){var o=function(){n.loop&&(i.rotation=0,egret.Tween.get(i).to({rotation:-360},r).call(o,this))};i.rotation=0,egret.Tween.get(i).to({rotation:-360},r).call(o,this)}}},e.pauseRotationEffect=function(t){if(null!=t&&void 0!=t&&null!=this.effectDic[t.hashCode]&&void 0!=this.effectDic[t.hashCode]){var e=this.effectDic[t.hashCode];t.anchorEnabled=e.anchorEnabled,t.anchorX=e.oldAnchorX,t.anchorY=e.oldAnchorY,t.x=e.oldX,t.y=e.oldY,t.rotation=0,egret.Tween.removeTweens(t),this.effectDic[t.hashCode]=null}},e.flyObjEffect=function(i,a,r,n,s,o){void 0===a&&(a=200),void 0===r&&(r=50),void 0===n&&(n=1),void 0===s&&(s=1),void 0===o&&(o=1);var h=null;if(null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(h=new t.EffectData,e.saveOldValue(i,h),this.effectDic[i.hashCode]=h):(h=this.effectDic[i.hashCode],h.loop=!0),egret.Tween.removeTweens(i),1==n){if(0==h.isPlay){var l=function(){h.loop&&egret.Tween.get(i).to({y:h.oldY+r,alpha:o},a).to({y:h.oldY-r,alpha:s},a).call(l,this)};egret.Tween.get(i).to({y:h.oldY+r,alpha:o},a).to({y:h.oldY-r,alpha:s},a).call(l,this),h.isPlay=!1}}else if(0==n&&0==h.isPlay){var l=function(){h.loop&&egret.Tween.get(i).to({x:h.oldX+r,alpha:o},a).to({x:h.oldX-r,alpha:s},a).call(l,this)};egret.Tween.get(i).to({x:h.oldX+r,alpha:o},a).to({x:h.oldX-r,alpha:s},a).call(l,this),h.isPlay=!1}},e.pauseFlyObjEffect=function(t){if(null!=t&&void 0!=t&&null!=this.effectDic[t.hashCode]&&void 0!=this.effectDic[t.hashCode]){var e=this.effectDic[t.hashCode];t.alpha=1,t.x=e.oldX,t.y=e.oldY,egret.Tween.removeTweens(t),this.effectDic[t.hashCode]=null}},e.playEffect=function(t,i){if(void 0===i&&(i=1),!e.isPlayEffectPlay){e.isPlayEffectPlay=!0;var a=function(){this.isPlayEffectPlay=!1},r=function(){1==i?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(a,this):2==i?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.backOut).call(a,this):3==i&&egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},100).call(a,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(r,this)}},e.saveOldValue=function(t,e){e.oldX=t.x,e.oldY=t.y,e.oldAnchorX=t.anchorX,e.oldAnchorY=t.anchorY,e.oldScaleX=t.scaleX,e.oldScaleY=t.scaleY,e.oldAlpha=t.alpha,e.loop=!0},e.smallTobig=function(e,i,a){if(void 0===i&&(i=200),void 0===a&&(a=1),null!=e&&void 0!=e){var r=null;null==this.effectDic[e.hashCode]||void 0==this.effectDic[e.hashCode]?(r=new t.EffectData,r.newAnchorX=.5,r.newAnchorY=.5,r.oldX=e.x,r.oldY=e.y,r.newX=r.oldX+e.width*r.newAnchorX*e.scaleX,r.newY=r.oldY+e.height*r.newAnchorY*e.scaleY,this.effectDic[e.hashCode]=r):r=this.effectDic[e.hashCode],r.anchorEnabled=e.anchorEnabled,e.anchorEnabled=!0,e.anchorX=r.newAnchorX,e.anchorY=r.newAnchorY,e.x=r.newX,e.y=r.newY,1==a?(e.scaleX=0,e.scaleY=0,egret.Tween.get(e).to({scaleX:1,scaleY:1},300,egret.Ease.backOut)):2==a&&(e.scaleX=1,e.scaleY=1,egret.Tween.get(e).to({scaleX:0,scaleY:0},300,egret.Ease.backOut))}},e}();e.effectDic={},e.isPlayEffectPlay=!1,t.EffectUtil=e,__reflect(e.prototype,"easy.EffectUtil")}(easy||(easy={}));var easy;!function(easy){var TweenEffect=function(){function TweenEffect(){}return TweenEffect.setAnchorXY=function(t,e,i){void 0===e&&(e=.5),void 0===i&&(i=.5),t.anchorEnabled=!0,t.x+=(e-t.anchorX)*t.scaleX*t.width,t.y+=(i-t.anchorY)*t.scaleY*t.height,t.anchorX=e,t.anchorY=i},TweenEffect.magnifyEffect=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];t.scaleX=t.scaleY=t.alpha=0;var i=i?i:300;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.restoreEffect=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:1,skewX:0,skewY:0,scaleX:1,scaleY:1,rotation:0}}],i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.shrinkEffect=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{scaleX:0,scaleY:0,alpha:0}}];t.scaleX=t.scaleY=t.alpha=1;var i=i?i:300;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.flutterEffect=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.25,attr:{alpha:0,anchorX:1}},{percent:.5,attr:{alpha:1,anchorX:0}},{percent:.75,attr:{alpha:0,anchorX:1}},{percent:1,attr:{alpha:1,anchorX:0}}];t.anchorX=t.alpha=0;var i=i?i:6e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.flutterPositionEffect=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.4,attr:{anchorX:-.3,anchorY:-.2,scaleX:.9,scaleY:.9,alpha:.7}},{percent:.8,attr:{anchorX:-.2,anchorY:-.1,scaleX:.95,scaleY:.95,alpha:.9}},{percent:1,attr:{anchorX:0,anchorY:0,scaleX:1,scaleY:1,alpha:1}}];t.anchorX=t.anchorY=0,t.scaleX=t.scaleY=t.alpha=1;var i=i?i:6e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeInEffect=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:1}}];t.alpha=0;var i=i?i:500;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeInLeft=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:1,anchorOffsetX:0}}];t.alpha=0,t.anchorOffsetX=50;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeInRight=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:1,anchorOffsetX:0}}];t.alpha=0,t.anchorOffsetX=-50;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeInUp=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:1,anchorOffsetY:0}}];t.alpha=0,t.anchorOffsetY=-50;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeInDown=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:1,anchorOffsetY:0}}];t.alpha=0,t.anchorOffsetY=50;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeOut=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:0}}];t.alpha=1;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeOutLeft=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:0,anchorOffsetX:50}}];t.alpha=1;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeOutRight=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:0,anchorOffsetX:-50}}];t.alpha=1,t.anchorOffsetX=0;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeOutDown=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:1,attr:{alpha:0,anchorOffsetY:-50}}];t.alpha=1,t.anchorOffsetY=0;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.fadeOutUp=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);
var n=[{percent:1,attr:{alpha:0,anchorOffsetY:50}}];t.alpha=1,t.anchorOffsetY=0;var i=i?i:800;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.shake=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.22,attr:{anchorX:.1}},{percent:.44,attr:{anchorX:-.1}},{percent:.66,attr:{anchorX:.1}},{percent:.88,attr:{anchorX:-.1}},{percent:1,attr:{anchorX:0}}],i=i?i:450;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.skip=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:.25,attr:{scaleY:.8}},{percent:.5,attr:{scaleY:1.2}},{percent:.75,attr:{scaleY:.8}},{percent:1,attr:{scaleY:1}}];t.scaleY=1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.arrowDown=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.5,attr:{alpha:1,anchorY:-.5}},{percent:1,attr:{alpha:.3,anchorY:0}}];t.alpha=1,t.anchorY=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.arrowUp=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.5,attr:{alpha:.3,anchorY:.5}},{percent:1,attr:{alpha:1,anchorY:0}}];t.alpha=1,t.anchorY=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.arrowRight=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.5,attr:{alpha:.3,anchorX:-.5}},{percent:1,attr:{alpha:1,anchorX:0}}];t.alpha=1,t.anchorX=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.arrowLeft=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.5,attr:{alpha:1,anchorX:.5}},{percent:1,attr:{alpha:.3,anchorX:0}}];t.alpha=1,t.anchorX=0,a="backIn";var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.flash=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.25,attr:{alpha:.4}},{percent:.5,attr:{alpha:.9}},{percent:.75,attr:{alpha:.2}},{percent:1,attr:{alpha:1}}];t.alpha=1;var i=i?i:2e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.flashIn=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.25,attr:{alpha:0}},{percent:.5,attr:{alpha:1}},{percent:.75,attr:{alpha:0}},{percent:1,attr:{alpha:1}}];t.alpha=1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.flashOut=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),t.anchorEnabled=!0,egret.Tween.removeTweens(t);var n=[{percent:.25,attr:{alpha:1}},{percent:.5,attr:{alpha:0}},{percent:.75,attr:{alpha:1}},{percent:1,attr:{alpha:0}}];t.alpha=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.rotation=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:1e3,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360},total,easeFun)},TweenEffect.rotationIn=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=object.scaleX=object.scaleY=object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360,scaleX:1,scaleY:1,alpha:1},total,easeFun)},TweenEffect.rotationOut=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.scaleX=object.scaleY=object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360,scaleX:0,scaleY:0,alpha:0},total,easeFun)},TweenEffect.rotationInLeft=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=30,object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:0,alpha:1},total,easeFun)},TweenEffect.rotationInRight=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=-30,object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:0,alpha:1},total,easeFun)},TweenEffect.rotationOutLeft=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:30,alpha:0},total,easeFun)},TweenEffect.rotationOutRight=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:-30,alpha:0},total,easeFun)},TweenEffect.scaleOutRock=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:.1,attr:{scaleY:.9,scaleX:.9,rotation:-3}},{percent:.2,attr:{scaleY:.9,scaleX:.9,rotation:-3}},{percent:.3,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.4,attr:{scaleY:1.1,scaleX:1.1,rotation:-3}},{percent:.5,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.6,attr:{scaleY:1.1,scaleX:1.1,rotation:-3}},{percent:.7,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.8,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:1,attr:{scaleY:1,scaleX:1,rotation:0}}];t.scaleX=t.scaleY=1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.rubberBand=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t);var n=[{percent:.3,attr:{scaleX:1.25,scaleY:.75}},{percent:.4,attr:{scaleX:.75,scaleY:1.25}},{percent:.5,attr:{scaleX:1.15,scaleY:.85}},{percent:.65,attr:{scaleX:.95,scaleY:1.05}},{percent:.75,attr:{scaleX:1.05,scaleY:.95}},{percent:1,attr:{scaleX:1,scaleY:1}}];t.scaleX=t.scaleY=1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounce=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.4,attr:{anchorY:.1}},{percent:.43,attr:{anchorY:.2}},{percent:.7,attr:{anchorY:.1}},{percent:.8,attr:{anchorY:0}},{percent:.9,attr:{anchorY:.04}},{percent:1,attr:{anchorY:0}}];t.anchorY=0;var i=i?i:500;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceIn=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{scaleX:1.1,scaleY:1.1}},{percent:.4,attr:{scaleX:.9,scaleY:.9}},{percent:.6,attr:{scaleX:1.03,scaleY:1.03,alpha:1}},{percent:.8,attr:{scaleX:.97,scaleY:.97}},{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];t.alpha=0,t.scaleX=t.scaleY=.3;var i=i?i:500;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceInDown=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.6,attr:{anchorOffsetY:25,alpha:1}},{percent:.75,attr:{anchorOffsetY:-10,alpha:1}},{percent:.9,attr:{anchorOffsetY:5,alpha:1}},{percent:1,attr:{anchorOffsetY:0,alpha:1}}];t.alpha=0,t.anchorOffsetY=-3e3;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceInUp=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.6,attr:{anchorOffsetY:25,alpha:1}},{percent:.75,attr:{anchorOffsetY:-10,alpha:1}},{percent:.9,attr:{anchorOffsetY:5,alpha:1}},{percent:1,attr:{anchorOffsetY:0,alpha:1}}];t.alpha=0,t.anchorOffsetY=3e3;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceInLeft=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.6,attr:{anchorOffsetX:25,alpha:1}},{percent:.75,attr:{anchorOffsetX:-10,alpha:1}},{percent:.9,attr:{anchorOffsetX:5,alpha:1}},{percent:1,attr:{anchorOffsetX:0,alpha:1}}];t.alpha=0,t.anchorOffsetX=-3e3;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceInRight=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.6,attr:{anchorOffsetX:25,alpha:1}},{percent:.75,attr:{anchorOffsetX:-10,alpha:1}},{percent:.9,attr:{anchorOffsetX:5,alpha:1}},{percent:1,attr:{anchorOffsetX:0,alpha:1}}];t.alpha=0,t.anchorOffsetX=3e3;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceOut=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{scaleX:.9,scaleY:.9}},{percent:.5,attr:{scaleX:1.1,scaleY:1.1}},{percent:.55,attr:{scaleX:1.1,scaleY:1.1}},{percent:1,attr:{scaleX:.3,scaleY:.3,alpha:0}}];t.alpha=t.scaleX=t.scaleY=1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceOutUp=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{anchorOffsetY:25,alpha:1}},{percent:.4,attr:{anchorOffsetY:-20,alpha:1}},{percent:.45,attr:{anchorOffsetY:-20,alpha:1}},{percent:1,attr:{anchorOffsetY:2e3,alpha:0}}];t.alpha=1,t.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceOutDown=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{anchorOffsetY:-10,alpha:1}},{percent:.4,attr:{anchorOffsetY:20,alpha:1}},{percent:.45,attr:{anchorOffsetY:20,alpha:1}},{percent:1,attr:{anchorOffsetY:-2e3,alpha:0}}];t.alpha=1,t.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceOutLeft=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{anchorOffsetX:-25,alpha:1}},{percent:1,attr:{anchorOffsetX:2e3,alpha:0}}];t.alpha=1,t.anchorOffsetX=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.bounceOutRight=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{anchorOffsetX:25,alpha:1}},{percent:1,attr:{anchorOffsetX:-2e3,alpha:0}}];t.alpha=1,t.anchorOffsetX=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.swing=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.2,attr:{rotation:15}},{percent:.4,attr:{rotation:-10}},{percent:.6,attr:{rotation:5}},{percent:.8,attr:{rotation:-5}},{percent:1,attr:{rotation:0}}];t.rotation=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.scaleIn=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];t.alpha=0,t.scaleX=t.scaleY=1.2;var i=i?i:500;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.scaleOut=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:1,attr:{scaleX:1.2,scaleY:1.2,alpha:0}}];t.alpha=1,t.scaleX=t.scaleY=1;var i=i?i:500;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.scaleInBig=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];t.alpha=0,t.scaleX=t.scaleY=3;var i=i?i:500;a="quadIn",TweenEffect.start(t,n,e,i,a,r)},TweenEffect.scaleOutBig=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:1,attr:{scaleX:3,scaleY:3,alpha:0}}];t.alpha=1,t.scaleX=t.scaleY=1;var i=i?i:500;a="quadIn",TweenEffect.start(t,n,e,i,a,r)},TweenEffect.rightSpeedIn=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.6,attr:{skewX:20,alpha:1,anchorX:-.4}},{percent:.8,attr:{skewX:-5,alpha:1,anchorX:-.2}},{percent:1,attr:{skewX:0,alpha:1,anchorX:0}}];t.skewX=t.alpha=0,t.anchorX=-1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.pluse=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.5,attr:{scaleX:1.1,scaleY:1.1}},{percent:1,attr:{scaleX:1,scaleY:1}}];t.scaleX=t.scaleY=1;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.rotationFlash=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.25,attr:{rotation:5}},{percent:.75,attr:{rotation:-5}},{percent:1,attr:{rotation:0}}];t.rotation=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.breath=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.25,attr:{scaleX:.92,scaleY:.92,alpha:.7}},{percent:.5,attr:{scaleX:1,scaleY:1,alpha:1}},{percent:.75,attr:{scaleX:.92,scaleY:.92,alpha:.7}},{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];t.scaleX=t.scaleY=t.alpha=1;var i=i?i:5e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.shiftUp=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.5,attr:{anchorY:1}},{percent:1,attr:{anchorY:0}}];t.anchorY=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.shiftDown=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.5,attr:{anchorY:-1}},{percent:1,attr:{anchorY:0}}];t.anchorY=0;var i=i?i:1e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.jump=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===r&&(r=!1),egret.Tween.removeTweens(t),t.anchorEnabled=!0;var n=[{percent:.4,attr:{scaleX:1.1,scaleY:.9,anchorY:.8}},{percent:.55,attr:{scaleX:1.8,scaleY:.2,anchorY:.9}},{percent:.65,attr:{scaleX:.6,scaleY:1.4,anchorY:.3}},{percent:1,attr:{scaleX:1,scaleY:1,anchorY:0}}];t.anchorY=0,t.scaleX=t.scaleY=1;var i=i?i:2e3;TweenEffect.start(t,n,e,i,a,r)},TweenEffect.rock=function(t,e,i,a){void 0===e&&(e=25),void 0===i&&(i=200),void 0===a&&(a=!1);var r=t.rotation;egret.Tween.get(t,{loop:a}).to({rotation:e+r},i).to({rotation:r},i).to({rotation:r-e},i).to({rotation:r},i).to({rotation:e+r},i).to({rotation:r},i).to({rotation:r-e},i).to({rotation:r},i).wait(2e3)},TweenEffect.fly=function(t,e,i,a,r){void 0===e&&(e=500),void 0===i&&(i=3),void 0===a&&(a=!0),void 0===r&&(r=1);var n,s;n=t.x,s=t.y,1==r?egret.Tween.get(t,{loop:a}).to({y:s+i},e).to({y:s},e).to({y:s-i},e).to({y:s},e):egret.Tween.get(t,{loop:a}).to({x:n+i},e).to({x:n},e).to({x:n-i},e).to({x:n},e)},TweenEffect.start=function(object,attr,delay,total,easeFunName,isLoop){void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object);var index=0,attr=attr,total=total,tweenTime=0;if(easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;setTimeout(function t(){if(index>=attr.length){if(!isLoop)return;index=0}tweenTime=index>0?(attr[index].percent-attr[index-1].percent)*total:attr[index].percent*total,egret.Tween.get(object).to(attr[index].attr,tweenTime,easeFun).call(t,this),index++},delay)},TweenEffect}();easy.TweenEffect=TweenEffect,__reflect(TweenEffect.prototype,"easy.TweenEffect")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.getPacket=function(t,i){void 0===i&&(i=!0);var a=e.packetCachePool[(i?"c_":"s_")+t];if(null==a&&(a=new Array,e.packetCachePool[(i?"c_":"s_")+t]=a),0==a.length){var r=egret.getDefinitionByName("PacketFactory");return r?r.createPacket(t,i):null}return a.shift()},e.releasePacket=function(t){var i=e.packetCachePool[(t.clientSide?"c_":"s_")+t.header.messageId];null==i&&(i=new Array,e.packetCachePool[(t.clientSide?"c_":"s_")+t.header.messageId]=i),i.push(t)},e.getEvent=function(i){var a=e.eventCachePool[i];return null==a&&(a=[],e.eventCachePool[i]=a),0==a.length?new t.MyEvent(i):a.pop()},e.releaseEvent=function(t){var i=e.eventCachePool[t.type];null==i&&(i=[],e.eventCachePool[t.type]=i),t.destory(),i.push(t)},e.addPacketEvent=function(t,i,a){if(null!=i&&!e.isContainerPacketEventListener(t,i,a)){var r=null;r=e.packetEventList[e.PREFIX+t],null==r&&(r=new Array,e.packetEventList[e.PREFIX+t]=r),r.push({func:i,owner:a})}},e.removePacketEvent=function(t,i,a){if(null!=i&&e.isContainerPacketEventListener(t,i,a)){var r=e.packetEventList[e.PREFIX+t];if(r)for(var n=0;n<r.length;n++)if(r[n].func==i&&r[n].owner==a){r.splice(n,1);break}}},e.isContainerPacketEventListener=function(t,i,a){var r=e.packetEventList[e.PREFIX+t];if(null!=r)for(var n=0;n<r.length;n++)if(r[n].func==i&&r[n].owner==a)return!0;return!1},e.dispactchPacket=function(i){null!=i&&(t.Debug.log=i,this.packetSendCacheList.push(i),t.HeartBeat.addListener(e,e.onFireDispactchPacket))},e.onFireDispactchPacket=function(){if(e.packetSendCacheList.length>0){var i=e.packetSendCacheList.shift();t.MessageControler.receivePacket(i);var a=e.packetEventList[e.PREFIX+i.header.messageId];if(null!=a){for(var r=a.length,n=0;r>n;n++){a[n];a[n].func.call(a[n].owner,i)}e.releasePacket(i)}}0==this.packetSendCacheList.length&&t.HeartBeat.removeListener(e,e.onFireDispactchPacket)},e.dispatch=function(t,i){void 0===i&&(i=null);var a=e.getEvent(t);if(i){var r=null;for(var n in i)"__class__"!=n&&"hashCode"!=n&&"__types__"!=n&&"__proto__"!=n&&(r=i[n],r instanceof Function||a.addItem(n,r))}e.dispatchEvent(a)},e.dispatchEvent=function(i){null!=i&&(e.eventSendCacheList.push(i),t.HeartBeat.addListener(e,e.onFiredispatchEvent))},e.onFiredispatchEvent=function(){if(e.eventSendCacheList.length>0){var i=e.eventSendCacheList.shift();t.MessageControler.receiveEvent(i);var a=e.commEventList[i.type];if(null!=a)for(var r=a.length-1;r>=0;r--)a[r].func.call(a[r].owner,i);e.releaseEvent(i)}0==e.eventSendCacheList.length&&t.HeartBeat.removeListener(e,e.onFiredispatchEvent)},e.removeEventListener=function(t,i,a){var r=e.commEventList[t];if(null!=r)for(var n=0;n<r.length;n++)if(r[n].func==i&&r[n].owner==a){r.splice(n,1);break}},e.addEventListener=function(t,i,a){if(null!=i&&!e.isContainerEventListener(t,i,a)){var r=e.commEventList[t];null==r&&(r=new Array,e.commEventList[""+t]=r),r.push({func:i,owner:a})}},e.isContainerEventListener=function(t,i,a){var r=e.commEventList[""+t];if(null!=r)for(var n=0;n<r.length;n++)if(r[n].func==i&&r[n].owner==a)return!0;return!1},e}();e.PREFIX="PKT_",e.packetEventList={},e.commEventList={},e.eventCachePool={},e.eventSendCacheList=[],e.packetCachePool={},e.packetSendCacheList=[],t.EventManager=e,__reflect(e.prototype,"easy.EventManager")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t}();e.SOCKET_CONNECT="SOCKET_CONNECT",e.SOCKET_DISCONNECT_ERROR="SOCKET_DISCONNECT_ERROR",e.SOCKET_DISCONNECT="SOCKET_DISCONNECT",e.SOCKET_SEND_SHOW="SOCKET_SEND_SHOW",e.SOCKET_SEND_HIDE="SOCKET_SEND_HIDE",e.SOCKET_SEND_TIMEOUT="SOCKET_SEND_TIMEOUT",e.STAGE_RESIZE="STAGE_RESIZE",e.UI_CONFIG_VOLUME="UI_CONFIG_VOLUME",e.UI_CONFIG_FULLSCREEN="UI_CONFIG_FULLSCREEN",e.UI_LOADER_COMPLETED="UI_LOADER_COMPLETED",e.MOVIEWCLIP_PLAY="MOVIEWCLIP_PLAY",e.MOVIEWCLIP_PLAY_END="MOVIEWCLIP_PLAY_END",e.UI_DEBUG_OPEN="DEBUG_UI_OPEN",e.UI_DEBUG_CLOSE="DEBUG_UI_CLOSE",e.VOLUME_CHANGED="VOLUME_CHANGED",e.RESOURCE_DOWNLOADED="RESOURCE_DOWNLOADED",e.RESOURCE_PROGRESS="RESOURCE_PROGRESS",e.PROJECT_RES_DOWNLOADED="PROJECT_RES_DOWNLOADED",e.GUIDE_FREEDBACK="GUIDE_FREEDBACK",e.GUIDE_END="GUIDE_END",e.GUIDE_SIMULATE="GUIDE_SIMULATE",e.VIEW_ENTER="VIEW_ENTER",e.VIEW_OUTER="VIEW_OUTER",e.WIN_ENTER="WIN_ENTER",e.WIN_OUTER="WIN_OUTER",e.GUIDE_TASK_TALKING_NOTIFY="GUIDE_TASK_TALKING_NOTIFY",e.GUIDE_PARAM_NOTIFY="GUIDE_PARAM_NOTIFY",e.GUIDE_WIN_CLOSE_NOTIFY="GUIDE_WIN_CLOSE_NOTIFY",e.GUIDE_TASK_CLOSE_NOTIFY="GUIDE_TASK_CLOSE_NOTIFY",e.GUIDE_STOP_ITEM="GUIDE_STOP_ITEM",e.STORY_TALKING="STORY_TALKING",e.STORY_END="STORY_END",e.GUIDE_EVENT_EXE="GUIDE_EVENT_EXE",e.GUIDE_EVENT_END="GUIDE_EVENT_END",e.GUIDE_CHAPTER_END="GUIDE_CHAPTER_END",e.SOUND_COMPLETE="SOUND_COMPLETE",e.SOUND_STOP="SOUND_STOP",e.VIDEO_END="VIDEO_END",e.ERASE_COMPLETE="erase_complete",e.ERASE_CHANGE="erase_change",t.EventType=e,__reflect(e.prototype,"easy.EventType")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.start=function(e,i,a,r,n){if(void 0===i&&(i=!0),void 0===a&&(a=0),void 0===r&&(r=9999),void 0===n&&(n=!0),i){var s=egret.MainContext.instance.stage;s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),s.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),s.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)}else this._moveObject.touchEnabled=!0,this._moveObject.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this._moveObject.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this._moveObject.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this);this._moveObject=e,n&&t.TweenEffect.setAnchorXY(this._moveObject),this._minScale=a*this._moveObject.width,this._maxScale=r*this._moveObject.width,this._moveObject instanceof t.Image&&(this._moveObject.autoSize=!0)},e.mouseDown=function(t){if(null==this._touchPoints[t.touchPointID]&&(this._touchPoints[t.touchPointID]=new egret.Point(t.stageX,t.stageY),this._touchPoints.names.push(t.touchPointID)),this._touchCount++,1==this._touchCount){var e=this._touchPoints.names;this._oldX=this._touchPoints[e[0]].x-this._moveObject.x,this._oldY=this._touchPoints[e[0]].y-this._moveObject.y,this._firstTouchId=t.touchPointID}2==this._touchCount&&(this._distance=this.getTouchDistance(),this._angle=this.getTouchAngle())},e.mouseMove=function(t){if(this._touchPoints[t.touchPointID].x=t.stageX,this._touchPoints[t.touchPointID].y=t.stageY,t.touchPointID==this._firstTouchId&&(this._moveObject.x=t.stageX-this._oldX,this._moveObject.y=t.stageY-this._oldY),2==this._touchCount){var e=this.getTouchDistance(),i=e/this._distance;i*this._moveObject.width<this._minScale&&(i=this._minScale/this._moveObject.width),i*this._moveObject.width>this._maxScale&&(i=this._maxScale/this._moveObject.width),this._moveObject.scaleX=i,this._moveObject.scaleY=i;var a=this.getTouchAngle();this._moveObject.rotation=a-this._angle+this._currentRotation}},e.mouseUp=function(t){delete this._touchPoints[t.touchPointID];var e=this._touchPoints.names.indexOf(t.touchPointID);-1!=e&&this._touchPoints.names.splice(e,1),this._touchCount--,this._moveObject.width*=this._moveObject.scaleX,this._moveObject.height*=this._moveObject.scaleY,this._moveObject.scaleX=1,this._moveObject.scaleY=1,this._isMiddle&&(this._moveObject.anchorOffsetX=this._moveObject.width/2,this._moveObject.anchorOffsetY=this._moveObject.height/2),this._moveObject.draw(),this._currentRotation=this._moveObject.rotation},e.getTouchDistance=function(){var t=this._touchPoints.names,e=0;return e=egret.Point.distance(this._touchPoints[t[t.length-1]],this._touchPoints[t[t.length-2]])},e.getTouchAngle=function(){var t=0,e=this._touchPoints.names,i=this._touchPoints[e[e.length-1]],a=this._touchPoints[e[e.length-2]];return t=180*Math.atan2(i.y-a.y,i.x-a.x)/Math.PI},e}();e._touchPoints={names:[]},e._distance=0,e._angle=0,e._touchCount=0,e._currentRotation=0,e._moveObject=null,e._isMiddle=!0,e._minScale=0,e._maxScale=0,e._oldX=0,e._oldY=0,e._firstTouchId=0,__reflect(e.prototype,"MoreTouch")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(t){this.callStack=null,this.type=null,this.datas={},this.type=t}return e.prototype.addItem=function(t,e){this.datas[t]=e},e.prototype.getItem=function(t){return this.datas.hasOwnProperty(t)?this.datas[t]:null},e.prototype.hasItem=function(t){return this.datas.hasOwnProperty(t)},e.prototype.destory=function(){this.callStack=null;for(var t in this.datas)delete this.datas[t]},e.prototype.removeItem=function(t){return this.datas.hasOwnProperty(t)?(delete this.datas[t],!0):!1},e.prototype.send=function(){t.EventManager.dispatchEvent(this)},e.getEvent=function(e){return t.EventManager.getEvent(e)},e.sendEvent=function(e,i){void 0===i&&(i=null),t.EventManager.dispatch(e,i)},e}();t.MyEvent=e,__reflect(e.prototype,"easy.MyEvent")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.init=function(){t.GlobalSetting.STAGE.frameRate=t.GlobalSetting.FRAME_RATE,t.HeartBeat._eplasedTime=1e3/t.GlobalSetting.FRAME_RATE;var i=RES.getRes("easygame_config");if(i){if(i.name&&(t.GlobalSetting.APP_NAME=i.name),i.product&&(t.GlobalSetting.APP_PRODUCT=i.product),i.version&&(t.GlobalSetting.APP_VERSION=i.version),i.report){var a=i.report;if(a.url&&(t.GlobalSetting.REPORT_URL=a.url),a.provide&&(t.GlobalSetting.APP_PROVIDE=a.provide),a.channel)for(var r=0;r<a.channel.length;r++)if(t.GlobalSetting.APP_PROVIDE==a.channel[r].id){t.GlobalSetting.APP_CHANNEL=a.channel[r].name,t.GlobalSetting.APP_RATE=a.channel[r].rate,t.GlobalSetting.APP_RATE_NAME=a.channel[r].unit,t.GlobalSetting.REPORT=a.channel[r].report,t.GlobalSetting.APP_STORAGE=a.channel[r].storage;break}}i.statistics&&(i.statistics.view&&(t.GlobalSetting.STATS_VIEW=i.statistics.view),i.statistics.win&&(t.GlobalSetting.STATS_WIN=i.statistics.win),i.statistics.btn&&(t.GlobalSetting.STATS_BTN=i.statistics.btn),i.statistics.mc&&(t.GlobalSetting.STATS_MC=i.statistics.mc),i.statistics.list&&(t.GlobalSetting.STATS_LIST=i.statistics.list)),i.dev&&(i.dev.scale_mode&&(t.GlobalSetting.DISPLAY_MODEL=i.dev.scale_mode),i.dev.loading_max&&(t.GlobalSetting.LOADING_THREAD_MAX=i.dev.loading_max),i.dev.debug&&(t.GlobalSetting.DEV_MODEL="true"==i.dev.debug),t.GlobalSetting.DEV_MODEL&&e.showDebugInfo(),RES.setMaxLoadingThread(t.GlobalSetting.LOADING_THREAD_MAX))}t.GlobalSetting.STAGE.addEventListener(egret.Event.RESIZE,e.onStageResize,e)},e.onStageResize=function(e){t.GlobalSetting.initInfoSize(),t.ViewManager.currentView&&t.ViewManager.currentView.onStageResize(),t.PopupManager.currentWin&&t.PopupManager.currentWin.onStageResize()},e.showDebugInfo=function(){if(t.GlobalSetting.DEV_MODEL){null==this._tfInfo&&(this._tfInfo=new egret.TextField),t.GlobalSetting.STAGE.addChild(this._tfInfo),this._tfInfo.x=300,this._tfInfo.width=300,this._tfInfo.height=40,t.HeartBeat.addListener(this,this.onShowHearBeatInfo);var e=new t.Button;t.GlobalSetting.STAGE.addChild(e),e.label="DEBUG",e.fontSize=16,e.labelColor=16711935,e.setSize(80,35),e.y=2,e.x=150,e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.DebugWin.show()},this)}},e.onShowHearBeatInfo=function(){e._tfInfo.text="HB:"+t.HeartBeat.getHearBeatLenght(),t.DebugWin._instance&&t.DebugWin._instance.parent&&t.DebugWin.refresh()},e}();e._tfInfo=null,t.EasyGame=e,__reflect(e.prototype,"easy.EasyGame");var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.calculateStageSize=function(t,e,i,a,r){var n=e,s=i,o=a,h=r,l=n/o||0,c=s/h||0;return l>c?o=Math.round(n/c):h=Math.round(s/l),{stageWidth:o,stageHeight:h,displayWidth:n,displayHeight:s}},e}(egret.sys.DefaultScreenAdapter);t.EasyGameFullScreen=i,__reflect(i.prototype,"easy.EasyGameFullScreen")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.show=function(i,a,r,n){void 0===a&&(a=null),void 0===r&&(r=!0),void 0===n&&(n=!0);var s=egret.getQualifiedClassName(i);if(e._winIsManager[s]=n,e.waitShowWin=t.ObjectPool.getByClass(i,"",!1),e.currentWin){if(e.currentWin==e.waitShowWin)return t.GlobalSetting.STAGE.addChild(e.currentWin),e.waitShowWin=null,e.currentWin;s=egret.getQualifiedClassName(e.currentWin);var o=e._winIsManager[s];o&&(e.CURRENT_SHOW.indexOf(e.currentWin)<0&&e.CURRENT_SHOW.push(e.currentWin),e.currentWin.removeFromParent())}return null==e._mask&&(e._mask=new egret.Shape,e._mask.touchEnabled=!0,e._mask.graphics.beginFill(0,.8),e._mask.graphics.drawRect(0,0,t.GlobalSetting.STAGE_WIDTH,t.GlobalSetting.STAGE_HEIGHT),e._mask.graphics.endFill()),r?t.GlobalSetting.STAGE.addChild(e._mask):e._mask.parent&&e._mask.parent.removeChild(e._mask),e.waitShowWin&&(e.waitShowWin.data=a,e.waitShowWin.alpha=0,t.GlobalSetting.STAGE.addChildAt(e.waitShowWin,0)),e.waitShowWin&&e.waitShowWin.checkResReady()?(e.waitWinDoEnter(),e.waitShowWin):null},e.waitWinDoEnter=function(){if(e.waitShowWin){e.waitShowWin._uiResReady||(e.waitShowWin._uiResReady=!0),e.waitShowWin.removeFromParent(),e.waitShowWin.alpha=1,t.GlobalSetting.STAGE.addChild(e.waitShowWin),e.waitShowWin.x=t.ViewManager.currentView.cx-e.waitShowWin.cx,e.waitShowWin.y=t.ViewManager.currentView.cy-e.waitShowWin.cy;var i=egret.getQualifiedClassName(e.waitShowWin);e._winIsManager[i];e.currentWin=e.waitShowWin,e.waitShowWin.enter()}},e.hidden=function(i){var a=egret.getQualifiedClassName(i),r=t.ObjectPool.getObject(a,!1);r&&(r.outer(),r.removeFromParent(),e.CURRENT_SHOW.lastIndexOf(r)>=0&&e.CURRENT_SHOW.splice(e.CURRENT_SHOW.indexOf(r),1)),e.currentWin==r&&(e._mask&&e._mask.parent&&e._mask.parent.removeChild(e._mask),e.currentWin=null,e.CURRENT_SHOW.length>0&&(e.currentWin=e.CURRENT_SHOW.pop())),e.currentWin?(t.GlobalSetting.STAGE.addChild(e._mask),t.GlobalSetting.STAGE.addChild(e.currentWin)):e._mask&&e._mask.parent&&t.GlobalSetting.STAGE.removeChild(e._mask)},e.getWinInstance=function(e){return t.ObjectPool.getByClass(e,"",!1)},e.isShow=function(t){var i=e.getWinInstance(t);return e.CURRENT_SHOW.indexOf(i)>=0||e.currentWin==i?!0:!1},e.onEventMask=function(t){t.stopImmediatePropagation(),t.stopPropagation()},e.removeAll=function(){for(;e.currentWin;)e.hidden(e.currentWin);for(;e.CURRENT_SHOW.length>0;)e.hidden(e.CURRENT_SHOW.pop());e.currentWin=null},e}();e.defaultLoadingClass=t.DefaultLoadingView,e.CURRENT_SHOW=[],e.waitShowWin=null,e.currentWin=null,e._winIsManager={},e._mask=null,t.PopupManager=e,__reflect(e.prototype,"easy.PopupManager")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.getTexture=function(t){return!this._isInit&&e._canSplite&&e.spliteSpriteSheet(),e._projectNameSprite.indexOf(t)>=0?this._isInit?e._spriteSheet.getTexture(t):null:e.getRes(t)
},e.getRes=function(i,a){return void 0===a&&(a=RES.ResourceItem.TYPE_IMAGE),t.StringUtil.isUsage(i)?e._urlDataDict[i]?e._urlDataDict[i]:RES.hasRes(i)?RES.getRes(i):(e._urlDownloading.indexOf(i)<0&&(e._urlDownloading.push(i),t.GlobalSetting.isNative()?RES.getResByUrl(RES.getVersionController().getVirtualUrl(i),e.onloadedCompleteDynamicTexture,this,a):RES.getResByUrl(i+"?r="+Math.floor(9999999999*Math.random()),e.onloadedCompleteDynamicTexture,this,a)),null):null},e.onloadedCompleteDynamicTexture=function(i,a){var r=a;if(r.lastIndexOf("?r=")>0&&(r=r.substring(0,r.lastIndexOf("?r="))),i){e._urlDownloading.indexOf(r)>=0&&e._urlDownloading.splice(e._urlDownloading.indexOf(r),1),e._urlDataDict[r]=i;var n=t.MyEvent.getEvent(t.EventType.RESOURCE_DOWNLOADED);n.addItem("name",r),n.addItem("data",i),n.send()}},e.loadResFile=function(i){e._projectName=i,e._projectGroup=i+"_common",e.loadConfig(t.GlobalSetting.CDN_RES+"assets/ui/"+e._projectName+"/"+e._projectGroup+"_loader.json",[e._projectGroup+"_group"],e.onLoadingGroupJosnFileComplete,e)},e.onLoadingGroupJosnFileComplete=function(i){RES.isGroupLoaded(e._projectGroup+"_group")&&!e._canSplite&&(e._canSplite=!0,t.MyEvent.sendEvent(t.EventType.PROJECT_RES_DOWNLOADED))},e.spliteSpriteSheet=function(){if(!e._isInit&&e._canSplite){e._isInit=!0;var t=RES.getRes(e._projectGroup+"_json");if(t){e._spriteSheet=new egret.SpriteSheet(RES.getRes(e._projectGroup+"_img"));for(var i in t.texture)e._projectNameSprite.push(i),e._spriteSheet.createTexture(i,t.texture[i].x,t.texture[i].y,t.texture[i].w,t.texture[i].h)}}},e.checkProjectResLoaded=function(){return t.StringUtil.isUsage(e._projectGroup)?e._canSplite:!0},e.addIdleDownload=function(i){if(i){var a=new i;a instanceof t.View||a instanceof t.Win||a instanceof t.Template?(e._idleDownloadClz.indexOf(i)<0&&e._idleDownloadClz.push(i),t.ObjectPool.recycleClass(a),t.HeartBeat.addListener(this,this.onHbCheckDownloadIdle,t.GlobalSetting.CHECK_IDLE_LOADING)):t.Debug.log="[WARING]addIdleDownload 类不是WIN或者VIEW,不做调度下载!"}},e.onHbCheckDownloadIdle=function(){e._currentIdleDown&&e._currentIdleDown._uiResReady&&(e._currentIdleDown=null),null==e._currentIdleDown&&e._idleDownloadClz.length>0&&e.onFireIdleDownload(),0==e._idleDownloadClz.length&&(e._currentIdleDown=null,t.HeartBeat.removeListener(this,this.onHbCheckDownloadIdle))},e.onFireIdleDownload=function(){if(null==e._currentIdleDown&&e._idleDownloadClz.length>0){var i=e._idleDownloadClz.shift(),a=t.ObjectPool.getByClass(i,"",!1);a&&!a._uiResReady&&(e._currentIdleDown=a,a.visible=!1,t.GlobalSetting.STAGE.addChildAt(a,0),a.idleDownload(),a.removeFromParent(),a.visible=!0)}},e.loadConfig=function(i,a,r,n){void 0===a&&(a=null),void 0===r&&(r=null),void 0===n&&(n=null),t.GlobalSetting.isNative()?RES.getResByUrl(RES.getVersionController().getVirtualUrl(i),e.onLoadConfigComplete,e,RES.ResourceItem.TYPE_JSON):RES.getResByUrl(i+"?r="+Math.floor(9999999999*Math.random()),e.onLoadConfigComplete,e,RES.ResourceItem.TYPE_JSON),a&&a.length>0&&e.loadGroups(a,r,n)},e.loadGroups=function(t,i,a,r){if(void 0===i&&(i=null),void 0===a&&(a=null),void 0===r&&(r=!1),null!=t&&0!=t.length)for(var n=0;n<t.length;n++)e.loadGroup(t[n],i,a,r)},e.loadGroup=function(i,a,r,n){void 0===a&&(a=null),void 0===r&&(r=null),void 0===n&&(n=!1),t.StringUtil.isUsage(i)&&e.addGroupCompleteListener(i,a,r,n)},e.onLoadConfigComplete=function(i){RES.parseConfig(i,t.GlobalSetting.CDN_RES),e.onCheckLoadGroup()},e.onLoadGroupComplete=function(i){i&&(e._res_resourceConfig=i.target.resConfig);for(var a=null,r=e._res_group_arr.length-1;r>=0;r--)if(a=e._res_group_arr[r],t.StringUtil.isUsage(a)){if(RES.isGroupLoaded(a)&&(e._res_group_loading_arr.indexOf(a)>=0&&e._res_group_loading_arr.splice(e._res_group_loading_arr.indexOf(a),1),e._res_group_arr.splice(e._res_group_arr.indexOf(a),1),e._res_group_listener_name.indexOf(a)>=0)){for(var n=e._res_group_listener[a],r=0;r<n.length;r++)n[r]&&n[r].func&&n[r].func.call(n[r].thisObj,i);e.removeGroupCompleteListener(a)}}else e._res_group_arr.splice(r,1);0==e._res_group_arr.length&&(t.HeartBeat.removeListener(e,e.onCheckLoadGroup),e._res_group_listener_add&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onLoadGroupComplete,e),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onLoadGroupError,e)),e._res_group_listener_add=!1)},e.onLoadGroupError=function(i){i&&t.StringUtil.isUsage(i.groupName)&&(e._res_group_loading_arr.indexOf(i.groupName)>=0&&e._res_group_loading_arr.splice(e._res_group_loading_arr.indexOf(i.groupName),1),e._res_group_arr.indexOf(i.groupName)>=0&&e._res_group_arr.splice(e._res_group_arr.indexOf(i.groupName),1))},e.onCheckLoadGroup=function(){null==e._res_resourceConfig&&(e._res_resourceConfig=RES.configInstance);for(var i=null,a=!0,r=null,n=[],s=0;s<e._res_group_arr.length;s++)if(r=e._res_group_arr[s],t.StringUtil.isUsage(r)){if(i=null,e._res_resourceConfig&&(i=e._res_resourceConfig.getRawGroupByName(r)),i&&i.length>0&&!i[0].loaded)a=!1,e._res_group_loading_arr.indexOf(r)<0&&(e._res_group_loading_arr.push(r),RES.loadGroup(r));else if(RES.isGroupLoaded(r))n.push(r);else if(i){for(var o=0,h=0;h<i.length;h++)i[h].loaded&&o++;o>0&&o==i.length&&(RES.isGroupLoaded(r)?n.push(r):RES.loadGroup(r))}}else e._res_group_arr.splice(s,1);for(var h=0;h<n.length;h++)if(r=n[h],e._res_group_arr.splice(e._res_group_arr.indexOf(r),1),e._res_group_loading_arr.indexOf(r)>=0&&e._res_group_loading_arr.splice(e._res_group_loading_arr.indexOf(r),1),e._res_group_listener_name.indexOf(r)>=0){for(var l=e._res_group_listener[r],s=0;s<l.length;s++)l[s].func&&l[s].func.call(l[s].thisObj,null);e.removeGroupCompleteListener(r)}a&&this.onLoadGroupComplete(null)},e.addGroupCompleteListener=function(i,a,r,n){if(void 0===n&&(n=!1),t.StringUtil.isUsage(i)){e._res_group_arr.indexOf(i)<0&&(n?e._res_group_arr.unshift(i):e._res_group_arr.push(i),e.checkAddGroupCompleteListener());var s=[];if(e._res_group_listener_name.indexOf(i)>=0?s=e._res_group_listener[i]:(e._res_group_listener_name.push(i),e._res_group_listener[i]=s),null!=a||null!=r){for(var o=0;o<s.length;o++)if(s[o].func==a&&s[o].thisObj==r)return;s.push({func:a,thisObj:r})}t.HeartBeat.addListener(e,e.onCheckLoadGroup,e._res_hb_rate)}},e.checkAddGroupCompleteListener=function(){e._res_group_listener_add||(e._res_group_listener_add=!0,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onLoadGroupComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onLoadGroupError,e))},e.removeGroupCompleteListener=function(t){e._res_group_listener_name.indexOf(t)>=0&&(delete e._res_group_listener[t],e._res_group_listener_name.splice(e._res_group_listener_name.indexOf(t),1),0==e._res_group_listener_name.length&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onLoadGroupComplete,e),e._res_group_listener_add=!1))},e}();e._hasProjectResLoading=!1,e._isInit=!1,e._canSplite=!1,e._projectGroup="",e._projectName="",e._projectNameSprite=[],e._spriteSheet=null,e._urlDataDict={},e._urlDownloading=[],e._idleDownloadClz=[],e._currentIdleDown=null,e._res_group_arr=[],e._res_group_loading_arr=[],e._res_group_listener={},e._res_group_listener_name=[],e._res_group_listener_add=!1,e._res_resourceConfig=null,e._res_hb_rate=30,t.ResManager=e,__reflect(e.prototype,"easy.ResManager")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.reverseView=function(){e.reverseClz&&e.show(e.reverseClz,e.reverseData)},e.show=function(i,a,r){void 0===a&&(a=null),void 0===r&&(r=!0),t.PopupManager.removeAll(),null==e.mainContainer&&(e.mainContainer=t.GlobalSetting.STAGE.getChildAt(0)),e._waitChangeView=t.ObjectPool.getByClass(i,"",!1);egret.getQualifiedClassName(i);return e._waitChangeView==e.currentView?void(e._waitChangeView=null):(e.reverseClz=e._currentClz,e.reverseData=e._currentData,e._currentClz=i,e._currentData=a,e._waitChangeView&&(e._waitChangeView.alpha=0,e._waitChangeView.data=a,e._waitChangeView.showLoading=r,e.mainContainer.addChildAt(e._waitChangeView,0)),void(e._waitChangeView&&e._waitChangeView.checkResReady()&&e.waitViewDoEnter()))},e.waitViewDoEnter=function(){if(e.currentView&&e._waitChangeView&&e._waitChangeView!=e.currentView){e.currentView.outer();egret.getQualifiedClassName(e.currentView)}e._waitChangeView&&(e._waitChangeView._uiResReady||(e._waitChangeView._uiResReady=!0),e._waitChangeView.removeFromParent(),e.mainContainer.addChild(e._waitChangeView),e.currentView=e._waitChangeView,t.GlobalSetting.DISPLAY_MODEL==t.GlobalSetting.DISPLAY_VIEW_EASYGAME&&e.currentView.setSize(t.GlobalSetting.DISPLAY_WIDTH,t.GlobalSetting.DISPLAY_HEIGHT),e.currentView.alpha=1,e.currentView.x=0,e.currentView.y=0,e.currentView.enter(),e._waitChangeView=null)},e.receivePacket=function(i){e.currentView&&e.currentView.receivePacket(i),t.PopupManager.currentWin&&t.PopupManager.currentWin.receivePacket(i)},e.receiveEvent=function(i){e.currentView&&e.currentView.receiveEvent(i),t.PopupManager.currentWin&&t.PopupManager.currentWin.receiveEvent(i)},e}();e.defaultLoadingClass=t.DefaultLoadingView,e.mainContainer=null,e.currentView=null,e._waitChangeView=null,e._currentClz=null,e._currentData=null,e.reverseClz=null,e.reverseData=null,t.ViewManager=e,__reflect(e.prototype,"easy.ViewManager")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){this.METHOD_DEF={},this.EVENT_DEF=[],this.initWeekListener()}return t.prototype.initWeekListener=function(){},t.prototype.addHandleEvent=function(t,e){this.EVENT_DEF.indexOf(t)<0&&(this.EVENT_DEF.push(t),this.METHOD_DEF[t]=e)},t.prototype.addHandlePacket=function(t,e){this.METHOD_DEF[""+t]=e},t.prototype.receivePacket=function(t){this.METHOD_DEF.hasOwnProperty(""+t.header.messageId)&&this["onPacket"+this.METHOD_DEF[""+t.header.messageId]].call(this,t)},t.prototype.receiveEvent=function(t){this.EVENT_DEF.indexOf(t.type)>=0&&this.METHOD_DEF.hasOwnProperty(t.type)&&this["onEvent"+this.METHOD_DEF[t.type]].call(this,t)},t}();t.BaseHandle=e,__reflect(e.prototype,"easy.BaseHandle",["easy.IHandle"])}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.addHandle=function(t){null!=t&&e._handles.indexOf(t)<0&&e._handles.push(t)},e.addEvent=function(t){e._eventHandles.indexOf(t)<0&&e._eventHandles.push(t)},e.receiveEvent=function(i){if(e._eventHandles.indexOf(i.type)>=0){t.ViewManager.receiveEvent(i);var a=0;for(a=0;a<e._handles.length;a++)e._handles[a].receiveEvent(i)}},e.receivePacket=function(i){var a=0;for(a=0;a<e._handles.length;a++)e._handles[a].receivePacket(i);t.ViewManager.receivePacket(i)},e}();e._handles=[],e._eventHandles=[],t.MessageControler=e,__reflect(e.prototype,"easy.MessageControler")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){this.id=null,this.name=null,this.type=null,this.item=null}return e.prototype.escapeChars=function(){this.name=t.StringUtil.replace(this.name,"{~D!}",","),this.name=t.StringUtil.replace(this.name,"{~N!}","\n")},e}();t.GuideChapter=e,__reflect(e.prototype,"easy.GuideChapter")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){this._condition="befor",this._item=null,this._currentClz=null,this._completeCallFunc=null,this._completeCallFuncThis=null,t.EventManager.addEventListener(t.EventType.GUIDE_EVENT_END,this.onMyEventGuideExecuteEnd,this)}return e.prototype.onMyEventGuideExecuteEnd=function(e){this._item&&this._item.id==e.getItem("item_id")&&("befor"==this._condition?t.GuideManager.playItem(this._item,this._currentClz,this._completeCallFunc,this._completeCallFuncThis,!1):(t.GuideManager.currentItem=this._item,t.GuideManager._completeCallFunc=this._completeCallFunc,t.GuideManager._completeCallFuncThis=this._completeCallFuncThis,t.GuideManager.currentClz=this._currentClz,t.GuideManager.playNextItem(!1)),this._item=null,this._completeCallFunc=null,this._completeCallFuncThis=null,this._currentClz=null)},e.prototype.executeBefor=function(e,i,a,r){if(void 0===i&&(i=null),void 0===a&&(a=null),void 0===r&&(r=null),t.StringUtil.isUsage(e.event_data)){this._condition="befor",this._item=e,this._completeCallFunc=a,this._completeCallFuncThis=r,this._currentClz=i;var n=t.MyEvent.getEvent(t.EventType.GUIDE_EVENT_EXE);n.addItem("event_data",e.event_data),n.addItem("item_id",e.id),n.send()}},e.prototype.executeAfter=function(e,i,a,r){if(void 0===i&&(i=null),void 0===a&&(a=null),void 0===r&&(r=null),t.StringUtil.isUsage(e.event_data)){this._condition="after",this._item=e,this._completeCallFunc=a,this._completeCallFuncThis=r,this._currentClz=i;var n=t.MyEvent.getEvent(t.EventType.GUIDE_EVENT_EXE);n.addItem("event_data",e.event_data),n.addItem("item_id",e.id),n.send()}},e}();t.GuideExecuteManager=e,__reflect(e.prototype,"easy.GuideExecuteManager")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){this.id=null,this.name=null,this.desc=null,this.type=null,this.chapter=null,this.target=null,this.next_frame=null,this.next_delay=0,this.text=null,this.click_num=0,this.click_stage=1,this.aside=!1,this.h_align=null,this.h_pos=0,this.v_align=null,this.v_pos=0,this.icon=null,this.oxIcon=0,this.oyIcon=0,this.oxWin=0,this.oyWin=0,this.data=null,this.nick=null,this.mirror=0,this.txt_model=null,this.txt_frame=0,this.mask=null,this.opts=null,this.event_data=null,this.event_condition=null,this.handle_type=null,this.handle_path=null,this.handle_data=null,this.focus_color=null,this.focus_stress=0,this.focus_gap=0,this.focus_x=0,this.focus_y=0,this.focus_data=null}return e.prototype.escapeChars=function(){this.name=t.StringUtil.replace(this.name,"{~D!}",","),this.name=t.StringUtil.replace(this.name,"{~N!}","\n"),this.nick=t.StringUtil.replace(this.nick,"{~D!}",","),this.nick=t.StringUtil.replace(this.nick,"{~N!}","\n"),this.text=t.StringUtil.replace(this.text,"{~D!}",","),this.text=t.StringUtil.replace(this.text,"{~N!}","\n"),this.focus_color=t.StringUtil.replace(this.focus_color,"{~D!}",",")},e}();e.MASK_NONE="none",e.MASK_NORMAL="guide",e.MASK_CROPPING="cropping",t.GuideItem=e,__reflect(e.prototype,"easy.GuideItem")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.play=function(t,i,a,r,n){void 0===i&&(i=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===n&&(n=!0),e.guide_item_dict[t]&&e.playItem(e.guide_item_dict[t],i,a,r,n)},e.playItem=function(i,a,r,n,s){if(void 0===a&&(a=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===s&&(s=!0),i){if(e._guideExecuteManager||(e._guideExecuteManager=new t.GuideExecuteManager),e._completeCallFunc=r,e._completeCallFuncThis=n,s&&t.StringUtil.isUsage(i.event_data)&&"after"!=i.event_condition)return void e._guideExecuteManager.executeBefor(i,a,r,n);var o=t.DefaultGuideWin;if(e.currentClz&&(o=e.currentClz),a&&(o=a),!e.checkReadyShow(i))return e.currentItem=i,void t.HeartBeat.addListener(e,e.onHbCheckItemUIReady,5);e.currentItem=i,e.currentClz=o,i.mask==t.GuideItem.MASK_NORMAL?(e._targetFoucsUI.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchCanvasTap,e),e.setFoucsMaskSize(),e.showMaskFocus()):(e.showMaskCropping(),t.ViewManager.currentView.touchEnabled=!1,t.ViewManager.currentView.touchChildren=!1,t.GlobalSetting.STAGE.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchStage,e));var h=t.PopupManager.isShow(o),l=t.PopupManager.show(o,i,!1);h&&l&&e.currentItem&&(l.data=i,l.enter())}},e.onTouchCanvasTap=function(t){e._targetFoucsUI.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchCanvasTap,e),e.checkPlayNextItem()},e.onTouchStage=function(i){i.currentTarget==t.GlobalSetting.STAGE&&(t.GlobalSetting.STAGE.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchStage,e),e.checkPlayNextItem())},e.checkPlayNextItem=function(){e.playNextItem()||t.PopupManager.hidden(t.PopupManager.currentWin)},e.onHbCheckItemUIReady=function(){e.playItem(e.currentItem,e.currentClz,e._completeCallFunc,e._completeCallFuncThis)},e.checkReadyShow=function(i){if(i&&t.StringUtil.isUsage(i.handle_path)){var a=t.StringUtil.spliteStrArr(i.handle_data,"."),r=null;if("view"==i.handle_type?r=t.ViewManager.currentView:"win"==i.handle_type&&(r=t.PopupManager.currentWin),!r||egret.getQualifiedClassName(r)!=i.handle_path)return!1;for(var n=0;n<a.length;n++)if(r=r[a[n]],null==r)return!1;if(e._targetFoucsUI=r,t.HeartBeat.removeListener(e,e.onHbCheckItemUIReady),i.focus_gap>0&&(e._circleRunGap=i.focus_gap),i.focus_stress>0&&(e._circleRunThickness=i.focus_stress),t.StringUtil.isUsage(i.focus_color)){var s=t.StringUtil.spliteStrArr(i.focus_color,",");s.length>0&&(this._circleColor=parseInt(s[0],16)),s.length>1&&(this._circleRunColor=parseInt(s[1],16))}}return!0},e.playNextItem=function(i){if(void 0===i&&(i=!0),e._targetFoucsUI=null,i&&e.currentItem&&t.StringUtil.isUsage(e.currentItem.event_data)&&"after"==e.currentItem.event_condition)return e._guideExecuteManager.executeAfter(e.currentItem,e.currentClz,e._completeCallFunc,e._completeCallFuncThis),void(e.currentItem=null);if(e.currentItem&&t.StringUtil.isUsage(e.currentItem.next_frame)){var a=e.guide_item_dict[e.currentItem.next_frame];if(a)return e.playItem(a,e.currentClz,e._completeCallFunc,e._completeCallFuncThis),!0}return e.stop(),!1},e.stop=function(){e._completeCallFunc&&e._completeCallFunc.call(e._completeCallFuncThis),t.MyEvent.sendEvent(t.EventType.GUIDE_CHAPTER_END),t.ViewManager.currentView.touchEnabled=!0,t.ViewManager.currentView.touchChildren=!0,e.currentItem=null,e.removeMaskCropping(),e.removeMaskFocus(),e._completeCallFunc=null,e._completeCallFuncThis=null},e.showMaskFocus=function(){e.removeMaskFocus(),null==e._groupMask&&(e._groupMask=new t.BaseGroup,e._groupMask.touchEnabled=!1,e._groupMask.touchChildren=!1),null==e._mask0&&(e._mask0=new egret.Bitmap,e._mask0.touchEnabled=!1),null==e._maskCircle&&(e._maskCircle=new egret.Shape,e._maskCircle.touchEnabled=!1),e._groupMask.x=0,e._groupMask.y=0;var i=0,a=0,r=0,n=0;r=0,n=0,i=e._circleY-e._circleR,a=t.GlobalSetting.DISPLAY_WIDTH,e._mask1=t.ObjectPool.getByClass(egret.Shape),e._mask1.touchEnabled=!0,e._mask1.graphics.clear(),e._mask1.graphics.beginFill(e._maskColor,this._maskAlpha),e._mask1.graphics.drawRect(0,0,a,i),e._mask1.graphics.endFill(),e._mask1.width=a,e._mask1.height=i,e._mask1.x=r,e._mask1.y=n,e._mask1.parent||t.GlobalSetting.STAGE.addChild(e._mask1),r=0,n=e._circleY-e._circleR,a=e._circleX-e._circleR,i=2*e._circleR,e._mask2=t.ObjectPool.getByClass(egret.Shape),e._mask2.touchEnabled=!0,e._mask2.graphics.clear(),e._mask2.graphics.beginFill(e._maskColor,e._maskAlpha),e._mask2.graphics.drawRect(0,0,a,i),e._mask2.graphics.endFill(),e._mask2.width=a,e._mask2.height=i,e._mask2.x=r,e._mask2.y=n,t.GlobalSetting.STAGE.addChild(e._mask2),r=e._circleX+e._circleR,n=e._circleY-e._circleR,a=t.GlobalSetting.DISPLAY_WIDTH-e._circleX-e._circleR,i=2*e._circleR,e._mask3=t.ObjectPool.getByClass(egret.Shape),e._mask3.touchEnabled=!0,e._mask3.graphics.clear(),e._mask3.graphics.beginFill(e._maskColor,e._maskAlpha),e._mask3.graphics.drawRect(0,0,a,i),e._mask3.graphics.endFill(),e._mask3.width=a,e._mask3.height=i,e._mask3.x=r,e._mask3.y=n,t.GlobalSetting.STAGE.addChild(e._mask3),r=0,n=e._circleY+e._circleR,a=t.GlobalSetting.DISPLAY_WIDTH,i=t.GlobalSetting.DISPLAY_HEIGHT-e._circleY-e._circleR,e._mask4=t.ObjectPool.getByClass(egret.Shape),e._mask4.touchEnabled=!0,e._mask4.graphics.clear(),e._mask4.graphics.beginFill(e._maskColor,e._maskAlpha),e._mask4.graphics.drawRect(0,0,a,i),e._mask4.graphics.endFill(),e._mask4.width=a,e._mask4.height=i,e._mask4.x=r,e._mask4.y=n,t.GlobalSetting.STAGE.addChild(e._mask4),r=this._circleX-this._circleR,n=this._circleY-this._circleR,a=2*e._circleR,i=2*e._circleR;var s=t.ObjectPool.getByClass(egret.Shape);s.graphics.clear(),s.graphics.beginFill(e._maskColor,e._maskAlpha),s.graphics.drawRect(0,0,a,i),s.graphics.endFill();var o=t.ObjectPool.getByClass(egret.Shape);if(o.graphics.clear(),o.graphics.beginFill(e._maskColor,e._maskAlpha),o.graphics.drawCircle(e._circleR,e._circleR,e._circleR),o.graphics.endFill(),e._mask0.x=r,e._mask0.y=n,e._groupMask.addChild(e._mask0),e._groupMask.addChild(e._maskCircle),t.GlobalSetting.STAGE.addChild(e._groupMask),t.ObjectPool.recycleClass(s),t.ObjectPool.recycleClass(o),t.HeartBeat.addListener(e,e.onHbCircleRun,1),e._circleRunR=e._circleR+e._circleRunGap*e._circleRunGapNum,e._circleRunAlpha=.1,e.currentClz){var h=t.PopupManager.getWinInstance(e.currentClz);h&&t.GlobalSetting.STAGE.addChild(h)}},e.setFoucsMaskSize=function(){var i=!1;if(e._targetFoucsUI&&e.currentItem){var a=t.StringUtil.parserStrToObj(e.currentItem.focus_data),r=e._targetFoucsUI.width;e._targetFoucsUI.height>r&&(r=e._targetFoucsUI.height),r/=2,a.gap_r&&(r+=parseFloat(a.gap_r)),e._circleR!=r&&(e._circleR=r,i=!0);var n=e._targetFoucsUI.parent.localToGlobal(e._targetFoucsUI.x,e._targetFoucsUI.y),s=n.x+e._targetFoucsUI.width/2+e.currentItem.focus_x,o=n.y+e._targetFoucsUI.height/2+e.currentItem.focus_y;e._circleX!=s&&(e._circleX=s,i=!0),e._circleY!=o&&(e._circleY=o,i=!0)}return i},e.onHbCircleRun=function(){return e._circleRunGapPause<e._circleRunGapPauseMax?void e._circleRunGapPause++:(e.setFoucsMaskSize()&&this.showMaskFocus(),e._maskCircle.graphics.clear(),e._maskCircle.graphics.lineStyle(e._circleRunThickness,e._circleColor),e._maskCircle.graphics.drawCircle(e._circleX,e._circleY,e._circleR+e._circleRunThickness/2),e._maskCircle.graphics.endFill(),e._maskCircle.graphics.lineStyle(e._circleRunThickness2,e._circleRunColor,e._circleRunAlpha),e._maskCircle.graphics.drawCircle(e._circleX,e._circleY,e._circleRunR),e._maskCircle.graphics.endFill(),e._circleRunR-=e._circleRunGap,e._circleRunAlpha+=1/e._circleRunGapNum,void(e._circleRunR<=e._circleR+e._circleRunThickness&&(e._circleRunGapPause=0,e._circleRunR=e._circleR+e._circleRunGap*e._circleRunGapNum,e._circleRunAlpha=.1)))},e.removeMaskFocus=function(){t.HeartBeat.removeListener(this,this.onHbCircleRun),e._mask1&&e._mask1.parent&&(e._mask1.parent.removeChild(e._mask1),t.ObjectPool.recycleClass(e._mask1),e._mask1=null),e._mask2&&e._mask2.parent&&(e._mask2.parent.removeChild(e._mask2),t.ObjectPool.recycleClass(e._mask2),e._mask2=null),e._mask3&&e._mask3.parent&&(e._mask3.parent.removeChild(e._mask3),t.ObjectPool.recycleClass(e._mask3),e._mask3=null),e._mask4&&e._mask4.parent&&(e._mask4.parent.removeChild(e._mask4),t.ObjectPool.recycleClass(e._mask4),e._mask4=null),e._groupMask&&e._groupMask.removeFromParent()},e.showMaskCropping=function(i){void 0===i&&(i=null),e.croppingTop||(e.croppingTop=new t.Group),e.croppingBottom||(e.croppingBottom=new t.Group),e.croppingTop.parent?(t.GlobalSetting.STAGE.addChild(e.croppingTop),t.GlobalSetting.STAGE.addChild(e.croppingBottom),e.initCropping(i)):(t.GlobalSetting.STAGE.addChild(e.croppingTop),t.GlobalSetting.STAGE.addChild(e.croppingBottom),e.initCropping(i),e.croppingTop.y=-e.croppingTop.height,e.croppingBottom.y=t.GlobalSetting.STAGE.stageHeight,egret.Tween.get(e.croppingTop).to({y:0},500),egret.Tween.get(e.croppingBottom).to({y:t.GlobalSetting.STAGE.stageHeight-e.croppingBottom.height},500))},e.removeMaskCropping=function(){e.croppingTop&&e.croppingTop.parent&&(egret.Tween.get(e.croppingTop).to({y:-e.croppingTop.height},500).call(e.onCompleteOutCropping,e),egret.Tween.get(e.croppingBottom).to({y:t.GlobalSetting.STAGE.height},500))},e.onCompleteOutCropping=function(){e.croppingTop.removeFromParent(),e.croppingBottom.removeFromParent()},e.initCropping=function(i){void 0===i&&(i=null),e._initCropping||(e._initCropping=!0,e.croppingTop.width=t.GlobalSetting.STAGE.stageWidth,e.croppingTop.border=!1,e.croppingBottom.width=t.GlobalSetting.STAGE.stageWidth,e.croppingBottom.border=!1,e.croppingTop.height=100,e.croppingTop.bgColor=0,e.croppingTop.alpha=.6,e.croppingBottom.height=100,e.croppingBottom.bgColor=0,e.croppingBottom.alpha=.6),i&&(e.croppingTop.bgTexture=RES.getRes(i),e.croppingTop.alpha=1,e.croppingBottom.bgTexture=RES.getRes(i),e.croppingBottom.alpha=1,e.croppingTop.bgTexture&&(e.croppingTop.height=e.croppingTop.bgTexture.textureHeight,e.croppingBottom.height=e.croppingBottom.bgTexture.textureHeight))},e.getGuideItem=function(i){return t.StringUtil.isUsage(i)&&e.guide_item_dict[i]?e.guide_item_dict[i]:null},e.getGuideChapter=function(i){return t.StringUtil.isUsage(i)&&e.guide_chapter_dict[i]?e.guide_chapter_dict[i]:null},e.addGuideItem=function(e){t.GuideManager.guide_item_dict[""+e.id]=e,t.GuideManager.guide_item_arr.push(e)},e.addGuideChapter=function(e){t.GuideManager.guide_chapter_dict[""+e.id]=e,t.GuideManager.guide_chapter_arr.push(e)},e}();e._init_data=!1,e.guide_chapter_dict={},e.guide_chapter_arr=[],e.guide_item_dict={},e.guide_item_arr=[],e.currentItem=null,e.currentView=null,e.currentClz=null,e.croppingTop=null,e.croppingBottom=null,e._initCropping=!1,e._completeCallFunc=null,e._completeCallFuncThis=null,e._guideExecuteManager=null,e._groupMask=null,e._mask0=null,e._maskCircle=null,e._mask1=null,e._mask2=null,e._mask3=null,e._mask4=null,e._circleX=350,e._circleY=800,e._circleR=50,e._circleColor=16771584,e._circleRunColor=9206271,e._maskColor=0,e._maskAlpha=.8,e._circleRunR=0,e._circleRunThickness=13,e._circleRunThickness2=8,e._circleRunGap=8,e._circleRunGapNum=30,e._circleRunGapPause=60,e._circleRunGapPauseMax=60,e._circleRunAlpha=8,e._targetFoucsUI=null,t.GuideManager=e,__reflect(e.prototype,"easy.GuideManager")}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(){function i(){}return i.directionPoint=function(t,i){return t.x-i.x>0?t.y-i.y>0?e.RpgSetting.DIRECTION_2:t.y-i.y<0?e.RpgSetting.DIRECTION_4:e.RpgSetting.DIRECTION_3:t.x-i.x<0?t.y-i.y>0?e.RpgSetting.DIRECTION_8:t.y-i.y<0?e.RpgSetting.DIRECTION_6:e.RpgSetting.DIRECTION_7:t.y-i.y>0?e.RpgSetting.DIRECTION_1:t.y-i.y<0?e.RpgSetting.DIRECTION_5:e.RpgSetting.DIRECTION_0},i.directionNode=function(t,i){return t.row-i.row==1?t.column-i.column==1?e.RpgSetting.DIRECTION_2:t.column-i.column==-1?e.RpgSetting.DIRECTION_4:e.RpgSetting.DIRECTION_3:t.row-i.row==-1?t.column-i.column==1?e.RpgSetting.DIRECTION_8:t.column-i.column==-1?e.RpgSetting.DIRECTION_6:e.RpgSetting.DIRECTION_7:t.column-i.column==1?e.RpgSetting.DIRECTION_1:t.column-i.column==-1?e.RpgSetting.DIRECTION_5:e.RpgSetting.DIRECTION_0},i.direction=function(t,a,r){void 0===r&&(r=0);var n=i.angle(t,a);return 4==r?90>n?e.RpgSetting.DIRECTION_6:180>n?e.RpgSetting.DIRECTION_4:270>n?e.RpgSetting.DIRECTION_2:e.RpgSetting.DIRECTION_8:6==r?n>337||23>n?e.RpgSetting.DIRECTION_7:n>270?e.RpgSetting.DIRECTION_8:n>202?e.RpgSetting.DIRECTION_2:n>157?e.RpgSetting.DIRECTION_3:n>90?e.RpgSetting.DIRECTION_4:e.RpgSetting.DIRECTION_6:n>337||23>n?e.RpgSetting.DIRECTION_7:n>292?e.RpgSetting.DIRECTION_8:n>247?e.RpgSetting.DIRECTION_1:n>202?e.RpgSetting.DIRECTION_2:n>157?e.RpgSetting.DIRECTION_3:n>112?e.RpgSetting.DIRECTION_4:n>67?e.RpgSetting.DIRECTION_5:e.RpgSetting.DIRECTION_6},i.angle=function(t,e){var i=e.x-t.x,a=e.y-t.y,r=Math.sqrt(i*i+a*a),n=i/r,s=Math.floor(180*Math.acos(n)/Math.PI);return 0>a&&(s=360-s),s},i.speedXY=function(e,i,a){var r=egret.Point.distance(e,i),n=Math.floor(t.GlobalSetting.FRAME_RATE*r/a)-1;n=0>=n?1:n;var s=i.y-e.y,o=i.x-e.x;return new egret.Point(Math.round(o/n*100)/100,Math.round(s/n*100)/100)},i}();e.DirectionUtil=i,__reflect(i.prototype,"easy.rpg.DirectionUtil")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.SHOW_OTHER_PLAYER=!0,e.ACTOR_TYPE_NPC="npc",e.ACTOR_TYPE_PLAYER="player",e.ACTOR_TYPE_BUILDING="building",e.PLAYER_ID=0,e.ACTOR_STD="std",e.ACTOR_MOV="mov",e.ACTOR_DIE="die",e.ACTOR_ATK="atk",e.ACTOR_BAK="bak",e.ACTOR_SKL="skl",e.DIRECTION_8=8,e.DIRECTION_7=7,e.DIRECTION_6=6,e.DIRECTION_5=5,e.DIRECTION_4=4,e.DIRECTION_3=3,e.DIRECTION_2=2,e.DIRECTION_1=1,e.DIRECTION_0=0,e.DIRECT_NUMBER=e.DIRECT_2,e.DIRECT_2=2,e.DIRECT_4=4,e.DIRECT_6=6,e.DIRECT_8=8,e.BUFF_CENTER_FRONT="centre_F",e.BUFF_CENTER_BACK="centre_B",e.BUFF_ABOVE="above",e.BUFF_BELOW_BACK="below_B",e.BUFF_BELOW_FRONT="below_F",e.EFFECT_MISSILE="missile",e.FIGHT_ACTION_MOV=0,e.FIGHT_ACTION_SKILL=1,e.FIGHT_ACTION_CHANGE_HP=2,e.FIGHT_ACTION_DIE=3,e.FIGHT_ACTION_TYPE_RESULT=4,e.FIGHT_ACTION_TYPE_ENEYGY=5,e.FIGHT_ACTION_TYPE_BUFF=6,e.FIGHT_DAMEGE_COMMON=0,e.FIGHT_DAMEGE_DODGE=1,e.FIGHT_DAMEGE_CRIT=2,e.FIGHT_DAMEGE_EFFECT=3,e.FIGHT_DAMEGE_RESISTANCE=4,e.MOVE_SYNC_FRAME_COUNT=5,e.TASK_TYPE_DIALOGUE=2,e.TASK_TYPE_KILL=1,e.BATTLE_SKILL_TYPE_COM=0,e.BATTLE_SKILL_TYPE_BAK=1,e.GAME_STATE_FIGHT="fight",e.GAME_STATE_NORMAL="normal",e.GAME_STATE_ALL="all",e.GAME_STATE_NONE="none",t.RpgSetting=e,__reflect(e.prototype,"easy.rpg.RpgSetting")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(){function i(){this._isRun=!1,this._isFrozen=!1,this._animateList=[]}return i.getInstance=function(){return null==i._instance&&(i._instance=new t.rpg.AnimateManager),i._instance},i.prototype.start=function(){this._isRun||(t.HeartBeat.addListener(this,this.onHeartBeat),this._isRun=!0,this._isFrozen=!1)},i.prototype.stop=function(){this._isRun=!1,this._animateList.length=0,t.HeartBeat.removeListener(this,this.onHeartBeat)},i.prototype.addAnimate=function(t){this._animateList.push(t),this.start()},i.prototype.removeAnimate=function(t){for(var e=0;e<this._animateList.length;e++)if(this._animateList[e]==t){this._animateList[e].stop(),this._animateList[e].destroy(),this._animateList.splice(e,1);break}0==this._animateList.length&&this.stop()},i.prototype.removeAllAnimate=function(){for(var t=0;t<this._animateList.length;t++)this._animateList[t].destroy();this._animateList.length=0},i.prototype.frozen=function(t){if(this._isRun){this._isFrozen=t;for(var e=0;e<this._animateList.length;e++)this._animateList[e].frozen=t}},i.prototype.pause=function(){this.frozen(!0)},i.prototype.replay=function(){this.frozen(!1)},i.prototype.onHeartBeat=function(){if(this._isRun&&!this._isFrozen){for(var t=this._animateList.length,e=0;t>e;e++){var i=this._animateList[e];i.onHeartBeat(),!i.runing&&i.delayFrame<=0&&i.play()}var a=0;for(a=this._animateList.length-1;a>=0;a--)this._animateList[a].completed&&this._animateList[a].afterFrame<=0&&(this._animateList[a].destroy(),this._animateList.splice(a,1));0==this._animateList.length&&this.stop()}},i.prototype.genSkillAnimateQueue=function(i){var a=t.ObjectPool.getByClass(e.EffectAnimate);a.scene=t.ViewManager.currentView.scene,a.skillId=i,a.actorSrc=t.ViewManager.currentView.scene.cameraFoucs,a.actorDes=t.ViewManager.currentView.scene.getActorById(10001).actor,this.addAnimate(a)},i}();i._instance=null,e.AnimateManager=i,__reflect(i.prototype,"easy.rpg.AnimateManager")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._bottomContainer=null,t._topContainer=null,t._labelTitle=null,t._textInfo=null,t._btnClose=null,t._btnClean=null,t._btnRefresh=null,t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.y=80,this.width=400,this.height=t.GlobalSetting.STAGE_HEIGHT-this.y,this._topContainer=new t.Group,this.addChild(this._topContainer),this._topContainer.height=35,this._topContainer.width=this.width,this._topContainer.y=0,this._labelTitle=new t.Label,this._topContainer.addChild(this._labelTitle),this._labelTitle.text="Debug窗口",this._bottomContainer=new t.Group,this.addChild(this._bottomContainer),this._bottomContainer.height=42,this._bottomContainer.width=this.width,this._bottomContainer.y=this.height-this._bottomContainer.height,this._btnRefresh=new t.Button,this._bottomContainer.addChild(this._btnRefresh),this._btnRefresh.label="刷新",this._btnRefresh.x=2,this._btnRefresh.y=2,this._btnRefresh.setSize(125,40),this._btnRefresh.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchRegresh,this),this._btnClose=new t.Button,this._bottomContainer.addChild(this._btnClose),this._btnClose.x=this._btnRefresh.x+this._btnRefresh.width+8,this._btnClose.y=2,this._btnClose.label="关闭",this._btnClose.setSize(125,40),this._btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this._btnClean=new t.Button,this._bottomContainer.addChild(this._btnClean),this._btnClean.x=this._btnClose.x+this._btnClose.width+8,this._btnClean.y=2,this._btnClean.label="清除",this._btnClean.setSize(125,40),this._btnClean.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClean,this);
var i=new t.Group;this.addChild(i),i.bgColor=16777215,i.x=0,i.y=this._topContainer.height+1,i.width=this.width,i.height=this.height-this._topContainer.height-this._bottomContainer.height-2,this._textInfo=new egret.TextField,this.addChild(this._textInfo),this._textInfo.multiline=!0,this._textInfo.textColor=0,this._textInfo.size=16,this._textInfo.lineSpacing=6,this._textInfo.x=i.x+1,this._textInfo.y=i.y,this._textInfo.width=i.width,this._textInfo.height=i.height,this.showBg=!0},i.prototype.onTouchRegresh=function(e){this._textInfo.text=t.Debug.log},i.prototype.onTouchClose=function(t){i.hidden()},i.prototype.onTouchClean=function(e){t.Debug.clean(),this.onTouchRegresh(e)},i.show=function(){null==i._instance&&(i._instance=new i),t.GlobalSetting.STAGE.addChild(i._instance)},i.prototype.initData=function(){e.prototype.initData.call(this),this.onTouchRegresh(null)},i.refresh=function(){i._instance&&i._instance.parent&&(i._instance._textInfo.text=t.Debug.log,i._instance._textInfo.height=i._instance._textInfo.textHeight,i._instance._textInfo.y=i._instance.height-i._instance._topContainer.height-i._instance._bottomContainer.height-i._instance._textInfo.textHeight)},i.hidden=function(){i._instance&&i._instance.parent&&i._instance.parent.removeChild(this._instance)},i}(t.Win);e._instance=null,t.DebugWin=e,__reflect(e.prototype,"easy.DebugWin")}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.skillId=0,t.actorSrc=null,t.actorDes=null,t._shape=null,t.dx=.2,t.motionCount=0,t}return __extends(a,i),a.prototype.play=function(){this._loop=!0,this.skillId>0&&(this._resJsonId="skill_json_"+this.skillId,this._resImgId="skill_img_"+this.skillId,this.jsonData=RES.getRes(this._resJsonId)),i.prototype.play.call(this),null==this._shape&&(this._shape=new egret.Shape),this._imgDisplay.x=this.actorSrc._ctrl.gameData._screenXY.x,this._imgDisplay.y=this.actorSrc._ctrl.gameData._screenXY.y,this.intiParabola()},a.prototype.onHeartBeat=function(){i.prototype.onHeartBeat.call(this),this.runing&&this.jsonData&&(20==this.skillId?this.levelFly():this.parabola(),this.hitTest(),this.checkStop())},a.prototype.levelFly=function(){this._imgDisplay.x+=this._speed},a.prototype.intiParabola=function(t){void 0===t&&(t=240);var e=this.actorSrc._ctrl.gameData._screenXY,i=this.actorDes._ctrl.gameData._screenXY,a=new egret.Point(e.x+(i.x-e.x)/2,i.y-t),r=e.x,n=i.x,s=a.x,o=e.y,h=i.y,l=a.y;this.b=((o-l)*(r*r-n*n)-(o-h)*(r*r-s*s))/((r-s)*(r*r-n*n)-(r-n)*(r*r-s*s)),this.a=(o-h-this.b*(r-n))/(r*r-n*n),this.c=o-this.a*r*r-this.b*r},a.prototype.getParabolaY=function(t){var e=this.a*t*t+this.b*t+this.c;return e},a.prototype.parabola=function(){this.motionCount++,this._imgDisplay.x+=this.dx*this.motionCount,this._imgDisplay.y=this.getParabolaY(this._imgDisplay.x)},a.prototype.checkStop=function(){var t=new egret.Point(this._imgDisplay.x,this._imgDisplay.y);this.scene.map.toScreen(t,t),(t.x<this.scene.map._cameraRect.x||t.y<this.scene.map._cameraRect.y||t.x>this.scene.map._cameraRect.x+this.scene.map._cameraRect.width||t.y>this.scene.map._cameraRect.y+this.scene.map._cameraRect.height)&&(this.stop(),console.log("结束!!!"))},a.prototype.hitTest=function(){this._imgDisplay.getBounds();if(t.HitTestUtil.testHit(this._imgDisplay,this.actorDes)){console.log("命中!!");var i=t.ObjectPool.getByClass(e.HitAnimate);i.skillId=100,i.actorDes=this.actorDes,i.actorSrc=this.actorSrc,i.scene=this.scene,e.AnimateManager.getInstance().addAnimate(i),this.stop()}},a.prototype.destroy=function(){i.prototype.destroy.call(this),this._shape&&this._shape.parent&&this._shape.parent.removeChild(this._shape),this.skillId=0,this.actorSrc=null,this.actorDes=null,this.motionCount=0,this.dx=.2},a}(e.BaseAnimate);e.EffectAnimate=i,__reflect(i.prototype,"easy.rpg.EffectAnimate")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skillId=0,e.actorSrc=null,e.actorDes=null,e}return __extends(e,t),e.prototype.play=function(){this.skillId>0&&(this._resJsonId="skill_json_"+this.skillId,this._resImgId="skill_img_"+this.skillId,this.jsonData=RES.getRes(this._resJsonId)),t.prototype.play.call(this),this._imgDisplay.x=this.actorDes._ctrl.gameData._screenXY.x,this._imgDisplay.y=this.actorDes._ctrl.gameData._screenXY.y},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(t.BaseAnimate);t.HitAnimate=e,__reflect(e.prototype,"easy.rpg.HitAnimate")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var GlobalSetting=easy.GlobalSetting,LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.groupProgress=null,e.imgTiaoBg=null,e.imgTiao=null,e.imgTxt=null,e.imgLogo=null,e.groupMask=null,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.setSize(easy.GlobalSetting.STAGE_WIDTH,easy.GlobalSetting.STAGE_HEIGHT),this.groupProgress=new easy.BaseGroup(!0),this.groupProgress.name="groupProgress",this.addChild(this.groupProgress),this.groupProgress.width=500,this.groupProgress.height=500,this.groupProgress.x=easy.GlobalSetting.DISPLAY_WIDTH/2-this.groupProgress.cx,this.groupProgress.y=easy.GlobalSetting.DISPLAY_HEIGHT/2-this.groupProgress.cy,this.imgTiaoBg=new easy.Image(!0),this.imgTiaoBg.name="imgTiaoBg",this.groupProgress.addChild(this.imgTiaoBg),this.imgTiaoBg.x=-45.5,this.imgTiaoBg.y=324.5,this.imgTiaoBg.width=591,this.imgTiaoBg.height=33,this.imgTxt=new easy.Image(!0),this.imgTxt.name="imgTxt",this.groupProgress.addChild(this.imgTxt),this.imgTxt.x=193,this.imgTxt.y=384.5,this.imgTxt.width=114,this.imgTxt.height=31,this.imgLogo=new easy.Image(!0),this.imgLogo.name="imgLogo",this.groupProgress.addChild(this.imgLogo),this.imgLogo.x=125,this.imgLogo.width=250,this.imgLogo.height=250,this.groupMask=new easy.Group(!0),this.groupMask.name="groupMask",this.groupProgress.addChild(this.groupMask),this.groupMask.x=-43.5,this.groupMask.y=327,this.groupMask.width=587,this.groupMask.height=28,this.groupMask.showBg=!1,this.groupMask.width=1,this.groupMask.clip=!0,this.imgTiao=new easy.Image(!0),this.imgTiao.name="imgTiao",this.groupMask.addChild(this.imgTiao),this.imgTiao.width=587,this.imgTiao.height=28,this.groupProgress.drawDelay=!1,this.imgTiaoBg.texture=RES.getRes("loading_bg"),this.imgTiaoBg.drawDelay=!1,this.imgTiao.texture=RES.getRes("loading_tiao"),this.imgTiao.drawDelay=!1,this.imgTxt.texture=RES.getRes("loading_txt"),this.imgTxt.drawDelay=!1,this.imgLogo.texture=RES.getRes("logo"),this.imgLogo.drawDelay=!1,this.groupMask.drawDelay=!1},e.prototype.setProgress=function(t,e){this.groupMask.width=this.imgTiao.width*(t/e)},e.prototype.enter=function(){},e.prototype.outer=function(){this.removeFromParent()},e}(easy.BaseGroup);__reflect(LoadingUI.prototype,"LoadingUI");var easy;!function(t){var e;!function(e){var i=function(t){function e(){var e=t.call(this)||this;return e.animateList=new Array,e}return __extends(e,t),e.prototype.onHeartBeat=function(){if(t.prototype.onHeartBeat.call(this),this.runing){if(this.animateList.length>0){for(var e=this.animateList.length-1;e>=0;e--)this.animateList[e].completed&&this.animateList[e].afterFrame<=0&&this.removeAnimate(this.animateList[e]);for(var i=null,a=this.animateList.length,e=0;a>e;e++)i=this.animateList[e],i.onHeartBeat(),!i.runing&&i.delayFrame<=0&&i.play()}0==this.animateList.length&&this.stop()}},e.prototype.addAnimate=function(t){t.parent=this,this.animateList.push(t)},e.prototype.removeAnimate=function(t){for(var e=0;e<this.animateList.length;e++)if(this.animateList[e]==t){this.animateList[e].stop(),this.animateList[e].destroy(),this.animateList.splice(e,1);break}},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.animateList.length;e++)this.animateList[e].destroy();this.animateList.length=0},Object.defineProperty(e.prototype,"frozen",{set:function(t){this._frozen=t;for(var e=0;e<this.animateList.length;e++)this.animateList[e].frozen=t},enumerable:!0,configurable:!0}),e}(t.rpg.BaseAnimate);e.ParalleQueue=i,__reflect(i.prototype,"easy.rpg.ParalleQueue")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var game2048;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.arrData=[],t.arrLabel=[],t.labelObj=[],t._group=[],t._shuzu1=[],t._shuzu2=[],t.panduan=!0,t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.ui=new t.diamond},Object.defineProperty(i.prototype,"ui",{get:function(){return this._ui},set:function(t){this.setUI(t)},enumerable:!0,configurable:!0}),i.prototype.initData=function(){e.prototype.initData.call(this),this.ui.group.visible=!1,this.ui.group.alpha=0,egret.Tween.get(this.ui.groupMask,{loop:!0}).to({x:171},5e3).to({x:475}).call(this.create,this),this.create()},i.prototype.create=function(){var t=new easy.Group;this.ui.groupAll.addChild(t),this._group.push(t),t.width=639,t.height=87,t.showBg=!1,t.y=this.ui.groupAll.height;for(var e=0;7>e;e++){var i=new easy.Label;t.addChild(i),i.width=87,i.height=87,i.bgColor=10092543,i.border=!1;var a=Math.floor(4*Math.random()+1);i.text=""+a,i.fontSize=50,i.color=16777215,i.hAlign="center",i.vAlign="middle",i.name=""+this.labelObj.length,e>0?i.x=92*e:i.x=87*e;var r=parseInt(i.text);this.arrLabel.push(r),this.labelObj.push(i),i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.game,this)}this.arrData.push(this.arrLabel.slice(-7));for(var e=0;e<this._group.length;e++)egret.Tween.get(this._group[e]).to({y:this._group[e].y-92},100);egret.setTimeout(function(){for(var t=0;t<this.arrData.length;t++)for(var e=0;e<this.arrData[t].length;e++)if(this.labelObj[7*t+e].name)for(var i=Math.floor(this.labelObj[7*t+e].name/7),a=0;a<this._group.length;a++)this._group[i]&&5==this._group[i].y&&(egret.Tween.removeTweens(this.ui.groupMask),this.gameOver())},this,100)},i.prototype.gameOver=function(){this.panduan=!1,this.ui.group.visible=!0,egret.Tween.get(this.ui.group).to({alpha:1},300)},i.prototype.success=function(){for(var t=0;t<this.arrData.length;t++)for(var e=0;e<this.arrData[t].length;e++)10==this.arrData[t][e]&&(egret.Tween.removeTweens(this.ui.groupMask),easy.HeartBeat.removeListener(this,this.create),this.ui.labelGameOver.text="你赢了",this.gameOver())},i.prototype.game=function(t){if(this.panduan)if(16738922!=t.currentTarget.bgColor){this._shuzu1=[],this._shuzu2=[];var e=Math.floor(t.currentTarget.name/7),i=t.currentTarget.name-7*Math.floor(t.currentTarget.name/7);this.show(e,i,t.currentTarget.name)}else{var a=parseInt(t.currentTarget.name),r=parseInt(this.labelObj[a].text)+1;if(-1!=this._shuzu1.indexOf(a)){this._shuzu1.splice(this._shuzu1.indexOf(a),1),this.labelObj[a].text=""+r,this.labelObj[a].bgColor=10092543;var n=Math.floor(a/7),s=a-7*Math.floor(a/7);this.arrData[n][s]=r,10==this.arrData[n][s]&&this.success();for(var o=0;o<this._shuzu1.length;o++){var h=this.labelObj.indexOf(this.labelObj[this._shuzu1[o]]);if(-1!=h){var l=Math.floor(h/7),c=h-7*Math.floor(h/7);this.arrData[l][c]=0,this.labelObj[h].removeFromParent(),this.labelObj[h]=""}}this.labelMove()}}},i.prototype.labelMove=function(){this.panduan=!1;for(var t=0;t<this.arrData.length;t++)for(var e=0;e<this.arrData[t].length;e++)if(0!=this.arrData[t][e]){for(var i=0,a=t+1;a<this.arrData.length;a++)this.arrData[a]&&0==this.arrData[a][e]&&i++;egret.Tween.get(this.labelObj[7*t+e]).to({y:this.labelObj[7*t+e].y+92*i},300)}egret.setTimeout(function(){this.panduan=!0,this.labelMove2()},this,305)},i.prototype.labelMove2=function(){for(var t=this.arrData.length-1;t>=0;t--)for(var e=this.arrData[t].length-1;e>=0;e--)if(0!=this.arrData[t][e]){for(var i=0,a=t+1;a<this.arrData.length;a++)this.arrData[a]&&0==this.arrData[a][e]&&i++;0==this.arrData[t+i][e]&&(this.arrData[t+i][e]=this.arrData[t][e],this.labelObj[7*t+e].name=7*t+e+7*i,this.labelObj[7*t+e+7*i]=this.labelObj[7*t+e],this.labelObj[7*t+e]="",this.arrData[t][e]=0,this.labelMove2())}},i.prototype.show=function(t,e,i){var a=parseInt(i);-1==this._shuzu1.indexOf(a)&&this._shuzu1.push(a),this._shuzu2.push(a),this.labelObj[a-1]&&this.arrData[t][e]==this.arrData[t][e-1]&&-1==this._shuzu1.indexOf(a-1)&&this._shuzu1.push(a-1),this.labelObj[a+1]&&this.arrData[t][e]==this.arrData[t][e+1]&&-1==this._shuzu1.indexOf(a+1)&&this._shuzu1.push(a+1),this.labelObj[a-7]&&this.arrData[t][e]==this.arrData[t-1][e]&&-1==this._shuzu1.indexOf(a-7)&&this._shuzu1.push(a-7),this.labelObj[a+7]&&this.arrData[t][e]==this.arrData[t+1][e]&&-1==this._shuzu1.indexOf(a+7)&&this._shuzu1.push(a+7);for(var r=0;r<this._shuzu1.length;r++)if(-1==this._shuzu2.indexOf(this._shuzu1[r])){var n=Math.floor(this._shuzu1[r]/7),s=this._shuzu1[r]-7*Math.floor(this._shuzu1[r]/7);this.show(n,s,this._shuzu1[r]);break}for(var o=0;o<this.labelObj.length;o++)this.labelObj[o].bgColor=10092543;for(var r=0;r<this._shuzu1.length;r++){var h=this.labelObj.indexOf(this.labelObj[this._shuzu1[r]]);this.labelObj[h].bgColor=16738922,1==this._shuzu1.length&&(this.labelObj[h].bgColor=10092543)}},i.prototype.enter=function(){e.prototype.enter.call(this)},i.prototype.enterTransition=function(){e.prototype.enterTransition.call(this)},i.prototype.outer=function(){e.prototype.outer.call(this)},i.prototype.outerTransition=function(){e.prototype.outerTransition.call(this)},i.prototype.validateNow=function(){e.prototype.validateNow.call(this)},i}(easy.View);t.diamondView=e,__reflect(e.prototype,"game2048.diamondView")}(game2048||(game2048={}));var easy;!function(t){var e;!function(t){var e=function(){function e(){this._straightCost=1,this._diagCost=Math.SQRT2,this.nowversion=1,this.TwoOneTwoZero=2*Math.cos(Math.PI/3),this.heuristic=this.euclidian2}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),e.prototype.justMin=function(t,e){return t.f<e.f},e.prototype.findPath=function(e){return this._grid=e,this._endNode=this._grid.endNode,this.nowversion++,this._startNode=this._grid.startNode,this._open=new t.BinaryHeap(this.justMin),this._startNode.g=0,this.search()},e.prototype.search=function(){var t=this._startNode;for(t.version=this.nowversion;t!=this._endNode;){for(var e=t.links.length,i=0;e>i;i++){var a=t.links[i].node,r=t.links[i].cost,n=t.g+r,s=this.heuristic(a),o=n+s;a.version==this.nowversion?a.f>o&&(a.f=o,a.g=n,a.h=s,a.parent=t):(a.f=o,a.g=n,a.h=s,a.parent=t,this._open.ins(a),a.version=this.nowversion)}if(1==this._open.a.length)return!1;t=this._open.pop()}return this.buildPath(),!0},e.prototype.buildPath=function(){this.path=new Array;var t=this._endNode;for(this.path.push(t);t!=this._startNode;)t=t.parent,this.path.unshift(t)},e.prototype.manhattan=function(t){return Math.abs(t.row-this._endNode.row)+Math.abs(t.column-this._endNode.column)},e.prototype.manhattan2=function(t){var e=Math.abs(t.row-this._endNode.row),i=Math.abs(t.column-this._endNode.column);return e+i+Math.abs(e-i)/1e3},e.prototype.euclidian=function(t){var e=t.row-this._endNode.row,i=t.column-this._endNode.column;return Math.sqrt(e*e+i*i)},e.prototype.chineseCheckersEuclidian2=function(t){var e=t.column/this.TwoOneTwoZero,i=t.row+t.column/2,a=i-this._endNode.row-this._endNode.column/2,r=e-this._endNode.column/this.TwoOneTwoZero;return this.sqrt(a*a+r*r)},e.prototype.sqrt=function(t){return Math.sqrt(t)},e.prototype.euclidian2=function(t){var e=t.row-this._endNode.row,i=t.column-this._endNode.column;return e*e+i*i},e.prototype.diagonal=function(t){var e=Math.abs(t.row-this._endNode.row),i=Math.abs(t.column-this._endNode.column),a=Math.min(e,i),r=e+i;return this._diagCost*a+this._straightCost*(r-2*a)},e}();t.AStar=e,__reflect(e.prototype,"easy.rpg.AStar")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this.a=new Array,this.justMinFun=function(t,e){return this.x<this.y},this.a.push(-1),null!=t&&(this.justMinFun=t)}return t.prototype.ins=function(t){var e=this.a.length;this.a[e]=t;for(var i=e>>1;e>1&&this.justMinFun(this.a[e],this.a[i]);){var a=this.a[e];this.a[e]=this.a[i],this.a[i]=a,e=i,i=e>>1}},t.prototype.pop=function(){var t=this.a[1];this.a[1]=this.a[this.a.length-1],this.a.pop();for(var e=1,i=this.a.length,a=e<<1,r=a+1;i>a;){if(i>r)var n=this.justMinFun(this.a[r],this.a[a])?r:a;else n=a;if(!this.justMinFun(this.a[n],this.a[e]))break;var s=this.a[e];this.a[e]=this.a[n],this.a[n]=s,e=n,a=e<<1,r=a+1}return t},t}();t.BinaryHeap=e,__reflect(e.prototype,"easy.rpg.BinaryHeap")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function e(e,i){void 0===i&&(i=0),this._startNode=null,this._endNode=null,this._nodes=null,this._numCols=0,this._numRows=0,this._cellSize=20,this.type=0,this._straightCost=1,this._diagCost=Math.SQRT2,this._numRows=e.length,this._numCols=e[0].length,this._cellSize=i,this._nodes=new Array;for(var a=0;a<this._numCols;a++){this._nodes[a]=new Array;for(var r=0;r<this._numRows;r++)this._nodes[a][r]=new t.Node(a,r,e[r][a]),this._nodes[a][r].point.x=a*this._cellSize+this._cellSize/2,this._nodes[a][r].point.y=r*this._cellSize+this._cellSize/2}}return Object.defineProperty(e.prototype,"cellSize",{get:function(){return this._cellSize},enumerable:!0,configurable:!0}),e.prototype.calculateLinks=function(t){void 0===t&&(t=0),this.type=t;for(var e=0;e<this._numCols;e++)for(var i=0;i<this._numRows;i++)this.initNodeLink(this._nodes[e][i],t)},e.prototype.getType=function(){return this.type},e.prototype.initNodeLink=function(e,i){void 0===i&&(i=0);var a=Math.max(0,e.row-1),r=Math.min(this.numCols-1,e.row+1),n=Math.max(0,e.column-1),s=Math.min(this.numRows-1,e.column+1);e.links=new Array;for(var o=a;r>=o;o++)for(var h=n;s>=h;h++){var l=this.getNode(o,h);if(l!=e&&l.walkable){if(2!=i&&o!=e.row&&h!=e.column){var c=this.getNode(e.row,h);if(!c.walkable)continue;if(c=this.getNode(o,e.column),!c.walkable)continue}var u=this._straightCost;if(e.row!=l.row&&e.column!=l.column){if(1==i)continue;if(2==i&&(e.row-l.row)*(e.column-l.column)==1)continue;u=2==i?this._straightCost:this._diagCost}e.links.push(new t.Link(l,u))}}},e.prototype.getNode=function(t,e){return void 0===e&&(e=0),this._nodes[t][e]},e.prototype.setEndNode=function(t,e){void 0===e&&(e=0),this._endNode=this._nodes[t][e]},e.prototype.setStartNode=function(t,e){void 0===e&&(e=0),this._startNode=this._nodes[t][e]},e.prototype.setWalkable=function(t,e,i){this._nodes[t][e].walkable=i},Object.defineProperty(e.prototype,"endNode",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numCols",{get:function(){return this._numCols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numRows",{get:function(){return this._numRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startNode",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),e}();t.Grid=e,__reflect(e.prototype,"easy.rpg.Grid")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function t(t,e){this.node=null,this.cost=0,this.node=t,this.cost=e}return t}();t.Link=e,__reflect(e.prototype,"easy.rpg.Link")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function t(t,e,i){void 0===i&&(i=0),this.row=0,this.column=0,this.f=0,this.g=0,this.h=0,this.walkable=!0,this.alpha=1,this.data=0,this.parent=null,this.version=1,this.point=null,this.row=t,this.column=e,this.data=i,0==this.data?this.walkable=!1:this.walkable=!0,this.point=new egret.Point}return t}();t.Node=e,__reflect(e.prototype,"easy.rpg.Node")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this)},Object.defineProperty(e.prototype,"guideItem",{get:function(){return this._data?this._data:null},enumerable:!0,configurable:!0}),e.prototype.enter=function(){this.guideItem&&(this.x+=this.guideItem.oxWin,this.y+=this.guideItem.oyWin),t.prototype.enter.call(this)},e}(t.Win);t.DefaultGuideWin=e,__reflect(e.prototype,"easy.DefaultGuideWin")}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this,null,null)||this}return __extends(e,t),e}(t.ActorCtrl);t.NpcCtrl=e,__reflect(e.prototype,"easy.rpg.NpcCtrl")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this,null,null)||this}return __extends(e,t),e}(t.ActorCtrl);t.PlayerCtrl=e,__reflect(e.prototype,"easy.rpg.PlayerCtrl")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function t(){this.id=0,this.name=null,this.hp=0,this.speed=20,this.direciton=[],this.wing=0,this.mount=0,this.type="npc"}return t.prototype.setJsonData=function(t){for(var e in t)console.log("Actor set key="+e+", value="+t[e]),this.hasOwnProperty(e)&&(this[e]=t[e])},t}();t.ActorData=e,__reflect(e.prototype,"easy.rpg.ActorData",["easy.rpg.IActorData"])}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(){function e(){this._control=null,this._data=null,this._mapXY=null,this._speedXY=null,this._screenXY=null,this._height=100,this._width=50,this._xOffset=0,this._yOffset=0,this._scaleX=1,this._scaleY=1,this._hp=0,this._atk=0,this._name=null,this._id=0,this.isInvalidate=!1,this._direction=t.RpgSetting.DIRECTION_3,this._directionMirror=!1,this._directionNum=t.RpgSetting.DIRECT_2,this._speed=20,this._gameState=t.RpgSetting.ACTOR_STD,this._path=[],this._pathTargetPoint=null,this.initData()}return e.prototype.initData=function(){this._mapXY=new egret.Point,this._screenXY=new egret.Point,this._speedXY=new egret.Point},Object.defineProperty(e.prototype,"actorData",{get:function(){return this._data},set:function(t){this._data=t,this.id=t.id,this.name=t.name,this.hp=t.hp,this._speed=t.speed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapXY",{get:function(){return this._mapXY},set:function(t){this._mapXY=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),e.prototype.setMapXY=function(t,e){this.mapXY.x=t,this.mapXY.y=e,this.isInvalidate=!0},e.prototype.moveMapStep=function(t,e){this.mapXY.x+=t,this.mapXY.y+=e,this.isInvalidate=!0},e.prototype.clean=function(){},e.prototype.destroy=function(){},Object.defineProperty(e.prototype,"height",{get:function(){return this._height-this._yOffset},set:function(t){this._height=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},set:function(t){this._control=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xOffset",{get:function(){return this._xOffset},set:function(t){this._xOffset=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yOffset",{get:function(){return this._yOffset},set:function(t){this._yOffset=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){this._scaleX=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this._scaleX},set:function(t){this._scaleY=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hp",{get:function(){return this._hp},set:function(t){this._hp=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"atk",{get:function(){return this._atk},set:function(t){this._atk=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameState",{get:function(){return this._gameState},set:function(t){this._gameState=t,this.isInvalidate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._data.type},enumerable:!0,configurable:!0}),e.prototype.pathNextPoint=function(){this._path.length>0&&(this._pathTargetPoint=this._path.shift())},e}();t.GameData=e,__reflect(e.prototype,"easy.rpg.GameData")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var game2048;!function(t){var e=function(t){function e(){var e=t.call(this,!0)||this;return e.resSpriteSheet="",e.resTexture=[],e.resGroup=[],e.resFiles=[],e.spriteSheet=null,e.groupProgress=null,e.groupMask=null,e.groupRightMask=null,e.groupAll=null,e.group=null,e.groupMk=null,e.labelGameOver=null,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.border=!1,this.width=640,this.height=1136,this.groupProgress=new easy.Group(!0),this.groupProgress.name="groupProgress",this.addChild(this.groupProgress),this.groupProgress.bgColor=16737843,this.groupProgress.border=!1,this.groupProgress.x=170,this.groupProgress.y=111,this.groupProgress.width=300,this.groupProgress.height=20,this.groupMask=new easy.Group(!0),this.groupMask.name="groupMask",this.addChild(this.groupMask),this.groupMask.border=!1,this.groupMask.x=471,this.groupMask.y=112,this.groupMask.width=299,this.groupMask.height=18,this.groupRightMask=new easy.Group(!0),this.groupRightMask.name="groupRightMask",this.addChild(this.groupRightMask),this.groupRightMask.bgColor=16737843,this.groupRightMask.border=!1,this.groupRightMask.x=470,this.groupRightMask.y=111,this.groupRightMask.width=1,this.groupRightMask.height=20,this.groupAll=new easy.Group(!0),this.groupAll.name="groupAll",this.addChild(this.groupAll),this.groupAll.bgColor=3381759,this.groupAll.clip=!0,this.groupAll.border=!1,this.groupAll.x=.5,this.groupAll.y=243.5,this.groupAll.width=639,this.groupAll.height=649,this.group=new easy.Group(!0),this.group.name="group",this.addChild(this.group),this.group.showBg=!1,this.group.bgColor=0,this.group.border=!1,this.group.x=.5,this.group.y=243.5,this.group.width=639,this.group.height=649,this.groupMk=new easy.Group(!0),this.groupMk.name="groupMk",this.group.addChild(this.groupMk),this.groupMk.bgColor=0,this.groupMk.border=!1,this.groupMk.width=639,this.groupMk.height=649,this.groupMk.alpha=.5,this.labelGameOver=new easy.Label(!0),this.labelGameOver.name="labelGameOver",this.group.addChild(this.labelGameOver),this.labelGameOver.text="Game Over",this.labelGameOver.fontSize=50,this.labelGameOver.color=39168,this.labelGameOver.hAlign="center",this.labelGameOver.autoSize=!1,this.labelGameOver.width=300,this.labelGameOver.height=58,this.labelGameOver.x=169.5,this.labelGameOver.y=290.5,this.labelGameOver.showBg=!1},e.prototype.initData=function(){t.prototype.initData.call(this)},e.prototype.enter=function(){},e.prototype.outer=function(){},e.prototype.validateNow=function(){this.drawDelay=!1,this.groupProgress.drawDelay=!1,this.groupMask.drawDelay=!1,this.groupRightMask.drawDelay=!1,this.groupAll.drawDelay=!1,this.group.drawDelay=!1,this.groupMk.drawDelay=!1,this.labelGameOver.drawDelay=!1},e}(easy.Group);t.diamond=e,__reflect(e.prototype,"game2048.diamond")}(game2048||(game2048={}));var easy;!function(t){var e;!function(t){var e=function(){function t(t){this._focusActor=null,this._map=null,this._scene=null,this.reachTargetTalking=null,this._scene=t}return t.prototype.setMap=function(t){this._map=t},t.prototype.setSize=function(t,e){console.log("Camera.setSize("+t+", "+e+")"),this._map&&this._map.setCamera(t,e)},Object.defineProperty(t.prototype,"focusActor",{get:function(){return this._focusActor},set:function(t){this._focusActor&&(this._focusActor._ctrl.moveMapStepCallBackFunc=null,this._focusActor._ctrl.moveMapStepCallBackThis=null),this._focusActor=t,this._focusActor&&(this._focusActor._ctrl.moveMapStepCallBackFunc=this.onMoveFocus,this._focusActor._ctrl.moveMapStepCallBackThis=this)},enumerable:!0,configurable:!0}),t.prototype.checkTalking=function(){},t.prototype.onEventMouseClick=function(t){if(this._focusActor){var e=this._map.toMap(t.localX,t.localY),i=this._scene.findPath(this._focusActor._ctrl.gameData._mapXY,e);i&&i.length>1&&this._focusActor._ctrl.setPath(i)}},t.prototype.onMoveFocus=function(t,e){if(null!=this._focusActor){var i=0,a=0;t>0?this._map.cameraRect.x+this._map.cameraRect.width+t>this._map.mapWidth?i=this._map.mapWidth-this._map.cameraRect.x-this._map.cameraRect.width:this._focusActor._ctrl.gameData._screenXY.x>this._map.cameraRect.width/2?i=this._focusActor._ctrl.gameData._screenXY.x-this._map.cameraRect.width/2>t?t:this._focusActor._ctrl.gameData._screenXY.x-this._map.cameraRect.width/2:this._focusActor._ctrl.gameData._screenXY.x<this._map.cameraRect.width/2&&(i=this._map.cameraRect.width/2-this._focusActor._ctrl.gameData._screenXY.x>t?0:this._map.cameraRect.width/2-this._focusActor._ctrl.gameData._screenXY.x):this._map.cameraRect.x+t<0?i=0-this._map.cameraRect.x:this._focusActor._ctrl.gameData._screenXY.x>this._map.cameraRect.width/2?i=this._focusActor._ctrl.gameData._screenXY.x-this._map.cameraRect.width/2>t?0:this._focusActor._ctrl.gameData._screenXY.x-this._map.cameraRect.width/2:this._focusActor._ctrl.gameData._screenXY.x<this._map.cameraRect.width/2&&(i=this._map.cameraRect.width/2-this._focusActor._ctrl.gameData._screenXY.x>t?t:this._map.cameraRect.width/2-this._focusActor._ctrl.gameData._screenXY.x),0>e?this._map.cameraRect.y+e<0?a=0-this._map.cameraRect.y:this._focusActor._ctrl.gameData._screenXY.y>this._map.cameraRect.height/2?a=this._map.cameraRect.height/2-this._focusActor._ctrl.gameData._screenXY.y<e?0:this._map.cameraRect.height/2-this._focusActor._ctrl.gameData._screenXY.y:this._focusActor._ctrl.gameData._screenXY.y<this._map.cameraRect.height/2&&(a=this._focusActor._ctrl.gameData._screenXY.y-this._map.cameraRect.height/2<e?e:this._focusActor._ctrl.gameData._screenXY.y-this._map.cameraRect.height/2):this._map.cameraRect.y+this._map.cameraRect.height+e>this._map.mapHeight?a=this._map.mapHeight-this._map.cameraRect.y-this._map.cameraRect.height:this._focusActor._ctrl.gameData._screenXY.y>this._map.cameraRect.height/2?a=this._focusActor._ctrl.gameData._screenXY.y-this._map.cameraRect.height/2>e?e:this._focusActor._ctrl.gameData._screenXY.y-this._map.cameraRect.height/2:this._focusActor._ctrl.gameData._screenXY.y<this._map.cameraRect.height/2&&(a=this._map.cameraRect.height/2-this._focusActor._ctrl.gameData._screenXY.y>e?0:this._map.cameraRect.height/2-this._focusActor._ctrl.gameData._screenXY.y),(0!=i||0!=a)&&this._map.moveCameraStep(Math.round(100*i)/100,Math.round(100*a)/100)}},t.prototype.checkRectEmbed=function(t,e){var i=new egret.Point(0,0);return(t.x<e.x||t.x+t.width>e.x+e.width)&&(i.x=1),(t.y<e.y||t.y+t.height>e.y+e.height)&&(i.y=1),i},t.prototype.checkPointEmbed=function(t,e){var i=new egret.Point(0,0);return(t.x<e.x||t.x>e.x+e.width)&&(i.x=1),(t.y<e.y||t.y>e.y+e.height)&&(i.y=1),i},Object.defineProperty(t.prototype,"direction",{set:function(t){this._focusActor&&(this._focusActor._ctrl.direction=t)},enumerable:!0,configurable:!0}),t}();e.isCutout=!1,t.Camera=e,__reflect(e.prototype,"easy.rpg.Camera")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(i){function a(t){var e=i.call(this)||this;return e._id=0,e._mapId=0,e._mapWidth=0,e._mapHeight=0,e._sceneWidth=0,e._sceneHeight1=0,e._type=".jpg",e._row=0,e._column=0,e._hCircle=0,e._vCircle=0,e._blockWidth=0,e._blockHeight=0,e._enterPoint=null,e._info=null,e._cameraRect=null,e._gridShape=null,e._cellSize=20,e._thumbReady=!1,e.offsetMap=null,e.astar=null,e.grid=null,e.cellSize=25,e._isDisplay=!1,e._bitmapContainer=null,e._bitmap=null,e.offsetMap=new egret.Point,e._cameraRect=new egret.Rectangle,e._bitmapContainer=new egret.DisplayObjectContainer,e.addChild(e._bitmapContainer),e._bitmap=new egret.Bitmap,e._bitmapContainer.addChild(e._bitmap),e._bitmapContainer.scrollRect=e._cameraRect,e._enterPoint=new egret.Point,e.setMapInfo(t),e.showBg=!1,e.touchEnabled=!1,e
}return __extends(a,i),a.prototype.setMapInfo=function(i){if(i){if(this._info=i,this._id=i.id,this._mapId=i.map,this._mapWidth=parseInt(i.width),this._mapHeight=parseInt(i.height),this._sceneWidth=parseInt(i.scene_width),this._row=i.row,this._column=i.column,this._enterPoint.x=i.x,this._enterPoint.y=i.y,this._bitmapContainer.width=this._mapWidth,this._bitmapContainer.height=this._mapHeight,this._bitmap.texture=RES.getRes("map_img_"+this._mapId),this.grid=t.ObjectPool.getObject("map_grid_"+i.id,!1),!this.grid){var a=RES.getRes("map_grid_"+i.id);a&&(this.cellSize=a.cell,this.grid=new e.Grid(a.grid,this.cellSize),this.grid.calculateLinks(),t.ObjectPool.setObject("map_grid_"+i.id,this.grid))}null==this.astar&&(this.astar=new t.rpg.AStar)}},a.prototype.moveCameraStep=function(t,e){0!=t&&(this._cameraRect.x+=t,this._cameraRect.x<0&&(this._cameraRect.x=0),this._cameraRect.x+this._cameraRect.width>this._bitmapContainer.width&&(this._cameraRect.x=this._bitmapContainer.width-this._cameraRect.width)),0!=e&&(this._cameraRect.y+=e,this._cameraRect.y<0&&(this._cameraRect.y=0),this._cameraRect.y+this._cameraRect.height>this._bitmapContainer.height&&(this._cameraRect.y=this._bitmapContainer.height-this._cameraRect.height))},a.prototype.moveCamera=function(t,e){0!=t&&(this._cameraRect.x=t,this._cameraRect.x<0&&(this._cameraRect.x=0),this._cameraRect.x+this._cameraRect.width>this._bitmapContainer.width&&(this._cameraRect.x=this._bitmapContainer.width-this._cameraRect.width)),0!=e&&(this._cameraRect.y=e,this._cameraRect.y<0&&(this._cameraRect.y=0),this._cameraRect.y+this._cameraRect.height>this._bitmapContainer.height&&(this._cameraRect.y=this._bitmapContainer.height-this._cameraRect.height))},a.prototype.setCamera=function(t,e,i){void 0===i&&(i=null),this._cameraRect.width=t,this._cameraRect.height=e,i?this.enterPoint=i:this.enterPoint=this.enterPoint},Object.defineProperty(a.prototype,"enterPoint",{get:function(){return this._enterPoint},set:function(t){if(t&&(this._enterPoint=t),0!=this._cameraRect.width&&0!=this._cameraRect.height){var e=this._enterPoint.x-this._cameraRect.width/2,i=this._enterPoint.y-this._cameraRect.height/2;0>e&&(e=0),0>i&&(i=0),e>this._mapWidth-this._cameraRect.width&&(e=this._mapWidth-this._cameraRect.width),i>this._mapHeight-this._cameraRect.height&&(i=this._mapHeight-this._cameraRect.height),this.moveCamera(e,i)}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cameraRect",{get:function(){return this._cameraRect},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mapHeight",{get:function(){return this._mapHeight},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mapWidth",{get:function(){return this._mapWidth},enumerable:!0,configurable:!0}),a.prototype.toScreen=function(t,e){e.x=t.x-this._cameraRect.x+this.offsetMap.x,e.y=t.y-this._cameraRect.y+this.offsetMap.y},a.prototype.toMap=function(t,e,i){var a=this._cameraRect.x+t,r=this._cameraRect.y+e;return a=Math.min(a,this.mapWidth),r=Math.min(r,this.mapHeight),null!=i?(i.x=a,i.y=r,i):new egret.Point(a,r)},a.prototype.showGrid=function(t){null==this._gridShape&&(this._gridShape=new egret.Shape,this._gridShape.x=0,this._gridShape.y=0),this._gridShape.graphics.clear(),this._gridShape.graphics.lineStyle(1,3211104,.5);var e=Math.round(this._mapHeight/this._cellSize),i=Math.round(this._mapWidth/this._cellSize),a=0,r=0;for(a=0;e>a;a++)this._gridShape.graphics.moveTo(0,a*this._cellSize),this._gridShape.graphics.lineTo(this._mapWidth,a*this._cellSize);for(r=0;i>r;r++)this._gridShape.graphics.moveTo(r*this._cellSize,0),this._gridShape.graphics.lineTo(r*this._cellSize,this._mapHeight);for(a=0;i>a;a++)for(r=0;e>r;r++)if(t.getNode(a,r).walkable)if(1==t.getNode(a,r).data)this._gridShape.graphics.moveTo(a*this._cellSize+this._cellSize/2,r*this._cellSize+this._cellSize/2-1),this._gridShape.graphics.lineTo(a*this._cellSize+this._cellSize/2,r*this._cellSize+this._cellSize/2+1);else{var n=new egret.TextField;n.text=""+t.getNode(a,r).data,n.width=this._cellSize,n.height=this._cellSize}else this._gridShape.graphics.beginFill(61680,.3),this._gridShape.graphics.drawRect(a*this._cellSize,r*this._cellSize,this._cellSize,this._cellSize),this._gridShape.graphics.endFill();this._gridShape.graphics.endFill(),this._gridShape.width=this._mapWidth,this._gridShape.height=this._mapHeight,this._bitmapContainer.addChild(this._gridShape)},Object.defineProperty(a.prototype,"mapId",{get:function(){return this._mapId},enumerable:!0,configurable:!0}),a.prototype.enter=function(){this._isDisplay=!0},a.prototype.outer=function(){this._isDisplay=!1},a.prototype.findPath=function(t,e){if(t.x==e.x&&t.y==e.y)return null;var i=this.getNode(t),a=this.getNode(e),r=e,n=t;return i.walkable||(i=this.getNearShortNode(i),i&&(n=i.point)),a.walkable||(a=this.getNearShortNode(a,n),a&&(r=a.point)),a.walkable&&(this.grid.setStartNode(i.row,i.column),this.grid.setEndNode(a.row,a.column),this.astar.findPath(this.grid))?this.floydPath(n,r,this.astar.path):null},a.prototype.getNearShortNode=function(t,e){if(void 0===e&&(e=null),!t.walkable){for(var i=50,a=0,r=t.row,n=t.column,s=new Array,o=null;i>a&&(a++,r-a>=0&&(n-a>=0&&(o=this.grid.getNode(r-a,n-a)),t.walkable&&s.push(o),o=this.grid.getNode(r-a,n),o.walkable&&s.push(o),n+a<this.grid.numRows&&(o=this.grid.getNode(r-a,n+a)),o.walkable&&s.push(o)),n+a<this.grid.numRows&&(o=this.grid.getNode(r,n+a)),o.walkable&&s.push(o),r+a<this.grid.numCols&&(n-a>=0&&(o=this.grid.getNode(r+a,n-a)),o.walkable&&s.push(o),o=this.grid.getNode(r+a,n),o.walkable&&s.push(o),n+a<this.grid.numRows&&(o=this.grid.getNode(r+a,n+a)),o.walkable&&s.push(o)),n-a>=0&&(o=this.grid.getNode(r,n-a)),o.walkable&&s.push(o),!(s.length>0)););var h=0,l=0,c=e;o=null,null==e&&(c=t.point);for(var u=0;u<s.length;u++)l=egret.Point.distance(c,new egret.Point(s[u].row,s[u].column)),0==h&&(h=l),h>=l&&(o=s[u]);return o}return t},a.prototype.floydPath=function(t,i,a){var r=a.concat(),n=r.length,s=0;if(n>2){var o=new e.Node(0,0,1),h=new e.Node(0,0,1);for(this.floydVector(o,r[n-1],r[n-2]),s=n-3;s>=0;s--)this.floydVector(h,r[s+1],r[s]),o.row==h.row&&o.column==h.column?r.splice(s+1,1):(o.row=h.row,o.column=h.column)}if(n=r.length,n>2)for(s=n-3;s>=0;s--)this.hasBarrier(r[s+2],r[s])||r.splice(s+1,1);var l=new Array;for(l.push(t),s=1;s<r.length-1;s++)l.push(r[s].point);return l.push(i),r.length=0,l},a.prototype.hasBarrier=function(t,e){Math.abs(egret.Point.distance(t.point,e.point)),this.cellSize/2;return!1},a.prototype.floydVector=function(t,e,i){t.row=e.row-i.row,t.column=e.column-i.column},a.prototype.getNode=function(t){var e=Math.floor(t.x/this.cellSize),i=Math.floor(t.y/this.cellSize);return e=Math.min(e,this.grid.numCols-1),e=Math.max(e,0),i=Math.min(i,this.grid.numRows-1),i=Math.max(i,0),this.grid.getNode(e,i)},a}(t.Group);e.Map=i,__reflect(i.prototype,"easy.rpg.Map")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this,null,null)||this}return __extends(e,t),e}(t.Actor);t.Npc=e,__reflect(e.prototype,"easy.rpg.Npc")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this,null,null)||this}return __extends(e,t),e}(t.Actor);t.Player=e,__reflect(e.prototype,"easy.rpg.Player")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e;!function(e){var i=function(i){function a(t){var e=i.call(this)||this;return e.controls=[],e.displayControls=[],e.map=null,e.camera=null,e._displayContainer=null,e._effectContainer=null,e.sceneWidth=0,e.sceneHeight=0,e._siftCount=0,e.depthCount=0,e.setMapInfo(t),e.touchEnabled=!0,e.showBg=!0,e.touchNonePixel=!0,e}return __extends(a,i),a.prototype.createChildren=function(){i.prototype.createChildren.call(this),this._displayContainer=new t.BaseGroup,this.addChild(this._displayContainer),this._displayContainer.x=0,this._displayContainer.y=0,this.touchEnabled=!0},a.prototype.setMapInfo=function(i){console.log("Scene setMapInfo id="+i.id),this.map=t.ObjectPool.getObject("map_"+i.id,!1),this.map||(this.map=new e.Map(i),t.ObjectPool.setObject("map_"+this.map._id,this.map),null==this.camera&&(this.camera=new t.rpg.Camera(this)),this.camera.setMap(this.map),this.sceneWidth=i.scene_width,this.sceneHeight=i.scene_height),this.addChildAt(this.map,0)},a.prototype.addActor=function(t){this.controls.push(t._ctrl)},a.prototype.addAnimate=function(e){null==this._effectContainer&&(this._effectContainer=new t.BaseGroup,this.addChild(this._effectContainer),this._effectContainer.setSize(this.width,this.height)),this._effectContainer.addChild(e.getDisplay())},a.prototype.getActorById=function(t){for(var e=0;e<this.controls.length;e++)if(this.controls[e].id==t)return this.controls[e];return null},a.prototype.enter=function(){t.HeartBeat.addListener(this,this.onHeartBeat),this.map&&this.map.enter(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEventTouchTap,this,!0)},a.prototype.outer=function(){this.map&&this.map.outer(),t.HeartBeat.removeListener(this,this.onHeartBeat),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEventTouchTap,this,!0)},a.prototype.cleanAllMovieObject=function(){for(var t=this.displayControls.length-1;t>=0;t--)this.displayControls[t].actor&&this.displayControls[t].actor.removeFromParent();this.controls.length=0,this.displayControls.length=0},a.prototype.onEventTouchTap=function(t){this.camera.onEventMouseClick(t)},a.prototype.setMapWalkable=function(t,e,i){},Object.defineProperty(a.prototype,"cameraFoucs",{get:function(){return this.camera?this.camera.focusActor:null},set:function(t){this.camera&&(this.camera.focusActor=t)},enumerable:!0,configurable:!0}),a.prototype.onHeartBeat=function(){var t=0;this._siftCount++,this._siftCount>30&&(this._siftCount=0,this.siftDisplayControl());var e=null;for(t=0;t<this.controls.length;t++)e=this.controls[t],e.onHeartBeat(),this.map.toScreen(e.gameData._mapXY,e.gameData._screenXY);for(t=0;t<this.displayControls.length;t++)e=this.displayControls[t],e.onHBChangeData();this.depthCount++,this.depthCount>=30&&(this.depthCount=0,this.depthSortDisplay()),console.log("Sence.HB displayControls.lenght="+this.displayControls.length)},a.prototype.depthSortDisplay=function(){this.displayControls.sort(this.sortOnPosition);for(var t=null,e=this.displayControls.length,i=0;e>i;i++)t=this.displayControls[i],null==t.actor.parent&&t.enter(),this._displayContainer.addChild(t.actor)},a.prototype.sortOnPosition=function(t,e){return t.gameData.mapXY.y>e.gameData.mapXY.y?1:t.gameData.mapXY.y<e.gameData.mapXY.y?-1:0},a.prototype.onAlphaCheck=function(){for(var t=this.displayControls.length,e=0;t>e;e++){var i=this.displayControls[e];i.isDisplay=!0}},a.prototype.siftDisplayControl=function(){var t=null;this.displayControls.length=0;for(var i=0;i<this.controls.length;i++)t=this.controls[i],t.gameData._screenXY.x>0&&t.gameData._screenXY.y>0&&t.gameData._screenXY.x<this.width&&t.gameData._screenXY.y<this.height||t.gameData._screenXY.x+t.gameData._width/2>0&&t.gameData._screenXY.y+t.gameData._height/2>0&&t.gameData._screenXY.x+t.gameData._width/2<this.width&&t.gameData._screenXY.y+t.gameData._height/2<this.height?e.RpgSetting.SHOW_OTHER_PLAYER&&t.gameData.type==e.RpgSetting.ACTOR_TYPE_PLAYER?this.displayControls.push(t):t.gameData.type==e.RpgSetting.ACTOR_TYPE_NPC?this.displayControls.push(t):t.actor.parent&&(t.actor.removeFromParent(),t.outer()):t.actor.parent&&(t.actor.removeFromParent(),t.outer())},a.prototype.getControlUnderPoint=function(t,e){void 0===e&&(e=0);var i=new Array,a=0;for(a=0;a<this.displayControls.length;a++)this.displayControls[a].actor.hitTestPoint(t,e)&&i.push(this.displayControls[a].id);return i},a.prototype.setSize=function(t,e){console.log("Scene.setSize("+t+", "+e+")"),i.prototype.setSize.call(this,t,e),this.camera&&this.camera.setSize(t,e),this._displayContainer.setSize(t,e),this._effectContainer&&this._effectContainer.setSize(t,e)},a.prototype.showGrid=function(){},a.prototype.findPath=function(t,e){return this.map.findPath(t,e)},a}(t.ReceiveGroup);e.Scene=i,__reflect(i.prototype,"easy.rpg.Scene")}(e=t.rpg||(t.rpg={}))}(easy||(easy={}));var easy;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._ui=null,e._uiResReady=!1,e.list=null,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.setSize(100,65)},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){this.data=this._data},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this.setSelected(t)},enumerable:!0,configurable:!0}),e.prototype.setSelected=function(t){this._selected!=t&&(this._selected=t,this.invalidate())},e.prototype.getUI=function(){return this._ui},e.prototype.setUI=function(t){this._ui=t,this._ui&&(this.addChild(this._ui),this.setSize(this._ui.width,this._ui.height)),this.showBg=!1},e.prototype.destroy=function(){this._ui&&(this._ui=null)},e.prototype.validateNow=function(){this._ui&&this._ui.validateNow&&this._ui.validateNow(),this.drawDelay=!1,this._ui&&(this._ui.drawDelay=!1)},e}(t.Group);t.DefaultRenderer=e,__reflect(e.prototype,"easy.DefaultRenderer")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(a){void 0===a&&(a=!1);var r=e.call(this,a)||this;return r._textureLabel=null,r._textureIcon=null,r._label=null,r._text="",r._texture=null,r._imgDisplay=null,r._imgLabel=null,r._imgIcon=null,r._initDisplayData=!1,r._selected=!1,r._toggleGroup=null,r.stateArray=[i.STATE_UP],r._currentState=i.STATE_UP,r._textureDict={},r._verticalSplit=!0,r._labelMarginLeft=0,r._labelMarginLeftEnable=!1,r._labelMarginTop=0,r._labelMarginTopEnable=!1,r._iconMarginLeft=0,r._iconMarginLeftEnable=!1,r._iconMarginTop=0,r._iconMarginTopEnable=!1,r._autoSize=!1,r._labelColor=t.Style.BUTTON_TEXT,r._labelBold=!1,r._labelItalic=!1,r._labelLineSpacing=0,r._labelMultiline=!1,r._labelStroke=0,r._labelStrokeColor=13136,r._fontSize=12,r._fontName=null,r._scale9GridEnable=!1,r._scale9GridRect=null,r._fillMode="scale",r._soundName="sound_button",r._testPixelEnable=!1,r}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.setSize(t.Style.BUTTON_DEFAULT_WIDTH,t.Style.BUTTON_DEFAULT_HEIGHT),this.touchEnabled=!0,this.touchChildren=!1,this._imgDisplay=new egret.Bitmap,this.addChild(this._imgDisplay),this._imgDisplay.width=this.width,this._imgDisplay.height=this.height,this._imgDisplay.fillMode=egret.BitmapFillMode.SCALE,this._imgDisplay.touchEnabled=!1,this._label=new t.Label(this.drawDelay),this._label.autoSize=!0,this._label.clip=!1,this._label.hAlign=egret.HorizontalAlign.CENTER,this._label.showBg=!1,this.addChild(this._label),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRleaseOutside,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchRleaseOutside,this)},i.prototype.onTouchEvent=function(e){if(!this.enabled)return void e.stopImmediatePropagation();if(t.GlobalSetting.STATS_BTN){var a=egret.getDefinitionByName("StatsUtil");a&&a.trackEvent("btn","touch",this.name,0)}if(e.currentTarget==this){if(this._testPixelEnable&&!this.testPixel32(e.localX,e.localY))return void e.stopImmediatePropagation();t.StringUtil.isUsage(this._toggleGroup)?(e.type==egret.TouchEvent.TOUCH_BEGIN&&(this.selected=!this._selected),this.onPlaySound()):(e.type==egret.TouchEvent.TOUCH_BEGIN?(this._currentState=i.STATE_DOWN,this.onPlaySound()):e.type==egret.TouchEvent.TOUCH_END?this._currentState=i.STATE_UP:e.type==egret.TouchEvent.TOUCH_MOVE&&(this._currentState=i.STATE_OVER),1==this.statesLength&&this._currentState==i.STATE_DOWN?(this.scaleX=.9,this.scaleY=.9,this.alpha=.8):(this.scaleX=1,this.scaleY=1,this.alpha=1))}this.invalidate()},i.prototype.onTouchRleaseOutside=function(e){(!t.StringUtil.isUsage(this._toggleGroup)||t.StringUtil.isUsage(this._toggleGroup)&&!this._selected)&&(this._currentState=i.STATE_UP,this.invalidate(),this.scaleX=1,this.scaleY=1,this.alpha=1)},Object.defineProperty(i.prototype,"currentState",{get:function(){return this._currentState},set:function(t){this._currentState!=t&&(this._currentState=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!=t&&(this._initDisplayData=!1,this._texture=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){this._fillMode!=t&&(this._fillMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridEnable",{get:function(){return this._scale9GridEnable},set:function(t){this._scale9GridEnable!=t&&(this._scale9GridEnable=t,this._scale9GridEnable&&null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridX",{get:function(){return this._scale9GridRect?this._scale9GridRect.x:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.x!=t&&(this._scale9GridRect.x=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridY",{get:function(){return this._scale9GridRect?this._scale9GridRect.y:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.y!=t&&(this._scale9GridRect.y=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridWidth",{get:function(){return this._scale9GridRect?this._scale9GridRect.width:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.width!=t&&(this._scale9GridRect.width=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridHeight",{get:function(){return this._scale9GridRect?this._scale9GridRect.height:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.height!=t&&(this._scale9GridRect.height=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9GridRect",{get:function(){return this._scale9GridRect},set:function(t){this._scale9GridRect=t},enumerable:!0,configurable:!0}),i.prototype.draw=function(){this._initDisplayData||(this._texture||(null==i.DEFAULT_TEXTURE&&this.initDefaultTexture(),this._texture=i.DEFAULT_TEXTURE),this.splitTextureSource()),null!=this._imgDisplay&&(1==this.statesLength&&this._currentState==i.STATE_DOWN?this._imgDisplay.texture=this._textureDict[i.STATE_UP]:this._imgDisplay.texture=this._textureDict[this._currentState],this.scale9GridEnable&&null!=this.scale9GridRect?this._imgDisplay.scale9Grid=this.scale9GridRect:this._imgDisplay.scale9Grid=null,this._imgDisplay.fillMode=this._fillMode,this._imgDisplay.width=this.width,this._imgDisplay.height=this.height,this._imgDisplay.anchorOffsetX=this._imgDisplay.width/2,this._imgDisplay.anchorOffsetY=this._imgDisplay.height/2,this._imgDisplay.x=this._imgDisplay.width/2,this._imgDisplay.y=this._imgDisplay.height/2,null!=this._textureLabel&&(null==this._imgLabel&&(this._imgLabel=new egret.Bitmap,this._imgLabel.touchEnabled=!1,this.addChild(this._imgLabel)),this._imgLabel.texture=this._textureLabel,this._labelMarginLeftEnable?this._imgLabel.x=this._labelMarginLeft:this._imgLabel.x=(this.width-this._imgLabel.width)/2,this._labelMarginTopEnable?this._imgLabel.y=this._labelMarginTop:this._imgLabel.y=(this.height-this._imgLabel.height)/2),null!=this._textureIcon&&(null==this._imgIcon&&(this._imgIcon=new egret.Bitmap(null),this._imgIcon.touchEnabled=!1,this.addChild(this._imgIcon)),this._imgIcon.texture=this._textureIcon,this._iconMarginLeftEnable?this._imgIcon.x=this._iconMarginLeft:this._imgIcon.x=(this.width-this._imgIcon.width)/2,this._iconMarginTopEnable?this._imgIcon.y=this._iconMarginTop:this._imgIcon.y=(this.height-this._imgIcon.height)/2),this._label&&(this._label.parent||this.addChild(this._label),this._label.text=this._text,this._label.fontSize=this._fontSize,this._label.fontName=this._fontName,this._label.bold=this._labelBold,this._label.italic=this._labelItalic,this._label.lineSpacing=this._labelLineSpacing,this._label.multiline=this._labelMultiline,this._label.stroke=this._labelStroke,this._label.strokeColor=this._labelStrokeColor,this._label.onInvalidate(null),this._labelMarginLeftEnable?this._label.x=this._labelMarginLeft:this._label.x=(this.width-this._label.width)/2,this._labelMarginTopEnable?this._label.y=this._labelMarginTop:this._label.y=(this.height-this._label.height)/2))},i.prototype.initDefaultTexture=function(){if(null==i.DEFAULT_TEXTURE){var e=new egret.Shape;e.width=this.width,e.height=this.height,e.graphics.beginFill(t.Style.BUTTON_FACE),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),e.graphics.lineStyle(1,0),e.graphics.drawRect(0,0,this.width-1,this.height-1);var a=new egret.RenderTexture;a.drawToTexture(e),i.DEFAULT_TEXTURE=a}},i.prototype.splitTextureSource=function(){if(this._texture){this._initDisplayData=!0;var t=0,e=0,i=this._texture.textureWidth,a=this._texture.textureHeight;if(1==this.stateArray.length)t=i,e=a,this._textureDict[this.stateArray[0]]=this._texture;else{var r=0,n=0,s=0;this._verticalSplit?(t=i,e=a/this.statesLength):(t=i/this.statesLength,e=a);var o=new egret.SpriteSheet(this._texture);for(r=0;r<this.stateArray.length;r++)this._verticalSplit?this._textureDict[this.stateArray[r]]=o.createTexture(this.name+Math.round(999999*Math.random())+"_"+this.stateArray[r],n,r*e+s,t,e):this._textureDict[this.stateArray[r]]=o.createTexture(this.name+Math.round(999999*Math.random())+"_"+this.stateArray[r],r*t+n,s,t,e)}this._autoSize&&(this.width=t,this.height=e)}},Object.defineProperty(i.prototype,"upSkin",{get:function(){return this._textureDict[i.STATE_UP]},set:function(t){this.isStateExist(i.STATE_UP)||this.stateArray.push(i.STATE_UP),this._textureDict[i.STATE_UP]=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overSkin",{get:function(){return this._textureDict[i.STATE_OVER]},set:function(t){this.isStateExist(i.STATE_OVER)||this.stateArray.push(i.STATE_OVER),this._textureDict[i.STATE_OVER]=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"downSkin",{get:function(){return this._textureDict[i.STATE_DOWN]},set:function(t){this.isStateExist(i.STATE_DOWN)||this.stateArray.push(i.STATE_DOWN),this._textureDict[i.STATE_DOWN]=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disableSkin",{get:function(){return this._textureDict[i.STATE_DISABLE]},set:function(t){this.isStateExist(i.STATE_DISABLE)||this.stateArray.push(i.STATE_DISABLE),this._textureDict[i.STATE_DISABLE]=t,this.invalidate()},enumerable:!0,configurable:!0}),i.prototype.isStateExist=function(t){return-1!=this.stateArray.indexOf(t)?!0:!1},Object.defineProperty(i.prototype,"label",{get:function(){return this._text},set:function(t){this._text=t,this._label&&(this._label.text=this._text),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(e){if(this._selected=e,this._currentState=this._selected?i.STATE_DOWN:i.STATE_UP,this._selected&&t.StringUtil.isUsage(this._toggleGroup)){var a=t.MyEvent.getEvent(i.TOGGLE_PREFIX+this._toggleGroup);a.addItem("caller",this),a.addItem("group",this._toggleGroup),a.send()}this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"statesLength",{get:function(){return this.stateArray.length},set:function(t){switch(t=0>t?1:t){case 1:this.stateArray=[i.STATE_UP];break;case 2:this.stateArray=[i.STATE_UP,i.STATE_DOWN];break;case 3:this.stateArray=[i.STATE_UP,i.STATE_OVER,i.STATE_DOWN];break;case 4:this.stateArray=[i.STATE_UP,i.STATE_OVER,i.STATE_DOWN,i.STATE_DISABLE]}this._initDisplayData=!1,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imgLabel",{get:function(){return this._textureLabel},set:function(t){this._textureLabel!=t&&(this._textureLabel=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"imgIcon",{get:function(){return this._textureIcon},set:function(t){this._textureIcon!=t&&(this._textureIcon=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelColor",{get:function(){return this._labelColor},set:function(t){this._labelColor!=t&&(this._labelColor=t,this._label&&(this._label.color=t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(t){this._fontName!=t&&(this._fontName=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!=t&&(this._fontSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelMarginLeft",{get:function(){return this._labelMarginLeft},set:function(t){this._labelMarginLeft!=t&&(this._labelMarginLeft=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelMarginLeftEnable",{get:function(){return this._labelMarginLeftEnable},set:function(t){this._labelMarginLeftEnable!=t&&(this._labelMarginLeftEnable=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelMarginTop",{get:function(){return this._labelMarginTop},set:function(t){this._labelMarginTop!=t&&(this._labelMarginTop=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelMarginTopEnable",{get:function(){return this._labelMarginTopEnable},set:function(t){this._labelMarginTopEnable!=t&&(this._labelMarginTopEnable=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconMarginLeft",{get:function(){return this._iconMarginLeft},set:function(t){this._iconMarginLeft!=t&&(this._iconMarginLeft=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconMarginLeftEnable",{get:function(){return this._iconMarginLeftEnable},set:function(t){this._iconMarginLeftEnable!=t&&(this._iconMarginLeftEnable=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconMarginTop",{get:function(){return this._iconMarginTop},set:function(t){this._iconMarginTop!=t&&(this._iconMarginTop=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconMarginTopEnable",{get:function(){return this._iconMarginTopEnable},set:function(t){this._iconMarginTopEnable!=t&&(this._iconMarginTopEnable=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"toggleGroup",{get:function(){return this._toggleGroup},set:function(e){t.StringUtil.isUsage(this._toggleGroup)&&t.EventManager.removeEventListener(i.TOGGLE_PREFIX+this._toggleGroup,this.onEventToggle,this),this._toggleGroup=e,t.StringUtil.isUsage(this._toggleGroup)&&t.EventManager.addEventListener(i.TOGGLE_PREFIX+this._toggleGroup,this.onEventToggle,this)},enumerable:!0,configurable:!0}),i.prototype.onEventToggle=function(e){t.StringUtil.isUsage(this._toggleGroup)&&e.getItem("group")==this._toggleGroup&&e.getItem("caller")!=this&&(this._selected=!1,this._currentState=i.STATE_UP,this.invalidate())},i.prototype.setSize=function(t,i){e.prototype.setSize.call(this,t,i),this.autoSize=!1},i.prototype.onPlaySound=function(){t.StringUtil.isUsage(this._soundName)&&t.Sound.play(this._soundName)},Object.defineProperty(i.prototype,"sound",{get:function(){return this._soundName},set:function(t){this._soundName=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"drawDelay",{set:function(t){this._setDrawDelay(t),this._label&&(this._label.drawDelay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelBold",{get:function(){return this._labelBold},set:function(t){this._labelBold!=t&&(this._labelBold=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelItalic",{get:function(){return this._labelItalic},set:function(t){this._labelItalic!=t&&(this._labelItalic=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelLineSpacing",{get:function(){return this._labelLineSpacing},set:function(t){this._labelLineSpacing!=t&&(this._labelLineSpacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelMultiline",{get:function(){return this._labelMultiline},set:function(t){this._labelMultiline!=t&&(this._labelMultiline=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelStroke",{get:function(){return this._labelStroke},set:function(t){this._labelStroke!=t&&(this._labelStroke=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelStrokeColor",{get:function(){return this._labelStrokeColor},set:function(t){this._labelStrokeColor!=t&&(this._labelStrokeColor=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"testPixelEnable",{get:function(){return this._testPixelEnable},set:function(t){this._testPixelEnable=t},enumerable:!0,configurable:!0}),i.prototype.getPixel32=function(t,e){var i,a=this.globalToLocal(t,e),r=null;this._imgDisplay&&this._imgDisplay.texture&&(r=this._imgDisplay.texture.getPixel32(a.x,a.y));for(var n=0;n<r.length;n++)if(r[n]>0)return i=!0,r;this._imgIcon&&this._imgIcon.texture&&(r=this._imgIcon.texture.getPixel32(t,e));for(var n=0;n<r.length;n++)if(r[n]>0)return i=!0,r;this._imgLabel&&this._imgLabel.texture&&(r=this._imgLabel.texture.getPixel32(t,e));for(var n=0;n<r.length;n++)if(r[n]>0)return i=!0,r;return[]},i.prototype.testPixel32=function(t,e){for(var i=this.getPixel32(t,e),a=0;a<i.length;a++)if(i[a]>0)return!0;return!1},i}(t.BaseGroup);e.TOGGLE_PREFIX="ui#button#toggle_",e.DEFAULT_TEXTURE=null,e.STATE_UP="up",e.STATE_OVER="over",e.STATE_DOWN="down",e.STATE_DISABLE="disable",t.Button=e,__reflect(e.prototype,"easy.Button")}(easy||(easy={}));var game2048;!function(t){var e=function(t){function e(){var e=t.call(this,!0)||this;return e.resSpriteSheet="",e.resTexture=[],e.resGroup=[],e.resFiles=[],e.spriteSheet=null,e.groupBig=null,e.group=null,e.group1=null,e.group2=null,e.group3=null,e.group4=null,e.group5=null,e.group6=null,e.group7=null,e.group8=null,e.group9=null,e.group10=null,e.group11=null,e.group12=null,e.group13=null,e.group14=null,e.group15=null,e.group16=null,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.border=!1,this.width=640,this.height=1136,this.groupBig=new easy.Group(!0),this.groupBig.name="groupBig",this.addChild(this.groupBig),this.groupBig.bgColor=10092543,this.groupBig.border=!1,this.groupBig.y=248,this.groupBig.width=640,this.groupBig.height=640,this.group=new easy.Group(!0),this.group.name="group",this.groupBig.addChild(this.group),this.group.showBg=!1,this.group.border=!1,this.group.x=20,this.group.y=20,this.group.width=600,this.group.height=600,this.group1=new easy.Group(!0),this.group1.name="group1",this.group.addChild(this.group1),this.group1.border=!1,this.group1.width=135,this.group1.height=135,this.group2=new easy.Group(!0),this.group2.name="group2",this.group.addChild(this.group2),this.group2.border=!1,this.group2.x=155,this.group2.width=135,this.group2.height=135,this.group3=new easy.Group(!0),this.group3.name="group3",this.group.addChild(this.group3),this.group3.border=!1,this.group3.x=310,this.group3.width=135,this.group3.height=135,this.group4=new easy.Group(!0),this.group4.name="group4",this.group.addChild(this.group4),this.group4.border=!1,this.group4.x=465,this.group4.width=135,this.group4.height=135,this.group5=new easy.Group(!0),this.group5.name="group5",this.group.addChild(this.group5),this.group5.border=!1,this.group5.y=155,this.group5.width=135,this.group5.height=135,this.group6=new easy.Group(!0),this.group6.name="group6",this.group.addChild(this.group6),this.group6.border=!1,this.group6.x=155,this.group6.y=155,this.group6.width=135,this.group6.height=135,this.group7=new easy.Group(!0),this.group7.name="group7",this.group.addChild(this.group7),this.group7.border=!1,this.group7.x=310,this.group7.y=155,this.group7.width=135,this.group7.height=135,this.group8=new easy.Group(!0),this.group8.name="group8",this.group.addChild(this.group8),this.group8.border=!1,this.group8.x=465,this.group8.y=155,this.group8.width=135,this.group8.height=135,this.group9=new easy.Group(!0),this.group9.name="group9",this.group.addChild(this.group9),this.group9.border=!1,this.group9.y=310,this.group9.width=135,this.group9.height=135,this.group10=new easy.Group(!0),this.group10.name="group10",this.group.addChild(this.group10),this.group10.border=!1,this.group10.x=155,this.group10.y=310,this.group10.width=135,this.group10.height=135,this.group11=new easy.Group(!0),this.group11.name="group11",this.group.addChild(this.group11),this.group11.border=!1,this.group11.x=310,this.group11.y=310,this.group11.width=135,this.group11.height=135,this.group12=new easy.Group(!0),this.group12.name="group12",this.group.addChild(this.group12),this.group12.border=!1,this.group12.x=465,this.group12.y=310,this.group12.width=135,this.group12.height=135,this.group13=new easy.Group(!0),this.group13.name="group13",this.group.addChild(this.group13),this.group13.border=!1,this.group13.y=465,this.group13.width=135,this.group13.height=135,this.group14=new easy.Group(!0),this.group14.name="group14",this.group.addChild(this.group14),this.group14.border=!1,this.group14.x=155,this.group14.y=465,this.group14.width=135,this.group14.height=135,this.group15=new easy.Group(!0),this.group15.name="group15",this.group.addChild(this.group15),this.group15.border=!1,this.group15.x=310,this.group15.y=465,this.group15.width=135,this.group15.height=135,this.group16=new easy.Group(!0),this.group16.name="group16",this.group.addChild(this.group16),this.group16.border=!1,this.group16.x=465,this.group16.y=465,this.group16.width=135,this.group16.height=135
},e.prototype.initData=function(){t.prototype.initData.call(this)},e.prototype.enter=function(){},e.prototype.outer=function(){},e.prototype.validateNow=function(){this.drawDelay=!1,this.groupBig.drawDelay=!1,this.group.drawDelay=!1,this.group1.drawDelay=!1,this.group2.drawDelay=!1,this.group3.drawDelay=!1,this.group4.drawDelay=!1,this.group5.drawDelay=!1,this.group6.drawDelay=!1,this.group7.drawDelay=!1,this.group8.drawDelay=!1,this.group9.drawDelay=!1,this.group10.drawDelay=!1,this.group11.drawDelay=!1,this.group12.drawDelay=!1,this.group13.drawDelay=!1,this.group14.drawDelay=!1,this.group15.drawDelay=!1,this.group16.drawDelay=!1},e}(easy.Group);t.game3=e,__reflect(e.prototype,"game2048.game3")}(game2048||(game2048={}));var easy;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._dulation=15,t._mssageArr=[],t.speed=5,t._labelArr=[],t._showNext=!1,t}return __extends(i,e),i.getInstance=function(){return null==i._instance&&(i._instance=new i),i._instance},i.showMessage=function(t,e,a,r,n,s){void 0===e&&(e=0),void 0===a&&(a=16774758),void 0===r&&(r=65535),void 0===n&&(n=65535),void 0===s&&(s=5),i.getInstance().showMsg(t,e,a,r,n,s)},i.prototype.showMsg=function(e,i,a,r,n,s){void 0===i&&(i=0),void 0===a&&(a=16774758),void 0===r&&(r=65535),void 0===n&&(n=65535),void 0===s&&(s=5),t.HeartBeat.addListener(this,this.onHeartBeat),0==this._labelArr.length&&(this._showNext=!0),this._mssageArr.push({msg:e,color:a,x:r,y:n,delay:i,speed:s})},i.prototype.onHeartBeat=function(){if(0==this._labelArr.length&&0==this._mssageArr.length)return void t.HeartBeat.removeListener(this,this.onHeartBeat);var e=null;if(this._showNext&&this._mssageArr.length>0){var i=this._mssageArr.shift();e=t.ObjectPool.getByClass(t.Label,"msgtips"),e.text=i.msg,e.color=i.color,e.bold=!0,e.alpha=0,e.fontSize=40,e.showBg=!1,e.autoSize=!0,i.delay>0?e.setData(-i.delay):e.setData(0),t.GlobalSetting.STAGE.addChild(e),e.draw(),65535==i.x?e.x=t.GlobalSetting.DISPLAY_WIDTH/2-e.cx:e.x=i.x,65535==i.y?e.y=t.GlobalSetting.DISPLAY_HEIGHT/2:e.y=i.y,this._labelArr.push({label:e,speed:i.speed})}for(var a=0;a<this._labelArr.length;a++)if(i=this._labelArr[a],e=i.label,e.getData()<0)e.setData(e.getData()+1);else{e.getData()<this._dulation?(e.y-=i.speed,e.alpha+=.1):(e.y-=i.speed+3,e.alpha-=.1),e.y<0&&(this._labelArr.splice(a,1),e.removeFromParent(),t.ObjectPool.recycleClass(e,"msgtips"));var r=t.ViewManager.currentView;null==r&&(r=t.GlobalSetting.STAGE),a==this._labelArr.length-1&&r.height/2-this._labelArr[a].y>5&&(this._showNext=!0)}},i}(t.BaseGroup);e._instance=null,t.MessageTips=e,__reflect(e.prototype,"easy.MessageTips")}(easy||(easy={}));var easy;!function(t){var e=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this,e)||this;return i._bitmap=null,i._texture=null,i._autoSize=!1,i._scale9GridEnable=!1,i._scale9GridRect=null,i._fillMode="scale",i._smoothing=!1,i}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this._bitmap=new egret.Bitmap,this.addChild(this._bitmap)},Object.defineProperty(e.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){this._fillMode!=t&&(this._fillMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!=t&&(this._texture=t,this.invalidate(),this.onInvalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9GridEnable",{get:function(){return this._scale9GridEnable},set:function(t){this._scale9GridEnable!=t&&(this._scale9GridEnable=t,this._scale9GridEnable&&null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9GridX",{get:function(){return this._scale9GridRect?this._scale9GridRect.x:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.x!=t&&(this._scale9GridRect.x=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9GridY",{get:function(){return this._scale9GridRect?this._scale9GridRect.y:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.y!=t&&(this._scale9GridRect.y=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9GridWidth",{get:function(){return this._scale9GridRect?this._scale9GridRect.width:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.width!=t&&(this._scale9GridRect.width=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9GridHeight",{get:function(){return this._scale9GridRect?this._scale9GridRect.height:0},set:function(t){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle),this._scale9GridRect.height!=t&&(this._scale9GridRect.height=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9GridRect",{get:function(){return this._scale9GridRect},set:function(t){this._scale9GridRect=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._smoothing!=t&&(this._smoothing=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){!this._bitmap||null==this._texture&&null==this._bitmap.texture||(this._bitmap.texture!=this._texture&&(this._bitmap.texture=this._texture),null!=this._bitmap.texture&&(this._scale9GridEnable&&this._scale9GridRect?(this._bitmap.scale9Grid=this._scale9GridRect,this._bitmap.width=this.width,this._bitmap.height=this.height):(this._bitmap.scale9Grid=null,!this._scale9GridEnable&&this._autoSize?"scale"!=this._fillMode?(this._bitmap.width=this.width,this._bitmap.height=this.height):(this._bitmap.scaleX=this.width/this._bitmap.texture.textureWidth,this._bitmap.scaleY=this.height/this._bitmap.texture.textureHeight):this._texture&&(this._bitmap.scaleX=1,this._bitmap.scaleY=1,this._bitmap.width=this._texture.textureWidth,this._bitmap.height=this._texture.textureHeight,this.$setWidth(this._texture.textureWidth),this.$setHeight(this._texture.textureHeight),this.anchorEnabled&&(this.anchorOffsetX=this.width*this.anchorX),this.anchorEnabled&&(this.anchorOffsetY=this.height*this.anchorY))),this._bitmap.fillMode=this._fillMode))},e.prototype.getBitmap=function(){return this._bitmap},e.prototype.getPixel32=function(t,e){if(this._bitmap&&this._bitmap.texture){var i=this.globalToLocal(t,e);return this._bitmap.texture.getPixel32(i.x,i.y)}return[]},e.prototype.testPixel32=function(t,e){for(var i=this.getPixel32(t,e),a=0;a<i.length;a++)if(i[a]>0)return!0;return!1},e}(t.BaseGroup);t.Image=e,__reflect(e.prototype,"easy.Image")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(i){void 0===i&&(i=!1);var a=e.call(this,i)||this;return a._text="",a._textField=null,a._initFlow=null,a._htmlTextParser=null,a._fontSize=t.Style.fontSize,a._color=t.Style.LABEL_TEXT,a._fontName=t.Style.fontName,a._hAlign=egret.HorizontalAlign.LEFT,a._vAlign=egret.VerticalAlign.MIDDLE,a._bold=!1,a._italic=!1,a._lineSpacing=0,a._multiline=!1,a._stroke=0,a._strokeColor=13136,a._html=!1,a._autoSize=!1,a._link=null,a}return __extends(i,e),i.prototype.initData=function(){e.prototype.initData.call(this)},i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this._autoSize||this.setSize(t.Style.TEXTINPUT_WIDTH,t.Style.TEXTINPUT_HEIGHT),this._textField=new egret.TextField,this._textField.addEventListener(egret.Event.CHANGE,this.onChangeHdl,this),this.addChild(this._textField),this.invalidate()},i.prototype.onChangeHdl=function(t){this._text=this._textField.text},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this._html?null==this._text?(this._text="",this._initFlow=[]):(null==this._htmlTextParser&&(this._htmlTextParser=new egret.HtmlTextParser),this._initFlow=this._htmlTextParser.parser(this._text)):null==this._text&&(this._text=""),this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.getTextField=function(){return this._textField},i.prototype.draw=function(){e.prototype.draw.call(this),null!=this._textField&&(null!=this._fontName&&(this._textField.fontFamily=this.fontName),this._color>=0&&(this._textField.textColor=this._color),this._fontSize>0&&(this._textField.size=this._fontSize),this._textField.bold=this._bold,this._textField.italic=this._italic,this._textField.multiline=this._multiline,this._textField.lineSpacing=this._lineSpacing,this._textField.stroke=this._stroke,this._textField.strokeColor=this._strokeColor,this._html?(this._initFlow&&(this._textField.textFlow=this._initFlow),this._initFlow=null):this._textField.text=this._text,this._autoSize?(this.height=this._textField.measuredHeight,this.width=this._textField.measuredWidth):(this._textField.width=this.width,this._vAlign==egret.VerticalAlign.MIDDLE?this._textField.y=(this.height-this._textField.height)/2:this._vAlign==egret.VerticalAlign.BOTTOM?this._textField.y=this.height-this._textField.height:this._textField.y=0),this._textField.textAlign=this._hAlign,this._textField.verticalAlign=this._vAlign)},Object.defineProperty(i.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(t){this._fontName!=t&&(this._fontName=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!=t&&(this._fontSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(t){this._color!=t&&(this._color=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"multiline",{get:function(){return this._multiline},set:function(t){this._multiline!=t&&(this._multiline=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this._hAlign},set:function(t){this._hAlign!=t&&(this._hAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this._vAlign},set:function(t){this._vAlign!=t&&(this._vAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this._html},set:function(t){this._html!=t&&(this._html=t,this.invalidate())},enumerable:!0,configurable:!0}),i}(t.Group);t.Label=e,__reflect(e.prototype,"easy.Label")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(t){void 0===t&&(t=!1);var i=e.call(this,t)||this;return i._text="",i._textureDict={},i._texture=null,i._shape=null,i._initDisplayData=!1,i._chars="0,1,2,3,4,5,6,7,8,9",i._charSplit=",",i._horizontalSplit=!0,i._gapSplit=0,i._soundName=null,i._sound=null,i._rollingEnable=!1,i._rollingZoomEnable=!1,i._rollingZoomValue=1.5,i._rollingZoomAlign=egret.HorizontalAlign.CENTER,i._rollingEffect=null,i._step=0,i._callbackFunc=null,i._callbackFuncThis=null,i}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.setSize(t.Style.TEXTINPUT_WIDTH,t.Style.TEXTINPUT_HEIGHT)},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._rollingEnable?(null==this._rollingEffect&&(this._rollingEffect=new EffectNumberRolling(this),this._rollingEffect.zoomEnable=this._rollingZoomEnable,this._rollingEffect.zoomValue=this._rollingZoomValue,this._rollingEffect.zoomAlign=this._rollingZoomAlign,this._rollingEffect.callbackFunc=this._callbackFunc,this._rollingEffect.callbackFuncThis=this._callbackFuncThis),this._rollingEffect.clean(),this._rollingEffect.setText(t,this._step)):(this._rollingEffect&&this._rollingEffect.clean(t),this.setText(t)))},enumerable:!0,configurable:!0}),i.prototype.setText=function(t){this._text=""+t,null==this._text&&(this._text=""),this.invalidate(),this.onPlaySound()},Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!=t&&(this._texture=t,this._initDisplayData=!1,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chars",{get:function(){return this._chars},set:function(t){this._chars!=t&&(this._chars=t,this._initDisplayData=!1,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step!=t&&(this._step=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalSplit",{get:function(){return this._horizontalSplit},set:function(t){this._horizontalSplit!=t&&(this._horizontalSplit=t,this._initDisplayData=!1,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gapSplit",{get:function(){return this._gapSplit},set:function(t){this._gapSplit!=t&&(this._gapSplit=t,this._initDisplayData=!1,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"charSplit",{get:function(){return this._charSplit},set:function(t){this._charSplit!=t&&(this._charSplit=t,this._initDisplayData=!1,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.draw=function(){this._initDisplayData||this.splitTextureSource(),this._bgImage&&this._bgImage.parent&&this._bgImage.parent.removeChild(this._bgImage);for(var i=null,a=this.numChildren-1;a>=0;a--)i=this.getChildAt(a),i.texture=null,i.parent.removeChild(i),t.ObjectPool.recycleClass(i,"labelimg");var r=null;if(t.StringUtil.isUsage(this._text))for(var a=0;a<this._text.length;a++)r=this._textureDict[this._text.charAt(a)],r&&(i=t.ObjectPool.getByClass(egret.Bitmap,"labelimg"),this.addChild(i),i.texture=r,i.width=r.textureWidth,i.height=r.textureHeight,i.visible=!0,i.alpha=1);e.prototype.draw.call(this)},i.prototype.splitTextureSource=function(){if(this._texture&&t.StringUtil.isUsage(this._chars)){var e=t.StringUtil.spliteStrArr(this._chars,this._charSplit);if(e.length>0){this._initDisplayData=!0;var i=new egret.SpriteSheet(this._texture),a=0,r=0,n=this._texture.textureWidth,s=this._texture.textureHeight;this._horizontalSplit?(a=(n-e.length*this._gapSplit)/e.length,r=s):(a=n,r=(s-e.length*this._gapSplit)/e.length);for(var o=0;o<e.length;o++)this._horizontalSplit?this._textureDict[e[o]]=i.createTexture(this.name+Math.round(999999*Math.random())+"_"+e[o],o*a+o*this._gapSplit,0,a,r):this._textureDict[e[o]]=i.createTexture(this.name+Math.round(999999*Math.random())+"_"+e[o],0,o*r+o*this._gapSplit,a,r)}}},i.prototype.onPlaySound=function(){null==this._sound&&t.StringUtil.isUsage(this._soundName)&&(this._sound=RES.getRes(this._soundName)),this._sound&&this._sound.play()},Object.defineProperty(i.prototype,"sound",{get:function(){return this._soundName},set:function(t){this._soundName=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rollingEnable",{get:function(){return this._rollingEnable},set:function(t){this._rollingEnable=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rollingZoomEnable",{get:function(){return this._rollingZoomEnable},set:function(t){this._rollingZoomEnable=t,this._rollingEffect&&(this._rollingEffect.zoomEnable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rollingZoomValue",{get:function(){return this._rollingZoomValue},set:function(t){this._rollingZoomValue=t,this._rollingEffect&&(this._rollingEffect.zoomValue=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rollingZoomAlign",{get:function(){return this._rollingZoomAlign},set:function(t){this._rollingZoomAlign=t,this._rollingEffect&&(this._rollingEffect.zoomAlign=t)},enumerable:!0,configurable:!0}),i.prototype.onInvalidatePosition=function(){this._hasInvalidatePosition||(this._hasInvalidatePosition=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.resetPosition,this))},i.prototype.setRollingEndFunc=function(t,e){this._callbackFunc=e,this._callbackFuncThis=t,this._rollingEffect&&(this._rollingEffect.callbackFunc=this._callbackFunc,this._rollingEffect.callbackFuncThis=this._callbackFuncThis)},i.prototype.removeRollingEndFunc=function(){this._callbackFunc=null,this._callbackFuncThis=null,this._rollingEffect&&(this._rollingEffect.callbackFunc=this._callbackFunc,this._rollingEffect.callbackFuncThis=this._callbackFuncThis)},i}(t.HGroup);t.LabelImage=e,__reflect(e.prototype,"easy.LabelImage")}(easy||(easy={}));var EffectNumberRolling=function(){function t(t){this.zoomEnable=!1,this.zoomValue=1,this.zoomAlign=egret.HorizontalAlign.CENTER,this._isZoom=!1,this._zoomXOld=1,this._zoomYOld=1,this._xScale=1,this._yScale=1,this._xOld=1,this._yOld=1,this._labelImg=null,this._rollingText=[],this.callbackFunc=null,this.callbackFuncThis=null,this._labelImg=t,this._xOld=this._labelImg.x,this._yOld=this._labelImg.y}return t.prototype.clean=function(t){void 0===t&&(t=null),this._rollingText.length>0&&(this._labelImg.setText(this._rollingText[this._rollingText.length-1]),this._lastRollString=this._rollingText[this._rollingText.length-1]),this._rollingText.length=0,easy.StringUtil.isUsage(t)&&(this._lastRollString=t)},t.prototype.setText=function(t,e){var i=this._labelImg.text;this._labelLength=parseInt(t);var a=this._labelLength+"";if(a.length==t.length){this._rollingText.length>0?(this._labelImg.setText(this._rollingText[this._rollingText.length-1]),this._lastRollString=this._rollingText[this._rollingText.length-1]):this._lastRollString=i,this._rollingText.length=0;var r,n,s=0;if(s=e>0?e:this.getStepValue(parseInt(this._lastRollString),parseInt(t)),r=parseInt(this._lastRollString)+s,n=r+"",this._rollingText.push(n),s>0)for(;parseInt(this._rollingText[this._rollingText.length-1])<parseInt(t);)s+parseInt(this._rollingText[this._rollingText.length-1])<parseInt(t)?(r+=s,n=r+""):(r=parseInt(t),n=r+""),this._rollingText.push(n);else if(0>s)for(;parseInt(this._rollingText[this._rollingText.length-1])>parseInt(t);)s+parseInt(this._rollingText[this._rollingText.length-1])>parseInt(t)?(r+=s,n=r+""):(r=parseInt(t),n=r+""),this._rollingText.push(n)}this.zoomEnable&&1!=this.zoomValue&&(this._labelImg.scaleX=this.zoomValue,this._labelImg.scaleY=this.zoomValue,this.zoomValue>1?(this._xScale=this._xOld-this._labelImg.width*(this._labelImg.scaleX-1),this._yScale=this._yOld-this._labelImg.height*(this._labelImg.scaleX-1)):this.zoomValue<1&&(this._xScale=this._xOld+this._labelImg.width*(this._labelImg.scaleX-1),this._yScale=this._yOld+this._labelImg.height*(this._labelImg.scaleX-1)),this.zoomValue>1?"center"==this.zoomAlign?(this._labelImg.x=this._xOld-this._labelImg.width*(this._labelImg.scaleX-1)/2,this._labelImg.y=this._yOld-this._labelImg.height*(this._labelImg.scaleY-1)/2):"left"==this.zoomAlign?this._labelImg.y=this._yOld-this._labelImg.height*(this._labelImg.scaleY-1)/2:"right"==this.zoomAlign&&(this._labelImg.x=this._xOld-this._labelImg.width*(this._labelImg.scaleX-1),this._labelImg.y=this._yOld-this._labelImg.height*(this._labelImg.scaleY-1)/2):this.zoomValue<1&&("center"==this.zoomAlign?(this._labelImg.x=this._xOld+this._labelImg.width*(this._labelImg.scaleX-1)/2,this._labelImg.y=this._yOld+this._labelImg.height*(this._labelImg.scaleY-1)/2):"left"==this.zoomAlign?this._labelImg.y=this._yOld+this._labelImg.height*(this._labelImg.scaleY-1)/2:"right"==this.zoomAlign&&(this._labelImg.x=this._xOld+this._labelImg.width*(this._labelImg.scaleX-1),this._labelImg.y=this._yOld+this._labelImg.height*(this._labelImg.scaleY-1)/2)),this._isZoom=!0),easy.HeartBeat.addListener(this,this.onChangeText,3)},t.prototype.getStepValue=function(t,e){var i=Math.abs(t-e),a=1;return a=30>i?1:60>i?2:100>i?3:200>i?5:400>i?10:800>i?20:1500>i?30:2500>i?40:3500>i?50:Math.floor(Math.round(i/200)+50),t>e&&(a=-a),console.log("step="+a),a},t.prototype.onChangeText=function(){if(this._rollingText.length>0)this._labelImg.setText(this._rollingText.shift());else{if(easy.HeartBeat.removeListener(this,this.onChangeText),this._isZoom){var t={scaleX:this._zoomXOld,scaleY:this._zoomYOld};0==this._labelImg.anchorX&&0==this._labelImg.anchorOffsetX&&(t.x=this._xOld),0==this._labelImg.anchorY&&0==this._labelImg.anchorOffsetY&&(t.y=this._yOld),egret.Tween.get(this._labelImg).to(t,200)}this._isZoom=!1,this.callbackFunc&&this.callbackFuncThis&&this.callbackFunc.call(this.callbackFuncThis)}},t}();__reflect(EffectNumberRolling.prototype,"EffectNumberRolling");var easy;!function(t){var e=function(e){function i(i){void 0===i&&(i=!1);var a=e.call(this,i)||this;return a.METHOD_DEF={},a._itemRenderer=t.DefaultRenderer,a._itemContainer=null,a._gap=2,a._direction=t.Style.VERTICAL,a._dataIndexBegin=0,a._dataIndexEnd=0,a._itemDatas=null,a._dataIndexToRender=null,a._autoSize=!1,a._marginTop=4,a._marginBottom=4,a._marginLeft=4,a._marginRight=4,a._line=1,a._lineGap=2,a._effect=null,a._isDragBegin=!1,a._isMoveBegin=!1,a._moveCount=0,a._dragBeginPoint=null,a._dragLastTime=0,a._autoScrollGap=0,a._lastTimeNum=0,a._selected=null,a._fixed=!1,a._data_end_func_call=null,a._data_end_func_this=null,a}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.setSize(100,300),this.touchEnabled=!0,this._itemContainer=new t.BaseGroup,this.addChild(this._itemContainer),this._itemContainer.touchEnabled=!0,this._itemContainer.setSize(this.width,this.height),this._itemContainer.scrollRect=new egret.Rectangle(0,0,this.width,this.height),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBeginEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMoveEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEndEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchReleaseOutsideEvent,this),this._dragBeginPoint=new egret.Point,this.addHandleEvent(t.EventType.RESOURCE_DOWNLOADED,"onMyEventResDownloaded"),this.touchNonePixel=!0},i.prototype.addHandleEvent=function(e,i){t.MessageControler.addEvent(e),this.METHOD_DEF[e]=i},i.prototype.receiveEvent=function(t){for(var e=null,i=0;i<this._itemContainer.numChildren;i++)e=this._itemContainer.getChildAt(i),e.refresh&&e.refresh()},i.prototype.onTouchBeginEvent=function(e){this._itemDatas&&0!=this._itemDatas.length&&(this._isDragBegin=!0,this._isMoveBegin=!1,this._lastTimeNum=0,this._moveCount=0,this._dragBeginPoint.x=e.stageX,this._dragBeginPoint.y=e.stageY,this._dragLastTime=egret.getTimer(),t.HeartBeat.removeListener(this,this.onAutoScroll))},i.prototype.onTouchMoveEvent=function(e){if(this._itemDatas&&0!=this._itemDatas.length&&this._isDragBegin){if(this._isDragBegin&&(this._isMoveBegin=!0,this._moveCount++,this.moveItemUIPosition(e.stageX-this._dragBeginPoint.x,e.stageY-this._dragBeginPoint.y)),this._direction==t.Style.VERTICAL){if(this._autoScrollGap=e.stageY-this._dragBeginPoint.y,e.stageY<=this.getGlobalXY().y||e.stageY>=this.getGlobalXY().y+this.height)return void this.onTouchEndEvent(e)}else if(this._autoScrollGap=e.stageX-this._dragBeginPoint.x,e.stageX<=this.getGlobalXY().x||e.stageX>=this.getGlobalXY().x+this.width)return void this.onTouchEndEvent(e);this._lastTimeNum=egret.getTimer()-this._dragLastTime,this._dragBeginPoint.x=e.stageX,this._dragBeginPoint.y=e.stageY,this._dragLastTime=egret.getTimer()}},i.prototype.onTouchReleaseOutsideEvent=function(t){this.onTouchEndEvent(t),console.log("onTouchReleaseOutsideEvent")},i.prototype.onTouchEndEvent=function(e){if(this._isDragBegin&&(!this._isMoveBegin||this._moveCount<4&&Math.abs(e.stageX-this._dragBeginPoint.x)<5&&Math.abs(e.stageY-this._dragBeginPoint.y)<5)){for(var i=null,a=null,r=0;r<this._itemContainer.numChildren;r++)if(i=this._itemContainer.getChildAt(r),a=this.localToGlobal(i.x,i.y),a.x<e.stageX&&a.y<e.stageY&&a.x+i.width>e.stageX&&a.y+i.height>e.stageY)try{this.selected=i._data;break}catch(n){}return this._isDragBegin=!1,void(this._isMoveBegin=!1)}return this._isDragBegin=!1,this._isMoveBegin=!1,this._lastTimeNum<40&&(this._dataIndexBegin>0&&this._autoScrollGap>0||this._itemDatas&&this._dataIndexEnd<this._itemDatas.length-1&&this._autoScrollGap<0)?(this._autoScrollGap=this._autoScrollGap/this._lastTimeNum*10,void t.HeartBeat.addListener(this,this.onAutoScroll)):void this.checkUIFreeback()},i.prototype.onAutoScroll=function(){this._direction==t.Style.VERTICAL?this.moveItemUIPosition(0,this._autoScrollGap):this.moveItemUIPosition(this._autoScrollGap,0),this._autoScrollGap-=this._autoScrollGap/20,(Math.abs(this._autoScrollGap)<.5||0==this._dataIndexBegin||this._dataIndexEnd>=this._itemDatas.length-1)&&(t.HeartBeat.removeListener(this,this.onAutoScroll),this.checkUIFreeback())},i.prototype.checkUIFreeback=function(){if(this._itemContainer.numChildren>0&&this._itemDatas&&this._itemDatas.length>0&&(0==this._dataIndexBegin||this._dataIndexEnd>=this._itemDatas.length-1)){var e=0;if(0==this._dataIndexBegin?(e=this._direction==t.Style.VERTICAL?this._itemContainer.getChildAt(0).y:this._itemContainer.getChildAt(0).x,0>e&&(this._direction==t.Style.VERTICAL?(e=this._itemContainer.getChildAt(this._itemContainer.numChildren-1).y+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).height-this._itemContainer.height,e+this._itemContainer.height>0&&(e=this._itemContainer.getChildAt(0).y)):e=this._itemContainer.getChildAt(this._itemContainer.numChildren-1).x+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).width-this._itemContainer.width,e>0&&(e=0))):this._dataIndexEnd>=this._itemDatas.length-1&&(e=this._direction==t.Style.VERTICAL?this._itemContainer.getChildAt(this._itemContainer.numChildren-1).y+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).height-this._itemContainer.height:this._itemContainer.getChildAt(this._itemContainer.numChildren-1).x+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).width-this._itemContainer.width),0!=e)for(var i=0;i<this._itemContainer.numChildren;i++)this._direction==t.Style.VERTICAL?egret.Tween.get(this._itemContainer.getChildAt(i)).to({y:this._itemContainer.getChildAt(i).y-e},100):egret.Tween.get(this._itemContainer.getChildAt(i)).to({x:this._itemContainer.getChildAt(i).x-e},100)}},i.prototype.removeRender=function(e){if(e){for(var i in this._dataIndexToRender)if(this._dataIndexToRender[i]==e){delete this._dataIndexToRender[i];break}try{e.data=null}catch(a){}try{e.list=null}catch(a){}e&&e.parent&&e.parent.removeChild(e),t.ObjectPool.recycleClass(e,"list_"+this.name)}},i.prototype.moveItemUIPosition=function(e,i){for(var a=null,r=0,n=this._itemContainer.numChildren-1;n>=0;n--)if(a=this._itemContainer.getChildAt(n),this._direction==t.Style.VERTICAL){if(this._fixed||(a.y+=i),0==this._dataIndexBegin&&i>=0||this._dataIndexEnd==this._itemDatas.length-1&&0>i)continue;this._fixed&&(a.y+=i),0>i&&this._dataIndexEnd<this._itemDatas.length-1?(this._itemContainer.getChildAt(this._itemContainer.numChildren-1).y+a.height+this._gap<this._itemContainer.height&&(r=this.addUIItem(this._dataIndexEnd+1,!1),this._dataIndexEnd+=r),a.y+a.height<0&&(this.removeRender(this._itemContainer.getChildAt(n)),this._dataIndexBegin++)):this._dataIndexBegin>0&&(this._itemContainer.getChildAt(0).y-this._gap>0&&(r=this.addUIItem(this._dataIndexBegin-this._line,!0),this._dataIndexBegin-=r),a.y>this._itemContainer.height&&(this.removeRender(this._itemContainer.getChildAt(n)),this._dataIndexEnd--))}else{if(this._fixed||(a.x+=e),0==this._dataIndexBegin&&e>=0||this._dataIndexEnd==this._itemDatas.length-1&&0>e)continue;this._fixed&&(a.x+=e),0>e&&this._dataIndexEnd<this._itemDatas.length-1?(this._itemContainer.getChildAt(this._itemContainer.numChildren-1).x+a.width+this._gap<this._itemContainer.width&&(r=this.addUIItem(this._dataIndexEnd+1,!1),this._dataIndexEnd+=r),a.x+a.width<0&&(this.removeRender(this._itemContainer.getChildAt(n)),this._dataIndexBegin++)):this._dataIndexBegin>0&&(this._itemContainer.getChildAt(0).x-this._gap>0&&(r=this.addUIItem(this._dataIndexBegin-this.line,!0),this._dataIndexBegin-=r),a.x>this._itemContainer.width&&(this.removeRender(this._itemContainer.getChildAt(n)),this._dataIndexEnd--))}},i.prototype.addUIItem=function(e,i){if(!this._itemDatas||0>e||e>=this._itemDatas.length)return 0;for(var a=0,r=0,n=0;a<this._line&&!(!this._itemDatas||0>e||e>=this._itemDatas.length);){var s=t.ObjectPool.getByClass(this._itemRenderer,"list_"+this.name);s.isAddedToStage||(this._itemContainer.addChild(s),this._itemContainer.removeChild(s)),s&&s.validateNow&&s.validateNow();try{s.data=this._itemDatas[e]}catch(o){}try{s.list=this}catch(o){}if(this._autoSize&&(this._direction==t.Style.VERTICAL?s.width=(this._itemContainer.width-(this._line-1)*this._gap)/this._line:s.height=(this._itemContainer.height-(this._line-1)*this._gap)/this._line),this._direction==t.Style.VERTICAL){if(n=(s.width+this._lineGap)*a,this._itemContainer.numChildren>0&&0==a&&(i?(r=this._itemContainer.getChildAt(0).y,r-=this._gap+s.height):(r=this._itemContainer.getChildAt(this._itemContainer.numChildren-1).y,r+=(this._gap+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).height)*(a+1))),r>this._itemContainer.height||r<-s.height)return this.removeRender(s),a;s.y=r,s.x=n}else{if(r=(s.height+this._lineGap)*a,this._itemContainer.numChildren>0&&0==a&&(i?(n=this._itemContainer.getChildAt(0).x,n-=this._gap+s.width):(n=this._itemContainer.getChildAt(this._itemContainer.numChildren-1).x,n+=(this._gap+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).width)*(a+1))),n>this._itemContainer.width||n<-s.width)return this.removeRender(s),a;s.x=n,s.y=r}i?this._itemContainer.addChildAt(s,0):this._itemContainer.addChild(s),this._dataIndexToRender[""+e]=s,a++,e++}return e>=this._itemDatas.length&&a>0&&this._data_end_func_call&&this._data_end_func_call.call(this._data_end_func_this),a},Object.defineProperty(i.prototype,"data",{set:function(e){this._data=e,this._itemDatas=null,this._dataIndexToRender={},this.setItemContainerSize();for(var i=null;this._itemContainer.numChildren>0;)i=this._itemContainer.removeChildAt(0),i.data&&(i.data=null),t.ObjectPool.recycleClass(i,"list_"+this.name);if(this._data instanceof Array){if(this._itemDatas=this._data,0==this._itemDatas.length)return;this._dataIndexBegin=0;var a=this.addUIItem(this._dataIndexBegin,!1);for(this._dataIndexEnd=a;0!=a&&this._dataIndexEnd<this._itemDatas.length;)a=this.addUIItem(this._dataIndexEnd,!1),this._dataIndexEnd+=a;this._dataIndexEnd--}},enumerable:!0,configurable:!0}),i.prototype.append=function(t){t&&(this._itemDatas=this._itemDatas.concat(t))},i.prototype.draw=function(){e.prototype.draw.call(this),this.setItemContainerSize()},i.prototype.setItemContainerSize=function(){this._itemContainer.x=this._marginLeft,this._itemContainer.y=this._marginTop,this._itemContainer.width=this.width-this._marginLeft-this._marginRight,this._itemContainer.height=this.height-this._marginTop-this._marginBottom,this._itemContainer.scrollRect.width=this._itemContainer.width,this._itemContainer.scrollRect.height=this._itemContainer.height
},i.prototype.setHorizontalLayout=function(){this.layout=t.Style.HORIZONTAL},i.prototype.setVerticalLayout=function(){this.layout=t.Style.VERTICAL},Object.defineProperty(i.prototype,"layout",{get:function(){return this._direction},set:function(t){this._direction=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){var e=null;this._selected=t;for(var i=0;i<this._itemContainer.numChildren;i++){e=this._itemContainer.getChildAt(i),e.selected&&(e.selected=!1);try{e._data==t&&(e.selected=!0)}catch(a){}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selected?this._data.indexOf(this._selected):-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(t){this._itemRenderer!=t&&(this._itemRenderer=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginTop",{get:function(){return this._marginTop},set:function(t){this._marginTop!=t&&(this._marginTop=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginBottom",{get:function(){return this._marginBottom},set:function(t){this._marginBottom!=t&&(this._marginBottom=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginLeft",{get:function(){return this._marginLeft},set:function(t){this._marginLeft=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginRight",{get:function(){return this._marginRight},set:function(t){(this._marginRight=t)&&(this._marginRight=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"line",{get:function(){return this._line},set:function(t){this._line=t,this._line<1&&(this._line=1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineGap",{get:function(){return this._lineGap},set:function(t){this._lineGap=t,this._lineGap<0&&(this._lineGap=0),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fixed",{get:function(){return this._fixed},set:function(t){this._fixed!=t&&(this._fixed=t,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.setDataEndCall=function(t,e){this._data_end_func_call=t,this._data_end_func_this=e},i}(t.Group);t.List=e,__reflect(e.prototype,"easy.List")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(a){void 0===a&&(a=!1);var r=e.call(this,a)||this;return r.METHOD_DEF={},r._dataItems=[],r._itemContainer=null,r._itemRenderer=t.DefaultRenderer,r._itemIndexToRender=null,r._speed=150,r._delay=3e3,r._align=i.ALIGN_BOTTOM,r._gapFactor=1,r._direction=i.SCROLL_LEFT,r._firstGapWidth=0,r._scaleFactor=.1,r._maxTextureWidth=0,r._maxTextureHeight=0,r._totalLength=0,r._middleIndex=0,r._middleItemX=0,r._middleItemY=0,r._firstItemIndex=0,r._gap=2,r._stop=!1,r._delayIndex1=0,r._delayIndex2=0,r._destroyIndex=0,r}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.setSize(300,300),this._itemContainer=new t.Group,this.addChild(this._itemContainer),this._itemContainer.showBg=!1,this._itemContainer.setSize(this.width,this.height),this._itemContainer.horizontalEnabled=!0,this._itemContainer.verticalEnabled=!0,this.addHandleEvent(t.EventType.RESOURCE_DOWNLOADED,"onMyEventResDownloaded")},i.prototype.addHandleEvent=function(e,i){t.MessageControler.addEvent(e),this.METHOD_DEF[e]=i},i.prototype.receiveEvent=function(t){for(var e=null,i=0;i<this._itemContainer.numChildren;i++)e=this._itemContainer.getChildAt(i),e.refresh&&e.refresh()},Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(e){if(e){this._data=e,this._dataItems=null,this._itemIndexToRender={};for(var i=null;this._itemContainer.numChildren>0;)i=this._itemContainer.removeChildAt(0),i.data&&(i.data=null),t.ObjectPool.recycleClass(i,"listad_"+this.name);if(e instanceof Array){if(this._dataItems=e,0==this._dataItems.length)return;this._totalLength=this._dataItems.length,this._totalLength%2==0?this._middleIndex=this._totalLength/2:this._totalLength%2==1&&(this._middleIndex=(this._totalLength-1)/2),this._firstItemIndex=0;for(var a=0;a<this._totalLength;)this.addItem(a),a++;this._dataItems.length<=3}}},enumerable:!0,configurable:!0}),i.prototype.reserveModel=function(){},i.prototype.addItem=function(e){var i=t.ObjectPool.getByClass(this._itemRenderer,"listad_"+this.name);i.setSize(200,200),i.anchorX=.5,i.anchorY=.5,this._itemContainer.addChild(i),this._itemContainer.removeChild(i),i&&i.validateNow&&i.validateNow(),this._firstGapWidth||(this._firstGapWidth=i.width/2),this._middleItemX=this._itemContainer.width/2,this._middleItemY=this._itemContainer.height/2,Math.abs(e-this._middleIndex)<=1&&(e-this._middleIndex==-1?(this._itemContainer.addChild(i),i.x=(e-this._middleIndex)*this._firstGapWidth+this._middleItemX):e==this._middleIndex?(this._itemContainer.addChild(i),i.x=this._middleItemX):e-this._middleIndex==1&&(this._itemContainer.addChildAt(i,1),i.x=this._middleItemX+(e-this._middleIndex)*this._firstGapWidth,i.bgColor=0),i.scaleY=1-Math.abs(e-this._middleIndex)*this._scaleFactor,i.alpha=1-Math.abs(e-this._middleIndex)*this._scaleFactor,i.y=Math.abs(e-this._middleIndex)*this._scaleFactor*i.height*i.anchorY*this._gapFactor+this._middleItemY),i.data=this._dataItems[e],this._itemIndexToRender[""+e]=i},i.prototype.start=function(){this._delayIndex2&&egret.clearTimeout(this._delayIndex2);var t=0,e=0,i=0,a=0,r=0,n=0,s=0,o=0,h=0,l=[];s=this._middleIndex-1,0>s&&(s=this._totalLength-1),o=this._middleIndex,h=this._middleIndex+1,h==this._totalLength&&(h=0),l=[s,o,h];for(var c=0;c<l.length;c++)t=this._itemIndexToRender[""+l[c]].x,e=this._itemIndexToRender[""+l[c]].y,i=this._itemIndexToRender[""+l[c]].scaleY,a=this._itemIndexToRender[""+l[c]].alpha,r=this._itemIndexToRender[""+l[c]].height,n=this._itemIndexToRender[""+l[c]].anchorY,"left"==this._direction?(this._destroyIndex=s,0==c?egret.Tween.get(this._itemIndexToRender[""+l[c]]).to({x:t+this._firstGapWidth,y:e+this._scaleFactor*r*n*this._gapFactor,scaleY:i-this._scaleFactor,alpha:0},this._speed):1==c?egret.Tween.get(this._itemIndexToRender[""+l[c]]).to({x:t-this._firstGapWidth,y:e+this._scaleFactor*r*n*this._gapFactor,scaleY:i-this._scaleFactor,alpha:a-this._scaleFactor},this._speed):2==c&&egret.Tween.get(this._itemIndexToRender[""+l[c]]).to({x:t-this._firstGapWidth,y:e-this._scaleFactor*r*n*this._gapFactor,scaleY:i+this._scaleFactor,alpha:a+this._scaleFactor},this._speed)):"right"==this._direction&&(this._destroyIndex=h,0==c?egret.Tween.get(this._itemIndexToRender[""+l[c]]).to({x:t+this._firstGapWidth,y:e-this._scaleFactor*r*n*this._gapFactor,scaleY:i+this._scaleFactor,alpha:a+this._scaleFactor},this._speed):1==c?egret.Tween.get(this._itemIndexToRender[""+l[c]]).to({x:t+this._firstGapWidth,y:e+this._scaleFactor*r*n*this._gapFactor,scaleY:i-this._scaleFactor,alpha:a-this._scaleFactor},this._speed):2==c&&egret.Tween.get(this._itemIndexToRender[""+l[c]]).to({x:t-this._firstGapWidth,y:e-this._scaleFactor*r*n*this._gapFactor,scaleY:i+this._scaleFactor,alpha:0},this._speed));"left"==this._direction?(this._middleIndex++,this._middleIndex==this._totalLength&&(this._middleIndex=0)):"right"==this._direction&&(this._middleIndex--,this._middleIndex<0&&(this._middleIndex=this._totalLength-1)),this.addNewItem(this._direction),this._delayIndex1=egret.setTimeout(this.refreshTree,this,this._speed)},i.prototype.stop=function(){for(var t in this._itemIndexToRender)egret.Tween.removeTweens(this._itemIndexToRender[t]);this._delayIndex1&&egret.clearTimeout(this._delayIndex1),this._delayIndex2&&egret.clearTimeout(this._delayIndex2)},i.prototype.addNewItem=function(t,e){void 0===e&&(e=this._middleIndex),"left"==t?(e++,e==this._totalLength&&(e=0)):"right"==t&&(e--,0>e&&(e=this._totalLength-1));var i=this._itemIndexToRender[""+e];this._itemContainer.addChildAt(i,1),i.alpha=0,i.anchorX=.5,i.anchorY=.5,i.scaleY=1,i.x=this._middleItemX,i.y=this._middleItemY,i.bgColor=0,i.data=i._data,"left"==t?egret.Tween.get(i).to({x:i.x+this._firstGapWidth,y:i.y+this._scaleFactor*i.height*i.anchorY*this._gapFactor,scaleY:1-this._scaleFactor,alpha:1-this._scaleFactor},this._speed):"right"==t&&egret.Tween.get(i).to({x:i.x-this._firstGapWidth,y:i.y+this._scaleFactor*i.height*i.anchorY*this._gapFactor,scaleY:1-this._scaleFactor,alpha:1-this._scaleFactor},this._speed)},i.prototype.refreshTree=function(){for(var t in this._itemIndexToRender)egret.Tween.removeTweens(this._itemIndexToRender[t]);this._delayIndex1&&egret.clearTimeout(this._delayIndex1),this._itemIndexToRender[""+this._destroyIndex].removeFromParent(),this._itemContainer.addChildAt(this._itemIndexToRender[""+this._middleIndex],this._totalLength),this._delayIndex2=egret.setTimeout(this.start,this,this._delay)},Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(t){t&&(this._direction=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(t){if("bottom"==t)this._align=t,this._gapFactor=1;else{if("center"!=t)return;this._align=t,this._gapFactor=.2}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(t){!t||0>=t||(this._speed=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){!t||0>=t||(this._delay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(t){this._itemRenderer!=t&&(this._itemRenderer=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleFactor",{get:function(){return this._scaleFactor},set:function(t){this._scaleFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"firstGapWidth",{get:function(){return this._firstGapWidth},set:function(t){t&&(this._firstGapWidth=t)},enumerable:!0,configurable:!0}),i}(t.Group);e.ALIGN_BOTTOM="bottom",e.ALIGN_CENTER="center",e.SCROLL_UP="up",e.SCROLL_DOWN="down",e.SCROLL_LEFT="left",e.SCROLL_RIGHT="right",t.ListAd=e,__reflect(e.prototype,"easy.ListAd")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(t){void 0===t&&(t=!1);var i=e.call(this,t)||this;return i._imgDisplay=null,i._fps=0,i._autoFps=!0,i._textures=null,i._numFrameIndex=0,i._numFrammeCount=0,i._isPlaying=!1,i._loop=!1,i._soundName=null,i._animateName=null,i._animateDataDownload=!1,i._animateData=null,i._callFuncDict=null,i._autoDestory=!1,i._autoSize=!0,i._autoplay=!1,i}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this._imgDisplay=new egret.Bitmap,this.addChild(this._imgDisplay),this.showBg=!1},i.prototype.play=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),(t.StringUtil.isUsage(this._animateName)||this._textures)&&(e>0&&(this._fps=e,this._autoFps=!1),this._numFrameIndex=i,this._isPlaying||(t.StringUtil.isUsage(this._animateName)||this._textures.length>1?(this._numFrammeCount=this._fps,this.onChangeTexture(),t.HeartBeat.addListener(this,this.onChangeTexture,1)):this._imgDisplay.texture=this._textures[0],this._isPlaying=!0,this.onPlaySound()))},i.prototype.gotoAndPlay=function(t){this.play(0,t)},i.prototype.gotoAndStop=function(e){this._numFrameIndex=e,this._numFrammeCount=this._fps,this.onChangeTexture(),this._isPlaying=!1,t.HeartBeat.removeListener(this,this.onChangeTexture)},i.prototype.pause=function(){this._isPlaying=!1,t.HeartBeat.removeListener(this,this.onChangeTexture),t.Sound.stop(this._soundName)},i.prototype.stop=function(){this._isPlaying=!1,this._numFrameIndex=0,this._numFrammeCount=0,t.HeartBeat.removeListener(this,this.onChangeTexture),t.Sound.stop(this._soundName),this._callFuncDict&&this._callFuncDict[-1]&&this._callFuncDict[-1].func.call(this._callFuncDict[-1].thisFunc,this,-1),this._autoDestory&&this.destory()},i.prototype.replay=function(){(t.StringUtil.isUsage(this._animateName)||this._textures)&&(this._isPlaying=!0,t.StringUtil.isUsage(this._animateName)||this._textures.length>1?t.HeartBeat.addListener(this,this.onChangeTexture,1):this._imgDisplay.texture=this._textures[0],t.Sound.play(this._soundName,0,this._loop?0:1))},i.prototype.destory=function(){this._isPlaying=!1,this.resetData(),this.verticalEnabled=!1,this.horizontalEnabled=!1,t.HeartBeat.removeListener(this,this.onChangeTexture),this.removeFromParent()},i.prototype.resetData=function(){t.Sound.stop(this._soundName),this._autoFps=!0,this._numFrameIndex=0,this._numFrammeCount=0,this._textures=null,this._animateData=null,this._animateName=null,this._callFuncDict=null,this._animateDataDownload=!1,this.anchorX=0,this.anchorY=0,this.anchorEnabled=!1,this.anchorOffsetX=0,this.anchorOffsetY=0,this._imgDisplay&&(this._imgDisplay.texture=null)},Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(t){this._textures=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animateName",{set:function(t){this.resetData(),this._animateName=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animateData",{get:function(){return this._animateData},set:function(t){this._animateData=t,this._animateData&&(this._animateName=t.id,this.setAnimateData())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sound",{get:function(){return this._soundName},set:function(t){this._soundName=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t,0!=this._fps&&(this._autoFps=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t},enumerable:!0,configurable:!0}),i.prototype.setCallFunc=function(t,e,i){void 0===i&&(i=-1),null==this._callFuncDict&&(this._callFuncDict={}),this._callFuncDict[""+i]={func:e,thisFunc:t}},i.prototype.removeCallFunc=function(t){void 0===t&&(t=-1),this._callFuncDict&&this._callFuncDict[""+t]&&delete this._callFuncDict[""+t]},i.prototype.onChangeTexture=function(){if(!this.parent)return void this.stop();if(this._imgDisplay&&(this._numFrammeCount++,this._numFrammeCount>=this._fps)){if(this._numFrammeCount=0,!this._animateDataDownload&&null==this._animateData&&t.StringUtil.isUsage(this._animateName)&&(this.animateData=t.AnimateManager.getAnimateData(this._animateName),this._animateDataDownload=!0,null==this.animateData))return void t.EventManager.addEventListener(t.EventType.RESOURCE_DOWNLOADED,this.onEventAnimateDataDownloaded,this);if(this._textures){if(0==this._fps&&(this._fps=1),this._numFrameIndex>=this._textures.length){if(!this._loop)return void this.stop();this._numFrameIndex=0}}else if(this._animateData&&this._numFrameIndex>=this._animateData.textures.length){if(!this._loop)return void this.stop();this._numFrameIndex=0}if(this._callFuncDict&&this._callFuncDict[""+this._numFrameIndex]&&this._callFuncDict[""+this._numFrameIndex].func.call(this._callFuncDict[""+this._numFrameIndex].thisFunc,this,this._numFrameIndex),this._textures)this._imgDisplay.texture=this._textures[this._numFrameIndex],this._imgDisplay.x=this.cx-this._imgDisplay.width/2,this._imgDisplay.y=this.cy-this._imgDisplay.height/2,this._numFrameIndex++;else if(this._animateData&&this._animateData.textures&&this._imgDisplay){var e=this._animateData.getTexture(this._numFrameIndex);this._autoFps&&(this._fps=e.frame),this.animateData._merge&&this._animateData.textures.length>1?(this._imgDisplay.x=this.cx+e.x,this._imgDisplay.y=this.cy+e.y):(this._imgDisplay.x=0,this._imgDisplay.y=0),this._imgDisplay.texture=e.texutre,this._numFrameIndex++,1==this._animateData.textures.length&&t.HeartBeat.removeListener(this,this.onChangeTexture)}}},i.prototype.onEventAnimateDataDownloaded=function(e){e.getItem("name")==this._animateName&&(t.EventManager.removeEventListener(t.EventType.RESOURCE_DOWNLOADED,this.onEventAnimateDataDownloaded,this),this.setAnimateData())},i.prototype.setAnimateData=function(){this._animateData=t.AnimateManager.getAnimateData(this._animateName),this.animateData&&this._autoSize&&this.setSize(this.animateData.width,this.animateData.height),0==this._fps&&this.animateData&&this._autoFps&&(this._fps=this.animateData.frame)},i.prototype.onPlaySound=function(){t.GlobalSetting.VOLUME_OPEN&&t.StringUtil.isUsage(this._soundName)&&t.Sound.play(this._soundName,0,this._loop?0:1)},Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){return this._numFrameIndex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"totalFrame",{get:function(){return this._textures?this._textures.length:this._animateData?this._animateData.textures.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoDestory",{get:function(){return this._autoDestory},set:function(t){this._autoDestory=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){this._autoSize=t},enumerable:!0,configurable:!0}),i.prototype.onInvalidatePosition=function(){this._hasInvalidatePosition||(this._hasInvalidatePosition=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.resetPosition,this))},Object.defineProperty(i.prototype,"autoplay",{get:function(){return this._autoplay},set:function(t){this._autoplay!=t&&(this._autoplay=t)},enumerable:!0,configurable:!0}),i}(t.Group);t.MovieClip=e,__reflect(e.prototype,"easy.MovieClip")}(easy||(easy={}));var easy;!function(t){var e=function(e){function a(t){void 0===t&&(t=!1);var i=e.call(this,t)||this;return i._moveFunc=null,i._moveFuncThis=null,i._scrollItemArr=[],i._clip=!1,i._runing=!1,i._autoplay=!1,i}return __extends(a,e),a.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.clip=!0},a.prototype.setScrollData=function(e,r,n,s){void 0===r&&(r=3),void 0===n&&(n=a.SCROLL_DOWN),void 0===s&&(s=0);var o=t.ObjectPool.getByClass(i);this.addChild(o),this._scrollItemArr.push(o),o.width=this.width,o.height=this.height,o.setScrollData(e,r,n,s),this.invalidate()},a.prototype.delScrollData=function(t){void 0===t&&(t=-1);var e=null;if(-1>=t)for(;this._scrollItemArr.length>0;)e=this._scrollItemArr.pop(),e&&e.removeFromParent();else t<this._scrollItemArr.length&&(e=this._scrollItemArr[t],e&&(e.removeFromParent(),this._scrollItemArr.splice(t,1)))},a.prototype.play=function(e){void 0===e&&(e=-1),this._runing=!0,this.setItemState(a.STATE_START,e),t.HeartBeat.addListener(this,this.onHeartBeat)},a.prototype.stop=function(e){void 0===e&&(e=-1),this.setItemState(a.STATE_STOP,e),this._runing||t.HeartBeat.removeListener(this,this.onHeartBeat)},a.prototype.pause=function(e){void 0===e&&(e=-1),this.setItemState(a.STATE_STOP,e),this._runing||t.HeartBeat.removeListener(this,this.onHeartBeat)},a.prototype.restart=function(e){void 0===e&&(e=-1),this.setItemState(a.STATE_START,e),t.HeartBeat.addListener(this,this.onHeartBeat)},a.prototype.setSpeed=function(t,e){if(void 0===e&&(e=-1),-1>=e)for(var i=0;i<this._scrollItemArr.length;i++)this._scrollItemArr[i].speed=t;else e>=0&&e<=this._scrollItemArr.length-1&&(this._scrollItemArr[e].speed=t)},a.prototype.setDirection=function(t,e){if(void 0===e&&(e=-1),-1>=e)for(var i=0;i<this._scrollItemArr.length;i++)this._scrollItemArr[i].direction=t;else e>=0&&e<=this._scrollItemArr.length-1&&(this._scrollItemArr[e].direction=t)},a.prototype.setItemState=function(t,e){if(void 0===e&&(e=-1),-1>=e)for(var i=0;i<this._scrollItemArr.length;i++)this._scrollItemArr[i]._state=t;else e>=0&&e<=this._scrollItemArr.length-1&&(this._scrollItemArr[e]._state=t);if(t==a.STATE_START)this._runing=!0;else{this._runing=!1;for(var i=0;i<this._scrollItemArr.length;i++)if(this._scrollItemArr[i]._state==a.STATE_START){this._runing=!0;break}}},a.prototype.onHeartBeat=function(){for(var t=0;t<this._scrollItemArr.length;t++)this._scrollItemArr[t].onHeartBeat();this._moveFunc&&this._moveFunc.call(this._moveFuncThis)},a.prototype.draw=function(){if(0!=this.width&&0!=this.height&&(this._clip?null==this.scrollRect?this.scrollRect=new egret.Rectangle(0,0,this.width,this.height):(this.scrollRect.width=this.width,this.scrollRect.height=this.height):this.scrollRect=null,100!=this.width||100!=this.height))for(var t=0;t<this._scrollItemArr.length;t++)(100==this._scrollItemArr[t].width||0==this._scrollItemArr[t].width)&&(this._scrollItemArr[t].width=this.width),(100==this._scrollItemArr[t].height||0==this._scrollItemArr[t].height)&&(this._scrollItemArr[t].height=this.height),this._scrollItemArr[t]._initData=!1},Object.defineProperty(a.prototype,"clip",{get:function(){return this._clip},set:function(t){t!=this._clip&&(this._clip=t,this.invalidate())},enumerable:!0,configurable:!0}),a.prototype.setMoveCallbackFunc=function(t,e){this._moveFunc=t,this._moveFuncThis=e},Object.defineProperty(a.prototype,"autoplay",{get:function(){return this._autoplay},set:function(t){this._autoplay!=t&&(this._autoplay=t)},enumerable:!0,configurable:!0}),a}(t.BaseGroup);e.SCROLL_UP="up",e.SCROLL_DOWN="down",e.SCROLL_LEFT="left",e.SCROLL_RIGHT="right",e.STATE_START="start",e.STATE_STOP="stop",t.ScrollGroup=e,__reflect(e.prototype,"easy.ScrollGroup");var i=function(i){function a(a){void 0===a&&(a=!1);var r=i.call(this,a)||this;return r.speed=0,r.gap=0,r.direction=e.SCROLL_DOWN,r._textures=null,r._scrollTextureIndex=0,r._scrollBitmapArr=null,r._state=t.ScrollGroup.STATE_STOP,r._initData=!1,r._textureWidth=0,r._textureHeight=0,r._totalBitmapLength=0,r._limitDistance=0,r._clip=!1,r._textureIndex=0,r}return __extends(a,i),a.prototype.createChildren=function(){i.prototype.createChildren.call(this)},a.prototype.setScrollData=function(i,a,r,n){void 0===a&&(a=3),void 0===n&&(n=0),this._initData=!1,this.gap=n,this.direction=r,this._textureIndex=0,this._textures=i,this._textureWidth=this._textures[0].textureWidth,this._textureHeight=this._textures[0].textureHeight,this.speed=a;this._textures.length;if(this._scrollBitmapArr&&this._scrollBitmapArr.length>0)for(var s=null;this._scrollBitmapArr.length>0;)s=this._scrollBitmapArr.pop(),s.parent&&s.parent.removeChild(s),t.ObjectPool.recycleClass(s,"scroll_group");if(this._scrollBitmapArr=[],this._totalBitmapLength=0,this._limitDistance=0,this.direction==e.SCROLL_DOWN||this.direction==e.SCROLL_UP)for(;this._limitDistance<this.height;)this._textureIndex>=this._textures.length&&(this._textureIndex=0),this._limitDistance+=this._textures[this._textureIndex].textureHeight+this.gap,this._textureIndex++,this._totalBitmapLength++;else if(this.direction==e.SCROLL_LEFT||this.direction==e.SCROLL_RIGHT)for(;this._limitDistance<this.width;)this._textureIndex>=this._textures.length&&(this._textureIndex=0),this._limitDistance+=this._textures[this._textureIndex].textureWidth+this.gap,this._textureIndex++,this._totalBitmapLength++;for(var o=0;o<this._totalBitmapLength;o++){var h=t.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this._scrollBitmapArr.push(h)}for(var l=0;l<this._scrollBitmapArr.length;l++)this.addChild(this._scrollBitmapArr[l]),this.getTexture(this._scrollBitmapArr[l]),this._scrollBitmapArr[l]&&(this._scrollBitmapArr[l].width=this._scrollBitmapArr[l].texture.textureWidth,this._scrollBitmapArr[l].height=this._scrollBitmapArr[l].texture.textureHeight);this.initScrollBitmapData()},a.prototype.initScrollBitmapData=function(){if(!this._initData)if(this._initData=!0,this.direction==e.SCROLL_UP)for(var t=0;t<this._scrollBitmapArr.length;t++)this._scrollBitmapArr[t].x=0,0==t?this._scrollBitmapArr[0].y=0:t>0&&(this._scrollBitmapArr[t].y=this._scrollBitmapArr[t-1].y+this._scrollBitmapArr[t-1].texture.textureHeight+this.gap);else if(this.direction==e.SCROLL_DOWN)for(var t=0;t<this._scrollBitmapArr.length;t++)this._scrollBitmapArr[t].x=0,0==t?this._scrollBitmapArr[0].y=this.height-this._scrollBitmapArr[0].texture.textureHeight:t>0&&(this._scrollBitmapArr[t].y=this._scrollBitmapArr[t-1].y-this._scrollBitmapArr[t].texture.textureHeight-this.gap);else if(this.direction==e.SCROLL_LEFT)for(var t=0;t<this._scrollBitmapArr.length;t++)this._scrollBitmapArr[t].y=0,0==t?this._scrollBitmapArr[0].x=0:t>0&&(this._scrollBitmapArr[t].x=this._scrollBitmapArr[t-1].x+this._scrollBitmapArr[t-1].texture.textureWidth+this.gap);else if(this.direction==e.SCROLL_RIGHT)for(var t=0;t<this._scrollBitmapArr.length;t++)this._scrollBitmapArr[t].y=0,0==t?this._scrollBitmapArr[0].x=this.width-this._scrollBitmapArr[0].texture.textureWidth:t>0&&(this._scrollBitmapArr[t].x=this._scrollBitmapArr[t-1].x-this._scrollBitmapArr[t].texture.textureWidth-this.gap)},a.prototype.getTexture=function(t){var e=this._textures[this._scrollTextureIndex];return this._scrollTextureIndex++,this._scrollTextureIndex>=this._textures.length&&(this._scrollTextureIndex=0),t.scaleX=1,t.scaleY=1,t.alpha=1,t.rotation=0,t.texture=e,t.width=e.textureWidth,t.height=e.textureHeight,e},a.prototype.onHeartBeat=function(){if(this._state!=t.ScrollGroup.STATE_STOP)if(this._initData||this.initScrollBitmapData(),this.direction==e.SCROLL_UP){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].y-=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].y<=this.height-this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureHeight-this.speed){var a=t.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(a),this.getTexture(a),a.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x,a.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y+this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureHeight+this.gap,this._scrollBitmapArr.push(a)}if(this._scrollBitmapArr[0].y+this._scrollBitmapArr[0].texture.textureHeight<=0){var a=this._scrollBitmapArr.splice(0,1)[0];a.parent&&a.parent.removeChild(a),t.ObjectPool.recycleClass(a,"scroll_group")}}else if(this.direction==e.SCROLL_DOWN){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].y+=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].y>=-this.speed){var a=t.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(a),this.getTexture(a),a.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x,a.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y-a.texture.textureHeight-this.gap,this._scrollBitmapArr.push(a)}if(this._scrollBitmapArr[0].y>=this.height){var a=this._scrollBitmapArr.splice(0,1)[0];a.parent&&a.parent.removeChild(a),t.ObjectPool.recycleClass(a,"scroll_group")}}else if(this.direction==e.SCROLL_LEFT){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].x-=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].x<=this.width-this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureWidth-this.speed){var a=t.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(a),this.getTexture(a),a.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y,a.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x+this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureWidth+this.gap,this._scrollBitmapArr.push(a)}if(this._scrollBitmapArr[0].x+this._scrollBitmapArr[0].texture.textureWidth<=0){var a=this._scrollBitmapArr.splice(0,1)[0];a.parent&&a.parent.removeChild(a),t.ObjectPool.recycleClass(a,"scroll_group")}}else if(this.direction==e.SCROLL_RIGHT){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].x+=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].x>=-this.speed){var a=t.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(a),this.getTexture(a),a.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y,a.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x-a.texture.textureWidth-this.gap,this._scrollBitmapArr.push(a)}if(this._scrollBitmapArr[0].x>=this.width){var a=this._scrollBitmapArr.splice(0,1)[0];a.parent&&a.parent.removeChild(a),t.ObjectPool.recycleClass(a,"scroll_group")}}},a.prototype.draw=function(){0!=this.width&&0!=this.height&&(this._clip?null==this.scrollRect?this.scrollRect=new egret.Rectangle(0,0,this.width,this.height):(this.scrollRect.width=this.width,this.scrollRect.height=this.height):this.scrollRect=null)},Object.defineProperty(a.prototype,"clip",{get:function(){return this._clip},set:function(t){t!=this._clip&&(this._clip=t,this.invalidate())},enumerable:!0,configurable:!0}),a}(t.BaseGroup);__reflect(i.prototype,"ScrollItemGroup")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.setStyle=function(e){switch(e){case t.DARK:t.BACKGROUND=4473924,t.BUTTON_FACE=6710886,t.BUTTON_DOWN=2236962,t.INPUT_TEXT=12303291,t.LABEL_TEXT=13421772,t.PANEL=6710886,t.PROGRESS_BAR=6710886,t.TEXT_BACKGROUND=5592405,t.LIST_DEFAULT=4473924,t.LIST_ALTERNATE=3750201,t.LIST_SELECTED=6710886,t.LIST_ROLLOVER=7829367;break;case t.LIGHT:default:t.BACKGROUND=13421772,t.BUTTON_FACE=16777215,t.BUTTON_DOWN=15658734,t.INPUT_TEXT=3355443,t.LABEL_TEXT=6710886,t.PANEL=15987699,t.PROGRESS_BAR=16777215,t.TEXT_BACKGROUND=16777215,t.LIST_DEFAULT=16777215,t.LIST_ALTERNATE=15987699,t.LIST_SELECTED=13421772,t.LIST_ROLLOVER=14540253}},t}();e.TEXT_BACKGROUND=16777215,e.BACKGROUND=13421772,e.BUTTON_FACE=16777215,e.BUTTON_DOWN=15658734,e.INPUT_TEXT=3355443,e.LABEL_TEXT=0,e.BUTTON_TEXT=6710886,e.DROPSHADOW=0,e.PANEL=15987699,e.PROGRESS_BAR=16777215,e.LIST_DEFAULT=16777215,e.LIST_ALTERNATE=15987699,e.LIST_SELECTED=13421772,e.LIST_ROLLOVER=14540253,e.BUTTON_DEFAULT_WIDTH=100,e.BUTTON_DEFAULT_HEIGHT=32,e.VIDEO_DEFAULT_WIDTH=320,e.VIDEO_DEFAULT_HEIGHT=250,e.embedFonts=!1,e.fontName=null,e.fontSize=16,e.allowDefaultLabelFilter=!0,e.DARK="dark",e.LIGHT="light",e.allowColorFilterButtonEnabled=!1,e.allowButtonDefaultCoolDown=!1,e.defaultCoolDownFrames=2,e.TEXTINPUT_HEIGHT=25,e.TEXTINPUT_WIDTH=100,e.TEXTINPUT_COLOR=16777215,e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e.SLIDER_WIDTH=300,e.SLIDER_HEIGHT=17,e.SCROLLBAR_WIDTH=300,e.SCROLLBAR_HEIGHT=17,t.Style=e,__reflect(e.prototype,"easy.Style")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(a){void 0===a&&(a=!1);var r=e.call(this,a)||this;return r._text="",r._initFlow=null,r._htmlTextParser=null,r._textField=null,r._fontSize=t.Style.fontSize,r._color=t.Style.LABEL_TEXT,r._fontName=t.Style.fontName,r._hAlign=egret.HorizontalAlign.LEFT,r._vAlign=egret.VerticalAlign.MIDDLE,r._bold=!1,r._italic=!1,r._lineSpacing=0,r._stroke=0,r._strokeColor=13136,r._html=!1,r._editable=!1,r._maxChars=0,r._restrict=null,r._inputType=null,r._followForce=!1,r._follow=i.FOLLOW_NONE,r.isAddScollListener=!1,r._link=null,r._isTouchBegin=!1,r._touchPoint=null,r}return __extends(i,e),i.prototype.initData=function(){e.prototype.initData.call(this)},i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.setSize(t.Style.SLIDER_WIDTH,t.Style.SLIDER_WIDTH),this._textField=new egret.TextField,this._textField.multiline=!0,this._textField.addEventListener(egret.Event.CHANGE,this.onChangeHdl,this),this.addChild(this._textField),this.invalidate(),this.touchChildren=!1},i.prototype.onSetScrollText=function(t){t&&!this.isAddScollListener?(this.isAddScollListener=!0,this.touchNonePixel=!0,this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchCancel,this)):!t&&this.isAddScollListener&&(this.isAddScollListener=!1,this.touchNonePixel=!1,this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchCancel,this))
},i.prototype.onTouchBegin=function(t){console.log("onTouchBegin numline="+this._textField.numLines+", scollv="+this._textField.scrollV),this._isTouchBegin=!0,null==this._touchPoint&&(this._touchPoint=new egret.Point),this._touchPoint.x=t.stageX,this._touchPoint.y=t.stageY},i.prototype.onTouchEnd=function(t){this._isTouchBegin=!1},i.prototype.onTouchMove=function(t){this._isTouchBegin&&(Math.abs(t.stageY-this._touchPoint.y)>=3&&(t.stageY-this._touchPoint.y>0?this._textField.scrollV>1&&(this._textField.scrollV=this._textField.scrollV-1):this._textField.scrollV<this._textField.numLines-1&&(this._textField.scrollV=this._textField.scrollV+1)),this._touchPoint.x=t.stageX,this._touchPoint.y=t.stageY)},i.prototype.onTouchCancel=function(t){this._isTouchBegin=!1},i.prototype.onChangeHdl=function(t){this._text=this._textField.text},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this._html?null==this._text?(this._text="",this._initFlow=[]):(null==this._htmlTextParser&&(this._htmlTextParser=new egret.HtmlTextParser),this._initFlow=this._htmlTextParser.parser(this._text)):null==this._text&&(this._text=""),this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.append=function(t){var e=this._textField.numLines,a=this._textField.scrollV;if(this._html){null==this._htmlTextParser&&(this._htmlTextParser=new egret.HtmlTextParser);var r=this._htmlTextParser.parser(t);if(this._follow==i.FOLLOW_TOP){r.reverse();for(var n=0;n<r.length;n++)this._textField.textFlow.unshift(r[n]);this._textField.textFlow=this._textField.textFlow,this.draw()}else{for(var n=0;n<r.length;n++)this._textField.appendElement(r[n]);this._textField.textHeight>this.height?this.onSetScrollText(!0):this.onSetScrollText(!1)}}else this._follow==i.FOLLOW_TOP?(this._text=t+this._text,this.draw()):(this._textField.appendText(t),this._textField.textHeight>this.height?this.onSetScrollText(!0):this.onSetScrollText(!1));this._follow!=i.FOLLOW_NONE&&(this._follow==i.FOLLOW_TOP?(1==e||this._followForce)&&this.scrollTo(1):(e==a||this._followForce)&&this.scrollTo(this._textField.numLines))},i.prototype.scrollTo=function(t){this._textField&&(this._textField.scrollV=t)},i.prototype.getTextField=function(){return this._textField},i.prototype.draw=function(){e.prototype.draw.call(this),null!=this._textField&&(null!=this._fontName&&(this._textField.fontFamily=this.fontName),this._color>=0&&(this._textField.textColor=this._color),this._fontSize>0&&(this._textField.size=this._fontSize),this._textField.bold=this._bold,this._textField.italic=this._italic,this._html?(this._initFlow&&(this._textField.textFlow=this._initFlow),this._initFlow=null):this._textField.text=this._text,this._editable?this._textField.type=egret.TextFieldType.INPUT:this._textField.type=egret.TextFieldType.DYNAMIC,this._textField.maxChars=this._maxChars,t.StringUtil.isUsage(this._restrict)&&(this._textField.restrict=this._restrict),t.StringUtil.isUsage(this._inputType)&&(this._textField.inputType=this._inputType),this._textField.lineSpacing=this._lineSpacing,this._textField.stroke=this._stroke,this._textField.strokeColor=this._strokeColor,this._textField.width=this.width,this._textField.height=this.height,this._vAlign==egret.VerticalAlign.MIDDLE?this._textField.y=(this.height-this._textField.height)/2:this._vAlign==egret.VerticalAlign.BOTTOM?this._textField.y=this.height-this._textField.height:this._textField.y=0,this._textField.textAlign=this._hAlign,this._textField.verticalAlign=this._vAlign,this._textField.textHeight>this.height?this.onSetScrollText(!0):this.onSetScrollText(!1))},Object.defineProperty(i.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(t){this._fontName!=t&&(this._fontName=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!=t&&(this._fontSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(t){this._color!=t&&(this._color=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this._hAlign},set:function(t){this._hAlign!=t&&(this._hAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this._vAlign},set:function(t){this._vAlign!=t&&(this._vAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"followForce",{get:function(){return this._followForce},set:function(t){this._followForce=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"follow",{get:function(){return this._follow},set:function(t){this._follow=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this._html},set:function(t){this._html!=t&&(this._html=t,this._html?this.touchChildren=!0:this.touchChildren=!1,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editable",{get:function(){return this._editable},set:function(t){this._editable!=t&&(this._editable=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxChars",{get:function(){return this._maxChars},set:function(t){this._maxChars!=t&&(this._maxChars=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"restrict",{get:function(){return this._restrict},set:function(t){this._restrict!=t&&(this._restrict=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._inputType},set:function(t){this._inputType!=t&&(this._inputType=t,this.invalidate())},enumerable:!0,configurable:!0}),i}(t.Group);e.FOLLOW_NONE="none",e.FOLLOW_TOP="top",e.FOLLOW_BOTTOM="bottom",t.TextArea=e,__reflect(e.prototype,"easy.TextArea")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(i){void 0===i&&(i=!1);var a=e.call(this,i)||this;return a._textField=null,a._text="",a._password=!1,a._fontName=t.Style.fontName,a._fontSize=t.Style.fontSize,a._fontColor=t.Style.TEXTINPUT_COLOR,a._hAlign=egret.HorizontalAlign.LEFT,a._vAlign=egret.VerticalAlign.MIDDLE,a._bold=!1,a._italic=!1,a._lineSpacing=0,a._multiline=!1,a._stroke=0,a._strokeColor=0,a._wordWrap=!0,a._maxChars=0,a._restrict=null,a._inputType=null,a}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.setSize(t.Style.TEXTINPUT_WIDTH,t.Style.TEXTINPUT_HEIGHT),this.bgColor=t.Style.INPUT_TEXT,this.clip=!1,this.touchEnabled=!0,this._textField=new egret.TextField,this._textField.height=this.height,this._textField.width=this.width,this._textField.displayAsPassword=!1,this._textField.type=egret.TextFieldType.INPUT,this._textField.addEventListener(egret.Event.CHANGE,this.onChangeHdl,this),this._textField.touchEnabled=!0,this.addChild(this._textField)},i.prototype.onChangeHdl=function(t){this._text=this._textField.text,this.invalidate()},i.prototype.getTextField=function(){return this._textField},i.prototype.draw=function(){e.prototype.draw.call(this),this._textField&&(null!=this._fontName&&(this._textField.fontFamily=this._fontName),this._fontColor>=0&&(this._textField.textColor=this._fontColor),this._fontSize>0&&(this._textField.size=this._fontSize),this._textField.textAlign=this._hAlign,this._textField.verticalAlign=this._vAlign,this._textField.bold=this._bold,this._textField.italic=this._italic,this._textField.multiline=this._multiline,this._textField.lineSpacing=this._lineSpacing,this._textField.stroke=this._stroke,this._textField.strokeColor=this._strokeColor,this._textField.width=this.width,this._textField.height=this.height,this._textField.displayAsPassword=this._password,this._textField.text=this._text,this._textField.wordWrap=this._wordWrap,this._textField.maxChars=this._maxChars,t.StringUtil.isUsage(this._restrict)&&(this._textField.restrict=this._restrict),t.StringUtil.isUsage(this._inputType)&&(this._textField.inputType=this._inputType))},Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(t){this._fontName!=t&&(this._fontName=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"password",{get:function(){return this._password},set:function(t){this._password!=t&&(this._password=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!=t&&(this._fontSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontColor",{get:function(){return this._fontColor},set:function(t){this._fontColor!=t&&(this._fontColor=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"multiline",{get:function(){return this._multiline},set:function(t){this._multiline!=t&&(this._multiline=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!=t&&(this._wordWrap=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this._hAlign},set:function(t){this._hAlign!=t&&(this._hAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this._vAlign},set:function(t){this._vAlign!=t&&(this._vAlign=t,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.setFocus=function(){this._textField&&this._textField.setFocus()},Object.defineProperty(i.prototype,"maxChars",{get:function(){return this._maxChars},set:function(t){this._maxChars!=t&&(this._maxChars=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"restrict",{get:function(){return this._restrict},set:function(t){this._restrict!=t&&(this._restrict=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._inputType},set:function(t){this._inputType!=t&&(this._inputType=t,this.invalidate())},enumerable:!0,configurable:!0}),i}(t.Group);t.TextInput=e,__reflect(e.prototype,"easy.TextInput")}(easy||(easy={}));var easy;!function(t){var e=function(e){function i(t){void 0===t&&(t=!1);var a=e.call(this,t)||this;return a._video=null,a._source=null,a._poster=null,a._imgPoster=null,a._valume=-1,a._fullscreen=!1,a._state=i.STATE_STOP,a._autoplay=!1,a._showBtnPlay=!0,a._btnPlayTexture=null,a._btnPlayTween=null,a._btnPlay=null,a._loop=!1,a._ioerror=0,a}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.bgColor=0,this.border=!1,this.setSize(t.Style.VIDEO_DEFAULT_WIDTH,t.Style.VIDEO_DEFAULT_HEIGHT),this._video=new egret.Video,this.addChild(this._video),this._video.addEventListener(egret.Event.COMPLETE,this.onEventComplete,this),this._video.addEventListener(egret.Event.ENDED,this.onEventEnd,this),this._video.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onEventError,this),null!=this._source&&(this._video.src=this._source),-1!=this._valume&&(this._video.volume=this._valume/100),null!=this._poster&&(this._video.poster=this._poster),this._video.fullscreen=this._fullscreen,this._autoplay&&this.play()},i.prototype.onEventComplete=function(t){this._ioerror=0},i.prototype.onEventEnd=function(t){this._ioerror=0},i.prototype.onEventError=function(t){this._video&&this.state==i.STATE_PAUSE&&this._ioerror<3&&(this._video.parent&&this._video.parent.removeChild(this._video),this._video=new egret.Video,this.addChildAt(this._video,1),this._video.addEventListener(egret.Event.COMPLETE,this.onEventComplete,this),this._video.addEventListener(egret.Event.ENDED,this.onEventEnd,this),this._video.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onEventError,this),this._video.width=this.width,this._video.height=this.height,this._ioerror++,this._video.src=this._source,this._video.play(0,this._loop))},i.prototype.onShowBtnPlay=function(){if(this._showBtnPlay){if(null==this._btnPlayTexture){var e=58,i=60,a=80,r=72,n=73,s=70,o=70,h=new egret.Shape;h.graphics.beginFill(7970006,.3),h.graphics.lineStyle(2,16777215,.4),h.graphics.drawCircle(r,n,e+2),h.graphics.endFill(),h.graphics.beginFill(7970006),h.graphics.lineStyle(1,0,.5),h.graphics.drawCircle(s,o,i),h.graphics.endFill(),h.graphics.beginFill(2637915),h.graphics.lineStyle(1,532286),h.graphics.moveTo(s-Math.sqrt(3)/6*a,o-a/2),h.graphics.lineTo(s+Math.sqrt(3)/3*a,o),h.graphics.lineTo(s-Math.sqrt(3)/6*a,o+a/2),h.graphics.lineTo(s-Math.sqrt(3)/6*a,o-a/2),h.graphics.endFill();var l=new egret.RenderTexture;l.drawToTexture(h),this._btnPlayTexture=l}null==this._btnPlay&&(this._btnPlay=new t.Button,this._btnPlay.statesLength=1,this._btnPlay.texture=this._btnPlayTexture,this._btnPlay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapPlay,this)),this.addChild(this._btnPlay),this._btnPlay.width=this._btnPlayTexture.textureWidth,this._btnPlay.height=this._btnPlayTexture.textureHeight,this._btnPlay.x=this.cx-this._btnPlay.cx,this._btnPlay.y=this.cy-this._btnPlay.cy,null==this._btnPlayTween&&(this._btnPlayTween=egret.Tween.get(this._btnPlay,{loop:!0}).to({alpha:.5},3e3).wait(1e3).to({alpha:1},3e3).wait(1e3)),this._btnPlayTween.setPaused(!1),this._imgPoster&&this._imgPoster.parent&&(this._imgPoster.visible=!0)}},i.prototype.onHiddenBtnPlay=function(){this._btnPlay&&(this._btnPlay.removeFromParent(),this._btnPlayTween.setPaused(!0))},i.prototype.onVideoComplete=function(e){this._video&&(this._video.position=0,t.MyEvent.sendEvent(t.EventType.VIDEO_END),this._video.removeEventListener(egret.Event.ENDED,this.onVideoComplete,this)),this.onShowBtnPlay()},i.prototype.onTouchTapPlay=function(){this.play()},i.prototype.playOrStopVideo=function(t){this._video&&(this._state==i.STATE_PLAYING?this.pause():this.play())},Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){this._state!=t&&(this._state=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){this._source!=t&&(this._source=t,this._video&&(this._video.src=this._source))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"poster",{get:function(){return this._poster},set:function(t){this._poster!=t&&(this._poster=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valume",{get:function(){return this._valume},set:function(t){this._valume!=t&&(this._valume=t,this._video&&(this._video.volume=this._valume/100))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(t){this._fullscreen!=t&&(this._fullscreen=t,this._video&&(this._video.fullscreen=this._fullscreen))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoplay",{get:function(){return this._autoplay},set:function(t){this._autoplay!=t&&(this._autoplay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop!=t&&(this._loop=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showBtnPlay",{get:function(){return this._showBtnPlay},set:function(t){this._showBtnPlay!=t&&(this._showBtnPlay=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"btnPlayTexture",{get:function(){return this._btnPlayTexture},set:function(t){this._btnPlayTexture!=t&&(this._btnPlayTexture=t,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.play=function(t){void 0===t&&(t=0),this._video&&this._source&&(this._state=i.STATE_PLAYING,this.onHiddenBtnPlay(),0==t&&(t=this._video.position),this._video.addEventListener(egret.Event.ENDED,this.onVideoComplete,this),this._video.play(t,this._loop),this._imgPoster&&this._imgPoster.parent&&(this._imgPoster.visible=!1))},i.prototype.load=function(t){this._source=t,this._video&&this._video.load(this.source)},i.prototype.close=function(){this._state=i.STATE_STOP,this._video&&(this._video.close(),this.onShowBtnPlay()),this._imgPoster&&this._imgPoster.parent&&(this._imgPoster.visible=!0)},i.prototype.pause=function(){this._state=i.STATE_STOP,this._video&&(this._state=i.STATE_PAUSE,this._video.pause(),this.onShowBtnPlay())},i.prototype.draw=function(){e.prototype.draw.call(this),null!=this._video&&(this._showBtnPlay&&this._state!=i.STATE_PLAYING&&this.onShowBtnPlay(),t.StringUtil.isUsage(this._poster)&&(null==this._imgPoster&&(this._imgPoster=new egret.Bitmap,this.addChildAt(this._imgPoster,this.getChildIndex(this._btnPlay))),t.ResManager.getRes(this._poster)?(this._imgPoster.texture=t.ResManager.getRes(this._poster),this._imgPoster.texture&&(this._imgPoster.x=this.cx-this._imgPoster.width/2,this._imgPoster.y=this.cy-this._imgPoster.height/2)):t.EventManager.addEventListener(t.EventType.RESOURCE_DOWNLOADED,this.onDownloadedPoster,this)),this._video.width=this.width,this._video.height=this.height,this._btnPlay&&this._btnPlay.texture!=this._btnPlayTexture&&(this._btnPlay.texture=this._btnPlayTexture))},i.prototype.onDownloadedPoster=function(e){t.ResManager.getRes(this._poster)&&(t.EventManager.removeEventListener(t.EventType.RESOURCE_DOWNLOADED,this.onDownloadedPoster,this),this._imgPoster.texture=t.ResManager.getRes(this._poster),this._imgPoster.texture&&(this._imgPoster.x=this.cx-this._imgPoster.width/2,this._imgPoster.y=this.cy-this._imgPoster.height/2))},i}(t.Group);e.STATE_PLAYING="playing",e.STATE_PAUSE="pause",e.STATE_STOP="stop",t.Video=e,__reflect(e.prototype,"easy.Video")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.getDateDiff=function(e,i){var a=t.getDateDiffArr(e,i),r="";return a[0]>0&&(r+=a[0]+"天"),a[1]>0&&(r+=a[1]+"小时"),a[2]>0&&(r+=a[2]+"分"),a[3]>0&&(r+=a[3]+"秒"),r},t.getDateDiffArr=function(t,e){var i=Math.abs(e-t),a=Math.floor(i/864e5),r=i%864e5,n=Math.floor(r/36e5),s=r%36e5,o=Math.floor(s/6e4),h=s%6e4,l=Math.round(h/1e3);return[a,n,o,l]},t.formatTime=function(t,e){void 0===e&&(e=":");var i="",a=Math.floor(t/60);i=10>a?"0"+a:""+a,i+=e;var r=Math.floor(t%60);return i+=10>r?"0"+r:""+r},t.dateFormat=function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},t}();t.DateUtil=e,__reflect(e.prototype,"easy.DateUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"log",{get:function(){return this._log},set:function(i){t.GlobalSetting.DEV_MODEL&&(console.log(i),e._log+=i+"\n",e.callbackFunc&&this.callbackFunc.call(null))},enumerable:!0,configurable:!0}),e.refresh=function(){e.callbackFunc&&this.callbackFunc.call(null)},e.clean=function(){t.GlobalSetting.DEV_MODEL&&(this._log="",this.callbackFunc&&this.callbackFunc.call(null))},e}();e._log="",e.callbackFunc=null,t.Debug=e,__reflect(e.prototype,"easy.Debug")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.dump=function(t){var e=t.position,i="",a="";t.position=0;for(var r=0;r<t.length;r++){r%16==0&&(i+=("0000"+r.toString(16)).substr(-4,4)+" "),r%8==0&&(i+=" ");var n=t.readByte();i+=("0"+n.toString(16)).substr(-2,2)+" ",a+=32>n||n>126?".":String.fromCharCode(n),((r+1)%16==0||r==t.length-1)&&(i+=" |"+a+"|\r\n",a="")}return t.position=e,i},t}();t.HexUtil=e,__reflect(e.prototype,"easy.HexUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.testHitBitmap=function(t,e){var i=t.getBounds(),a=e.getBounds();return i.intersects(a)||a.intersects(i)},t.testHitRect=function(t,e){return t.intersects(e)},t.testHit=function(t,e){if(!t.parent||!e.parent)return!1;var i=t.x,a=t.y,r=t.getBounds(),n=new egret.Point;t.parent.localToGlobal(i,a,n),r.x=n.x,r.y=n.y,i=e.x,a=e.y;var s=e.getBounds();return e.parent.localToGlobal(i,a,n),s.x=n.x,s.y=n.y,r.intersects(s)},t}();e._shape=null,t.HitTestUtil=e,__reflect(e.prototype,"easy.HitTestUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.postData=function(i,a,r,n){var s=new egret.URLRequest(i),o=new egret.URLLoader;s.method=egret.URLRequestMethod.POST,t.StringUtil.isUsage(a)&&(s.data=new egret.URLVariables(a)),o.addEventListener(egret.Event.COMPLETE,function(t){var e=t.target;r.call(n,e.data)},e),o.load(s)},e.getData=function(i,a,r,n){var s=new egret.URLRequest(i),o=new egret.URLLoader;s.method=egret.URLRequestMethod.GET,t.StringUtil.isUsage(a)&&(s.data=new egret.URLVariables(a)),o.addEventListener(egret.Event.COMPLETE,function(t){var e=t.target;r.call(n,e.data)},e),o.load(s)},e}();t.HttpUtil=e,__reflect(e.prototype,"easy.HttpUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.set=function(t,i){return egret.localStorage.setItem(e.getStorageName()+t,i)},e.setNumber=function(t,i){e.set(t,""+i)},e.setBoolean=function(t,i){e.set(t,i?"1":"0")},e.get=function(t){return egret.localStorage.getItem(e.getStorageName()+t)},e.getNumber=function(i){var a=egret.localStorage.getItem(e.getStorageName()+i);if(t.StringUtil.isUsage(a)){var r=parseFloat(a);if(!isNaN(r))return r}return 0},e.getInt=function(i){var a=egret.localStorage.getItem(e.getStorageName()+i);if(t.StringUtil.isUsage(a)){var r=parseInt(a);if(!isNaN(r))return r}return 0},e.getBoolean=function(i){var a=egret.localStorage.getItem(e.getStorageName()+i);return!t.StringUtil.isUsage(a)||"1"!=a&&"true"!=a?!1:!0},e.remvoe=function(t){egret.localStorage.removeItem(e.getStorageName()+t)},e.getStorageName=function(){return""==e._storageName&&(e._storageName=(""!=t.ResManager._projectName?t.ResManager._projectName:t.GlobalSetting.APP_NAME)+"_"),e._storageName},e}();e._storageName="",t.LocalStorage=e,__reflect(e.prototype,"easy.LocalStorage")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){this.hexcase=0,this.b64pad=""}return t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.any_hmac_md5=function(t,e,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),i)},t.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.rstr_hmac_md5=function(t,e){var i=this.rstr2binl(t);i.length>16&&(i=this.binl_md5(i,8*t.length));for(var a=Array(16),r=Array(16),n=0;16>n;n++)a[n]=909522486^i[n],r[n]=1549556828^i[n];var s=this.binl_md5(a.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(r.concat(s),640))},t.prototype.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var i,a=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",r="",n=0;n<t.length;n++)i=t.charCodeAt(n),r+=a.charAt(i>>>4&15)+a.charAt(15&i);return r},t.prototype.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="",r=t.length,n=0;r>n;n+=3)for(var s=t.charCodeAt(n)<<16|(r>n+1?t.charCodeAt(n+1)<<8:0)|(r>n+2?t.charCodeAt(n+2):0),o=0;4>o;o++)a+=8*n+6*o>8*t.length?this.b64pad:i.charAt(s>>>6*(3-o)&63);return a},t.prototype.rstr2any=function(t,e){var i,a,r,n,s,o=e.length,h=Array(Math.ceil(t.length/2));for(i=0;i<h.length;i++)h[i]=t.charCodeAt(2*i)<<8|t.charCodeAt(2*i+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),c=Array(l);for(a=0;l>a;a++){for(s=Array(),n=0,i=0;i<h.length;i++)n=(n<<16)+h[i],r=Math.floor(n/o),n-=r*o,(s.length>0||r>0)&&(s[s.length]=r);c[a]=n,h=s}var u="";for(i=c.length-1;i>=0;i--)u+=e.charAt(c[i]);return u},t.prototype.str2rstr_utf8=function(t){for(var e,i,a="",r=-1;++r<t.length;)e=t.charCodeAt(r),i=r+1<t.length?t.charCodeAt(r+1):0,e>=55296&&56319>=e&&i>=56320&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),r++),127>=e?a+=String.fromCharCode(e):2047>=e?a+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?a+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(a+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return a},t.prototype.str2rstr_utf16le=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i),t.charCodeAt(i)>>>8&255);return e},t.prototype.str2rstr_utf16be=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)>>>8&255,255&t.charCodeAt(i));return e},t.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(var i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e},t.prototype.binl2rstr=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},t.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,a=-271733879,r=-1732584194,n=271733878,s=0;s<t.length;s+=16){var o=i,h=a,l=r,c=n;i=this.md5_ff(i,a,r,n,t[s+0],7,-680876936),n=this.md5_ff(n,i,a,r,t[s+1],12,-389564586),r=this.md5_ff(r,n,i,a,t[s+2],17,606105819),a=this.md5_ff(a,r,n,i,t[s+3],22,-1044525330),i=this.md5_ff(i,a,r,n,t[s+4],7,-176418897),n=this.md5_ff(n,i,a,r,t[s+5],12,1200080426),r=this.md5_ff(r,n,i,a,t[s+6],17,-1473231341),a=this.md5_ff(a,r,n,i,t[s+7],22,-45705983),i=this.md5_ff(i,a,r,n,t[s+8],7,1770035416),n=this.md5_ff(n,i,a,r,t[s+9],12,-1958414417),r=this.md5_ff(r,n,i,a,t[s+10],17,-42063),a=this.md5_ff(a,r,n,i,t[s+11],22,-1990404162),i=this.md5_ff(i,a,r,n,t[s+12],7,1804603682),n=this.md5_ff(n,i,a,r,t[s+13],12,-40341101),r=this.md5_ff(r,n,i,a,t[s+14],17,-1502002290),a=this.md5_ff(a,r,n,i,t[s+15],22,1236535329),i=this.md5_gg(i,a,r,n,t[s+1],5,-165796510),n=this.md5_gg(n,i,a,r,t[s+6],9,-1069501632),r=this.md5_gg(r,n,i,a,t[s+11],14,643717713),a=this.md5_gg(a,r,n,i,t[s+0],20,-373897302),i=this.md5_gg(i,a,r,n,t[s+5],5,-701558691),n=this.md5_gg(n,i,a,r,t[s+10],9,38016083),r=this.md5_gg(r,n,i,a,t[s+15],14,-660478335),a=this.md5_gg(a,r,n,i,t[s+4],20,-405537848),i=this.md5_gg(i,a,r,n,t[s+9],5,568446438),n=this.md5_gg(n,i,a,r,t[s+14],9,-1019803690),r=this.md5_gg(r,n,i,a,t[s+3],14,-187363961),a=this.md5_gg(a,r,n,i,t[s+8],20,1163531501),i=this.md5_gg(i,a,r,n,t[s+13],5,-1444681467),n=this.md5_gg(n,i,a,r,t[s+2],9,-51403784),r=this.md5_gg(r,n,i,a,t[s+7],14,1735328473),a=this.md5_gg(a,r,n,i,t[s+12],20,-1926607734),i=this.md5_hh(i,a,r,n,t[s+5],4,-378558),n=this.md5_hh(n,i,a,r,t[s+8],11,-2022574463),r=this.md5_hh(r,n,i,a,t[s+11],16,1839030562),a=this.md5_hh(a,r,n,i,t[s+14],23,-35309556),i=this.md5_hh(i,a,r,n,t[s+1],4,-1530992060),n=this.md5_hh(n,i,a,r,t[s+4],11,1272893353),r=this.md5_hh(r,n,i,a,t[s+7],16,-155497632),a=this.md5_hh(a,r,n,i,t[s+10],23,-1094730640),i=this.md5_hh(i,a,r,n,t[s+13],4,681279174),n=this.md5_hh(n,i,a,r,t[s+0],11,-358537222),r=this.md5_hh(r,n,i,a,t[s+3],16,-722521979),a=this.md5_hh(a,r,n,i,t[s+6],23,76029189),i=this.md5_hh(i,a,r,n,t[s+9],4,-640364487),n=this.md5_hh(n,i,a,r,t[s+12],11,-421815835),r=this.md5_hh(r,n,i,a,t[s+15],16,530742520),a=this.md5_hh(a,r,n,i,t[s+2],23,-995338651),i=this.md5_ii(i,a,r,n,t[s+0],6,-198630844),n=this.md5_ii(n,i,a,r,t[s+7],10,1126891415),r=this.md5_ii(r,n,i,a,t[s+14],15,-1416354905),a=this.md5_ii(a,r,n,i,t[s+5],21,-57434055),i=this.md5_ii(i,a,r,n,t[s+12],6,1700485571),n=this.md5_ii(n,i,a,r,t[s+3],10,-1894986606),r=this.md5_ii(r,n,i,a,t[s+10],15,-1051523),a=this.md5_ii(a,r,n,i,t[s+1],21,-2054922799),i=this.md5_ii(i,a,r,n,t[s+8],6,1873313359),n=this.md5_ii(n,i,a,r,t[s+15],10,-30611744),r=this.md5_ii(r,n,i,a,t[s+6],15,-1560198380),a=this.md5_ii(a,r,n,i,t[s+13],21,1309151649),i=this.md5_ii(i,a,r,n,t[s+4],6,-145523070),n=this.md5_ii(n,i,a,r,t[s+11],10,-1120210379),r=this.md5_ii(r,n,i,a,t[s+2],15,718787259),a=this.md5_ii(a,r,n,i,t[s+9],21,-343485551),i=this.safe_add(i,o),a=this.safe_add(a,h),r=this.safe_add(r,l),n=this.safe_add(n,c)}return[i,a,r,n]},t.prototype.md5_cmn=function(t,e,i,a,r,n){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(a,n)),r),i)},t.prototype.md5_ff=function(t,e,i,a,r,n,s){return this.md5_cmn(e&i|~e&a,t,e,r,n,s)},t.prototype.md5_gg=function(t,e,i,a,r,n,s){return this.md5_cmn(e&a|i&~a,t,e,r,n,s)},t.prototype.md5_hh=function(t,e,i,a,r,n,s){return this.md5_cmn(e^i^a,t,e,r,n,s)},t.prototype.md5_ii=function(t,e,i,a,r,n,s){return this.md5_cmn(i^(e|~a),t,e,r,n,s)},t.prototype.safe_add=function(t,e){var i=(65535&t)+(65535&e),a=(t>>16)+(e>>16)+(i>>16);return a<<16|65535&i},t.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();t.MD5=e,__reflect(e.prototype,"easy.MD5")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.getCrossPoint=function(t,e,i,a){var r=0,n=0,s=0,o=0,h=e%180==0?1:e%90==0?-1:0,l=a%180==0?1:a%90==0?-1:0;0==h&&(r=Math.tan(e*Math.PI/180)),0==l&&(n=Math.tan(a*Math.PI/180));var c=Math.abs(e)+Math.abs(a);if(180==c&&0>e*a||Math.floor(e)==Math.floor(a))return null;if(0==h&&0==l)s=(r*t.x-t.y-(n*i.x-i.y))/(r-n),o=(r*i.y-i.x*r*n-(n*t.y-t.x*r*n))/(r-n);else if(0==h&&1==l)o=i.y,s=(o-t.y)/r+t.x;else if(0==h&&-1==l)s=i.x,o=(s-t.x)*r+t.y;else if(1==h&&0==l)o=t.y,s=(o-i.y)/n+i.x;else if(1==h&&-1==l)o=t.y,s=i.x;else if(-1==h&&0==l)s=t.x,o=(s-i.x)*n+i.y;else{if(-1!=h||1!=l)return null;s=t.x,o=i.y}return new egret.Point(100*s/1e3,1e3*o/1e3)},t.getAngle=function(t,e){var i=e.x-t.x,a=e.y-t.y,r=180*Math.atan2(a,i)/Math.PI;return r},t.getPos=function(t,e){var i=t.x-e.x,a=t.y-e.y,r=Math.sqrt(i*i+a*a);return r},t.lineFunc=function(t,e){if(t.x!=e.x){var i=(t.y-e.y)/(t.x-e.x),a=t.y-(t.y-e.y)/(t.x-e.x)*t.x;return new egret.Point(i,a)
}return null},t.random=function(t,e,i){return void 0===i&&(i=!0),i?Math.floor(t+(e-t)*Math.random()):t+(e-t)*Math.random()},t}();t.MathUtil=e,__reflect(e.prototype,"easy.MathUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.copyValueToTarget=function(t,e){if(console.log("src="+egret.getQualifiedClassName(t)+", target="+egret.getQualifiedClassName(e)),t&&e)for(var i in t)e.hasOwnProperty(i)&&(e[i]=t[i],console.log("1111key="+i+", value="+t[i]))},t.functionExist=function(t,e){return t&&"function"==typeof t[e]?!0:!1},t}();t.ObjectUtil=e,__reflect(e.prototype,"easy.ObjectUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){this.startPt=null,this.endPt=null,this.vertexPt=null,this.a=0,this.b=0,this.c=0}return e.prototype.getInstance=function(){return null==e._instance&&(e._instance=new t.ParabolaUtil),e._instance},e.prototype.init=function(t,e,i){void 0===i&&(i=240),this.startPt=t,this.endPt=e,this.vertexPt=new egret.Point(this.startPt.x+(this.endPt.x-this.startPt.x)/2,this.endPt.y-i);var a=this.startPt.x,r=this.endPt.x,n=this.vertexPt.x,s=this.startPt.y,o=this.endPt.y,h=this.vertexPt.y;this.b=((s-h)*(a*a-r*r)-(s-o)*(a*a-n*n))/((a-n)*(a*a-r*r)-(a-r)*(a*a-n*n)),this.a=(s-o-this.b*(a-r))/(a*a-r*r),this.c=s-this.a*a*a-this.b*a},e.prototype.getY=function(t){return this.a*t*t+this.b*t+this.c},e}();e._instance=null,t.ParabolaUtil=e,__reflect(e.prototype,"easy.ParabolaUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(e,i,a){void 0===e&&(e=5),void 0===i&&(i=2),void 0===a&&(a=[45,75,90,95]),this._totalTime=10,this._heartBeat=1,this._phaseCount=4,this._arrayLimitNode=[50,65,80,95],this._arrayLimitTime=[],this._frameNumber=t.GlobalSetting.FRAME_RATE,this._increment=0,this._decreaseFactor=1.5,this._firstRefresh=!1,this._arrayIndex=0,this._timeCount=0,this._totalCurrentLoad=0,this._currentLoad=0,this._unitTime=0,this._progressSpeedUp=!1,this._speedDataRefresh=!1,this._openSpeedDown=!1,this._totalTime=e,this._heartBeat=i,this._arrayLimitNode=a,this._phaseCount=a.length,this.reset()}return e.prototype.progress=function(){return this._progressSpeedUp&&!this._speedDataRefresh&&(this.speedUp(),this._speedDataRefresh=!0),this._timeCount++,this._timeCount>this._arrayLimitTime[this._arrayIndex]&&(this._arrayIndex++,this._timeCount=0),this._arrayIndex>=this._arrayLimitTime.length?this._progressSpeedUp?100:99:(this._arrayIndex>0?this._increment=(this._arrayLimitNode[this._arrayIndex]-this._arrayLimitNode[this._arrayIndex-1])*(Math.sin(Math.PI/2*(this._timeCount/this._arrayLimitTime[this._arrayIndex]))-Math.sin(Math.PI/2*((this._timeCount-1)/this._arrayLimitTime[this._arrayIndex]))):this._increment=this._arrayLimitNode[this._arrayIndex]*(Math.sin(Math.PI/2*(this._timeCount/this._arrayLimitTime[this._arrayIndex]))-Math.sin(Math.PI/2*((this._timeCount-1)/this._arrayLimitTime[this._arrayIndex]))),this._totalCurrentLoad+=this._increment,this._currentLoad=Math.floor(this._totalCurrentLoad),this._currentLoad>=95&&!this._openSpeedDown&&!this._progressSpeedUp&&(this.speedDown(),this._openSpeedDown=!0),this._currentLoad>=100&&(this._currentLoad=100),this._currentLoad)},e.prototype.speedUp=function(){this._timeCount=0,this._arrayIndex=this._arrayLimitNode.length-1,this._arrayLimitNode[this._arrayIndex-1]=this._currentLoad,this._openSpeedDown?this._arrayLimitTime[this._arrayIndex]=2:this._arrayLimitTime[this._arrayIndex]=2},e.prototype.speedDown=function(){this._timeCount=0,this._arrayIndex=this._arrayLimitNode.length-1,this._arrayLimitNode[this._arrayIndex-1]=this._currentLoad,this._arrayLimitNode[this._arrayIndex]=99,this._arrayLimitTime[this._arrayIndex]=8*t.GlobalSetting.FRAME_RATE/this._heartBeat},e.prototype.reset=function(){this._progressSpeedUp=!1,this._openSpeedDown=!1,this._speedDataRefresh=!1,this._firstRefresh=!0,this._timeCount=0,this._totalCurrentLoad=0,this._currentLoad=0,this._increment=0,this._unitTime=0,this._arrayIndex=0;var t=0,e=0;this._arrayLimitTime=[];for(var i=0;i<this._phaseCount;i++)t+=Math.pow(this._decreaseFactor,i);this._unitTime=Math.floor(this._totalTime*this._frameNumber/t/this._heartBeat);for(var a=1;a<this._phaseCount;a++){var r=this._unitTime*a;e+=r,this._arrayLimitTime.push(r)}var n=(this._totalTime*this._frameNumber-e)/this._heartBeat;this._arrayLimitTime.push(n)},e}();t.ProgressCalculate=e,__reflect(e.prototype,"easy.ProgressCalculate")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.shake=function(e,i,a,r,n,s,o,h,l){void 0===s&&(s=0),void 0===o&&(o=0),void 0===h&&(h=2),void 0===l&&(l=2);var c={};t.SC_SHAKE_DATA_DIC.hasOwnProperty(e)?c=t.SC_SHAKE_DATA_DIC[e]:t.SC_SHAKE_DATA_DIC[e]=c,c.disObj=e,c.duration=i,c.amplitude=a,c.directionModel=r,c.direction=n,c.recoverX=s,c.recoverY=o,c.shakeOffsetX=h,c.shakeOffsetY=l,c.startShakeTime=egret.getTimer(),c.vx=c.vx?c.vx:0,c.vy=c.vy?c.vy:0,e.removeEventListener(egret.Event.ENTER_FRAME,t.onEnterFrameHandler,t),e.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrameHandler,t)},t.clamp=function(t,e,i){return e>t?t=e:t>i&&(t=i),t},t.onEnterFrameHandler=function(e){var i=e.target,a=t.SC_SHAKE_DATA_DIC[i],r=a.duration,n=a.amplitude,s=a.directionModel,o=a.direction,h=a.recoverX,l=a.recoverY,c=a.shakeOffsetX,u=a.shakeOffsetY,_=a.vx,p=a.vy;if(egret.getTimer()-a.startShakeTime<r){var d,g=Math.random()*c-c/2,f=Math.random()*u-u/2;d=s==t.SpecialDirecitonShake?egret.Point.polar(n,o*t.AngleUnit):egret.Point.polar(n,360*Math.random()*t.AngleUnit);var m=Math.random()*d.x+d.x/2,y=Math.random()*d.y+d.y/2;_+=(40*m+120*_)/160,p+=(40*y+120*p)/160,_+=g,p+=f;var b=Math.abs(d.x/2),v=Math.abs(d.y/2);_=t.clamp(_,-b,b),p=t.clamp(p,-v,v),i.x=h+_,i.y=l+p}var T=h-i.x,E=l-i.y;if(_+=3*T,p+=3*E,_*=.3,p*=.3,i.x+=_,i.y+=p,Math.abs(T)<.1&&(i.x=h),Math.abs(E)<.1&&(i.y=l),0==T&&0==E){var w=t.SC_SHAKE_DATA_DIC[i];delete t.SC_SHAKE_DATA_DIC[i],w=null,i.removeEventListener(egret.Event.ENTER_FRAME,t.onEnterFrameHandler,t)}a.vx=_,a.vy=p},t}();e.RandomDirecitonShake="RandomDirecitonShake",e.SpecialDirecitonShake="SpecialDirecitonShake",e.AngleUnit=Math.PI/180,e.DegreeUnit=180/Math.PI,e.SC_SHAKE_DATA_DIC={},t.ShakeUtil=e,__reflect(e.prototype,"easy.ShakeUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.play=function(i,a,r,n,s){if(void 0===a&&(a=0),void 0===r&&(r=1),void 0===n&&(n=null),void 0===s&&(s=null),t.GlobalSetting.VOLUME_OPEN&&t.StringUtil.isUsage(i)){if(0==r&&e._soundDict[i])return e._soundDict[i];var o=RES.getRes(i);if(o){var h=o.play(a,r);return e._soundDict[i]={channel:h,loops:0>=r,num:r,func:n,thisObj:s},h.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),n&&s&&h.addEventListener(egret.Event.SOUND_COMPLETE,n,s),h}}return null},e.volume=function(i,a){if(t.StringUtil.isUsage(i)&&e._soundDict[i]){var r=e._soundDict[i];r.channel&&(r.channel.volume=a)}},e.onSoundComplete=function(i){var a=i.currentTarget,r=null;for(var n in e._soundDict){r=e._soundDict[n];var s=t.MyEvent.getEvent(t.EventType.SOUND_COMPLETE);if(s.addItem("name",n),s.send(),r.channel==a){r.loops||(r.num--,0==r.num&&a.hasEventListener(egret.Event.SOUND_COMPLETE)&&(a.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),delete e._soundDict[n],r.func&&r.thisObj&&a.removeEventListener(egret.Event.SOUND_COMPLETE,r.func,r.thisObj),r.func=null,r.thisObj=null,r.channel=null,delete e._soundDict[n]));break}}},e.stop=function(i){if(t.StringUtil.isUsage(i)&&e._soundDict[i]){var a=e._soundDict[i];if(a.channel){a.channel.hasEventListener(egret.Event.SOUND_COMPLETE)&&(a.channel.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),a.func&&a.thisObj&&a.channel.removeEventListener(egret.Event.SOUND_COMPLETE,a.func,a.thisObj)),a.channel.stop(),a.func=null,a.thisObj=null,a.channel=null;var r=t.MyEvent.getEvent(t.EventType.SOUND_STOP);r.addItem("name",i),r.send(),delete e._soundDict[i]}}},e}();e._soundDict={},t.Sound=e,__reflect(e.prototype,"easy.Sound")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.drawErase=function(t,e){var i=new egret.DisplayObjectContainer;e.blendMode=egret.BlendMode.ERASE,i.addChild(t),i.addChild(e);var a=new egret.RenderTexture;return a.drawToTexture(i),i.removeChildren(),a},e.erase=function(t,e,i,a,r){void 0===e&&(e=0),void 0===i&&(i=5),void 0===a&&(a=5),void 0===r&&(r=40),this._eraseShape=new egret.Shape,this._sendEraseChangeArray=[95,90,85,80,70,60,50],this._hasComplete=!1,this._eraseObject=t,this._eraseTexture=t.texture,this._eraseLineWeight=r,this._gapX=i,this._gapY=a,e&&(this._limitCheckNum=e),t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBeginDraw,this),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMoveDraw,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.onToucchEndDrawCircle,this),this.createAllRect()},e.createAllRect=function(){this._allCheckRect=[],this._hasCheck=0;var t=Math.floor(this._eraseObject.width/this._gapX),e=Math.floor(this._eraseObject.height/this._gapY);this._totalXNum=t,this._totalYNum=e,this._totalRect=t*e;for(var i=0;e>i;i++){for(var a=[],r=0;t>r;r++)a.push(1);this._allCheckRect.push(a)}},e.onTouchBeginDraw=function(t){this._drawEnable||(this._drawEnable=!0,this._drawPoint=[],this._drawPoint.push(new egret.Point(t.localX,t.localY)))},e.onTouchMoveDraw=function(t){this._drawEnable&&(this._drawPoint.push(new egret.Point(t.localX,t.localY)),this.onDrawLine())},e.onDrawLine=function(){if(this._drawEnable&&this._drawPoint.length>0){var e=this._drawPoint[this._drawPoint.length-1],i=this._drawPoint[this._drawPoint.length-2];this._eraseShape.graphics.beginFill(0,0),this._eraseShape.graphics.lineStyle(this._eraseLineWeight,0,1,!0),this._eraseShape.graphics.moveTo(i.x,i.y),this._eraseShape.graphics.lineTo(e.x,e.y),this._eraseShape.graphics.endFill();var a=Math.min(i.x,e.x),r=Math.max(e.x,i.x),n=Math.min(e.y-this._eraseLineWeight/2,i.y-this._eraseLineWeight/2),s=Math.max(e.y+this._eraseLineWeight/2,i.y+this._eraseLineWeight/2);this.checkRect(a,n,r-a,s-n),t.HeartBeat.addListener(this,this.onErase,10)}},e.onErase=function(){var t=new egret.Bitmap;t.texture=this._eraseTexture,this._eraseObject.texture=this.drawErase(t,this._eraseShape)},e.checkRect=function(t,e,i,a){for(var r=Math.floor(e/this._gapY),n=Math.floor(t/this._gapX),s=Math.floor((t+i)/this._gapX),o=Math.floor((e+a)/this._gapY),h=r;o>=h&&!(h>=this._totalYNum);h++)for(var l=n;s>=l;l++)l>=this._totalXNum||this._allCheckRect[h][l]&&(this._allCheckRect[h][l]=0,this._hasCheck++,this.sendCheckEvent(),console.log("hasCheck="+this._hasCheck/this._totalRect))},e.sendCheckEvent=function(){if(!this._hasComplete){var e=Math.ceil(100*this._hasCheck/this._totalRect);if(this._limitCheckNum&&e>=this._limitCheckNum)t.MyEvent.sendEvent(t.EventType.ERASE_COMPLETE),this._hasComplete=!0;else for(var i=this._sendEraseChangeArray.length,a=0;i>a;a++)if(e>=this._sendEraseChangeArray[a]&&this._sendEraseChangeArray[a]){this._sendEraseChangeArray[a]=0,0==a&&(t.MyEvent.sendEvent(t.EventType.ERASE_COMPLETE),this._hasComplete=!0);var r=new t.MyEvent(t.EventType.ERASE_CHANGE);r.addItem("hasCheck",e),r.send();break}}},e.onToucchEndDrawCircle=function(){this._eraseShape.graphics.endFill(),this._drawEnable=!1},e}();e._eraseShape=null,e._eraseObject=null,e._eraseTexture=null,e._drawEnable=!1,e._drawPoint=[],e._eraseLineWeight=0,e._allCheckRect=[],e._hasCheck=0,e._gapX=5,e._gapY=5,e._totalRect=0,e._totalXNum=0,e._totalYNum=0,e._limitCheckNum=0,e._hasComplete=!1,e._sendEraseChangeArray=[],t.SpriteUtils=e,__reflect(e.prototype,"easy.SpriteUtils")}(easy||(easy={}));var easy;!function(t){var e=function(){function e(){}return e.dump=function(t){for(var e="",i="",a=0;a<t.length;a++){a%16==0&&(e+=("0000"+a.toString(16)).substring(-4,4)+" "),a%8==0&&(e+=" ");var r=t[a];e+=("0"+r.toString(16)).substring(-2,2)+" ",((a+1)%16==0||a==t.length-1)&&(e+=" |"+i+"|\n",i="")}return e},e.isUsage=function(t){return void 0==t||null==t||""==t||"undefined"==t||""==t.trim()?!1:!0},e.randomRange=function(t,e){return void 0===e&&(e=0),Math.floor(t+Math.random()*(e-t))},e.changToMoney=function(t,e){void 0===e&&(e=!1);var i=0,a=0,r="";for(e&&t.charCodeAt(0)>=48&&t.charCodeAt(0)<=57&&(t="+"+t),i=t.length-1;i>=0;i--)r=t.charAt(i)+r,t.charCodeAt(i)>=48&&t.charCodeAt(i)<=57?t.charCodeAt(i-1)>=48&&t.charCodeAt(i-1)<=57&&(a++,3==a&&(r=","+r,a=0)):a=0;return r},e.getMatchesCount=function(t,e){var i=0,a=e.lastIndexOf(t),r=e.indexOf(t);if(r==a&&a>=0)return 1;if(r!=a&&a>=0)for(++i;r!=a;)r=e.indexOf(t,r+t.length-1),-1!=r&&++i;return i},e.changeIntToText=function(t){void 0===t&&(t=0);var e="";return e+=t>=1e4?Math.ceil(t/1e4).toFixed(0)+"万":0>t?"0":t.toFixed(0)},e.convertColor2Html=function(t){void 0===t&&(t=0);var e="#000000",i="";try{for(i=t.toString(16);i.length<6;)i="0"+i;e="#"+i}catch(a){}return e},e.htmlESC=function(t){if(e.isUsage(t)){var i=/&/g,a=/</g,r=/>/g;return t=t.replace(i,"&amp;"),t=t.replace(a,"&lt;"),t=t.replace(r,"&gt;")}return null},e.replaceNumberToArray=function(t){for(var e=new Array,i=t.toString(),a=i.length,r=0;a>r;r++)e.push(i.charAt(r));return e},e.replace=function(t,i,a){if(!e.isUsage(t))return"";for(;t.indexOf(i)>=0;)t=t.replace(i,a);return t},e.spliteStrArr=function(t,i){var a=[];if(e.isUsage(t))for(var r=t.split(i),n=0;n<r.length;n++)e.isUsage(r[n])&&a.push(r[n]);return a},e.parserStrToObj=function(i,a,r,n){void 0===a&&(a=null),void 0===r&&(r="@"),void 0===n&&(n=";");var s={};if(a&&(s=a),!e.isUsage(i))return s;for(var o=e.spliteStrArr(i,n),h=null,l=0;l<o.length;l++)if(h=e.spliteStrArr(o[l],r),2==h.length){var c=typeof s[h[0]];"number"==c?s[h[0]]=parseInt(h[1]):"boolean"==c?s[h[0]]="true"==h[1]:s[h[0]]instanceof Array?s[h[0]]=t.StringUtil.spliteStrArr(h[1],","):s[h[0]]=h[1]}return s},e.parserObjToStr=function(t,e,i){void 0===e&&(e="@"),void 0===i&&(i=";");var a="";for(var r in t)"__class__"!=r&&"hashCode"!=r&&"__types__"!=r&&"__proto__"!=r&&(t[r]instanceof Function||(a+=r+e+t[r]+i));return a},e.isPhone=function(t){if(e.isUsage(t)&&11==t.length){var i=parseInt(t);if(""+i==t)return!0}return!1},e.formatTime=function(t,e){void 0===e&&(e=":");var i="",a=Math.floor(t/60);i=10>a?"0"+a:""+a,i+=e;var r=Math.floor(t%60);return i+=10>r?"0"+r:""+r},e.dateFormat=function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},e}();t.StringUtil=e,__reflect(e.prototype,"easy.StringUtil")}(easy||(easy={}));var easy;!function(t){var e=function(){function t(){}return t.newUUID=function(){var t=function(){for(var t=Math.pow(16,4)-1,e=Math.floor(Math.random()*t),i=e.toString(16);i.length<4;)i="0"+i;return i},e=t()+t(),i=t(),a=t(),r=t(),n=t()+t()+t();return e+"-"+i+"-"+a+"-"+r+"-"+n},t.getUrlByName=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i");if(location){var i=location.search.substr(1).match(e);if(null!=i)return decodeURI(decodeURIComponent(decodeURI(i[2])))}return""},t}();t.UUID=e,__reflect(e.prototype,"easy.UUID")}(easy||(easy={}));var game2048;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.ui=new t.tempLate},Object.defineProperty(i.prototype,"ui",{get:function(){return this._ui},set:function(t){this.setUI(t)},enumerable:!0,configurable:!0}),i.prototype.initData=function(){e.prototype.initData.call(this)},i.prototype._img=function(t){this.ui.img.texture=easy.ResManager.getTexture("pictu"+t)},i.prototype.enter=function(){e.prototype.enter.call(this)},i.prototype.enterTransition=function(){e.prototype.enterTransition.call(this)},i.prototype.outer=function(){e.prototype.outer.call(this)},i.prototype.outerTransition=function(){e.prototype.outerTransition.call(this)},i.prototype.validateNow=function(){e.prototype.validateNow.call(this)},i}(easy.Template);t.tempLateTemplate=e,__reflect(e.prototype,"game2048.tempLateTemplate")}(game2048||(game2048={}));var game2048;!function(t){var e=function(t){function e(){var e=t.call(this,!0)||this;return e.resSpriteSheet="",e.resTexture=[],e.resGroup=[],e.resFiles=[],e.spriteSheet=null,e.img=null,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.showBg=!1,this.width=90,this.height=90,this.img=new easy.Image(!0),this.img.name="img",this.addChild(this.img),this.img.width=90,this.img.height=90},e.prototype.initData=function(){t.prototype.initData.call(this)},e.prototype.enter=function(){},e.prototype.outer=function(){},e.prototype.validateNow=function(){this.drawDelay=!1,this.img.drawDelay=!1},e}(easy.Group);t.tempLate=e,__reflect(e.prototype,"game2048.tempLate")}(game2048||(game2048={}));var Main=function(t){function e(){var e=t.call(this)||this;return e.loadResAllComplete=!1,e._isEasyGameOk=!1,e._isSoundOk=!1,e._isProjectUIOk=!1,e._isCreateScene=!1,e._isLoadingViewOk=!1,e._progressCalculate=null,e._isViewEnter=!1,e.loadResAllComplete=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){easy.GlobalSetting.initData(),easy.ResManager.loadConfig(easy.GlobalSetting.CDN_RES+"loading_main.json",["loading_main"],this.onResLoadingMianComplete,this),easy.ResManager.loadConfig(easy.GlobalSetting.CDN_RES+"loading_view.json",["loading_view"],this.onResLoadingViewComplete,this),easy.EventManager.addEventListener(easy.EventType.VIEW_ENTER,this.onHiddenloadingMain,this)},e.prototype.onResLoadingViewComplete=function(t){this._isLoadingViewOk=!0},e.prototype.onResLoadingMianComplete=function(t){RES.isGroupLoaded("loading_main")&&(this.loadingMain=new LoadingUI,this.stage.addChild(this.loadingMain),this.loadingMain.width=easy.GlobalSetting.DISPLAY_WIDTH,this.loadingMain.height=easy.GlobalSetting.DISPLAY_HEIGHT,this.loadingMain.enter(),this._progressCalculate=new easy.ProgressCalculate(10),easy.HeartBeat.addListener(this,this.onHbProgress,2),easy.ResManager.loadConfig(easy.GlobalSetting.CDN_RES+"resource.json",["group_easygame_config"],this.onResLoadGameConfigComplete,this),easy.ResManager.loadResFile("game2048"),easy.EventManager.addEventListener(easy.EventType.PROJECT_RES_DOWNLOADED,this.onProjectResDownloaded,this))},e.prototype.onHbProgress=function(){var t=this._progressCalculate.progress();this._progressCalculate._progressSpeedUp=this.loadResAllComplete&&this._isProjectUIOk&&this._isViewEnter,this.loadingMain.setProgress(t,100),this.loadResAllComplete&&!this._isCreateScene&&this._isLoadingViewOk&&this.createScene(),100==t&&(easy.HeartBeat.removeListener(this,this.onHbProgress),this.removeLoadingUI())},e.prototype.removeLoadingUI=function(){this.loadingMain&&this.loadingMain.outer()},e.prototype.onProjectResDownloaded=function(t){easy.EventManager.removeEventListener(easy.EventType.PROJECT_RES_DOWNLOADED,this.onProjectResDownloaded,this),this._isProjectUIOk=!0,this.checkAllResourceLoaded()},e.prototype.onResLoadGameConfigComplete=function(t){RES.isGroupLoaded("group_easygame_config")&&(this._isEasyGameOk=!0,easy.GlobalSetting.FRAME_RATE=60,easy.EasyGame.init(),easy.ViewManager.defaultLoadingClass=easy.DefaultLoadingView,easy.PopupManager.defaultLoadingClass=easy.DefaultLoadingView),this.checkAllResourceLoaded()},e.prototype.onResLoadSoundComplete=function(t){RES.isGroupLoaded("sound")&&(this._isSoundOk=!0,easy.Sound.play("sound_bg",0,0))},e.prototype.checkAllResourceLoaded=function(){this._isEasyGameOk&&this._isProjectUIOk&&(easy.GlobalSetting.APP_STORAGE==easy.GlobalSetting.STORAGE_NET||easy.GlobalSetting.APP_STORAGE==easy.GlobalSetting.STORAGE_LOCAL_NET?this.loadDataFromNet():this.loadResAllComplete=!0)},e.prototype.onHiddenloadingMain=function(t){this._isViewEnter=!0,easy.EventManager.removeEventListener(easy.EventType.VIEW_ENTER,this.onHiddenloadingMain,this),easy.ResManager.addGroupCompleteListener("sound",this.onResLoadSoundComplete,this)},e.prototype.loadDataFromNet=function(){},e.prototype.loadDataFromNetComplete=function(){this.loadResAllComplete=!0},e.prototype.createScene=function(){this._isCreateScene||(this._isCreateScene=!0,easy.ViewManager.show(game2048.moveGameView,null,!1))},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");